var e7=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var hue=e7((bue,Ah)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l1={exports:{}},qf={},c1={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function t7(){if(dT)return Pt;dT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function E(D,O,N){this.props=D,this.context=O,this.refs=w,this.updater=N||g}E.prototype.isReactComponent={},E.prototype.setState=function(D,O){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,O,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function y(){}y.prototype=E.prototype;function _(D,O,N){this.props=D,this.context=O,this.refs=w,this.updater=N||g}var x=_.prototype=new y;x.constructor=_,b(x,E.prototype),x.isPureReactComponent=!0;var P=Array.isArray,M=Object.prototype.hasOwnProperty,L={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function j(D,O,N){var H,z={},Y=null,ee=null;if(O!=null)for(H in O.ref!==void 0&&(ee=O.ref),O.key!==void 0&&(Y=""+O.key),O)M.call(O,H)&&!K.hasOwnProperty(H)&&(z[H]=O[H]);var J=arguments.length-2;if(J===1)z.children=N;else if(1<J){for(var oe=Array(J),se=0;se<J;se++)oe[se]=arguments[se+2];z.children=oe}if(D&&D.defaultProps)for(H in J=D.defaultProps,J)z[H]===void 0&&(z[H]=J[H]);return{$$typeof:t,type:D,key:Y,ref:ee,props:z,_owner:L.current}}function G(D,O){return{$$typeof:t,type:D.type,key:O,ref:D.ref,props:D.props,_owner:D._owner}}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function W(D){var O={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(N){return O[N]})}var q=/\/+/g;function k(D,O){return typeof D=="object"&&D!==null&&D.key!=null?W(""+D.key):O.toString(36)}function C(D,O,N,H,z){var Y=typeof D;(Y==="undefined"||Y==="boolean")&&(D=null);var ee=!1;if(D===null)ee=!0;else switch(Y){case"string":case"number":ee=!0;break;case"object":switch(D.$$typeof){case t:case e:ee=!0}}if(ee)return ee=D,z=z(ee),D=H===""?"."+k(ee,0):H,P(z)?(N="",D!=null&&(N=D.replace(q,"$&/")+"/"),C(z,O,N,"",function(se){return se})):z!=null&&(V(z)&&(z=G(z,N+(!z.key||ee&&ee.key===z.key?"":(""+z.key).replace(q,"$&/")+"/")+D)),O.push(z)),1;if(ee=0,H=H===""?".":H+":",P(D))for(var J=0;J<D.length;J++){Y=D[J];var oe=H+k(Y,J);ee+=C(Y,O,N,oe,z)}else if(oe=m(D),typeof oe=="function")for(D=oe.call(D),J=0;!(Y=D.next()).done;)Y=Y.value,oe=H+k(Y,J++),ee+=C(Y,O,N,oe,z);else if(Y==="object")throw O=String(D),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return ee}function S(D,O,N){if(D==null)return D;var H=[],z=0;return C(D,H,"","",function(Y){return O.call(N,Y,z++)}),H}function T(D){if(D._status===-1){var O=D._result;O=O(),O.then(function(N){(D._status===0||D._status===-1)&&(D._status=1,D._result=N)},function(N){(D._status===0||D._status===-1)&&(D._status=2,D._result=N)}),D._status===-1&&(D._status=0,D._result=O)}if(D._status===1)return D._result.default;throw D._result}var R={current:null},B={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:B,ReactCurrentOwner:L};function U(){throw Error("act(...) is not supported in production builds of React.")}return Pt.Children={map:S,forEach:function(D,O,N){S(D,function(){O.apply(this,arguments)},N)},count:function(D){var O=0;return S(D,function(){O++}),O},toArray:function(D){return S(D,function(O){return O})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Pt.Component=E,Pt.Fragment=n,Pt.Profiler=i,Pt.PureComponent=_,Pt.StrictMode=r,Pt.Suspense=l,Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Pt.act=U,Pt.cloneElement=function(D,O,N){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var H=b({},D.props),z=D.key,Y=D.ref,ee=D._owner;if(O!=null){if(O.ref!==void 0&&(Y=O.ref,ee=L.current),O.key!==void 0&&(z=""+O.key),D.type&&D.type.defaultProps)var J=D.type.defaultProps;for(oe in O)M.call(O,oe)&&!K.hasOwnProperty(oe)&&(H[oe]=O[oe]===void 0&&J!==void 0?J[oe]:O[oe])}var oe=arguments.length-2;if(oe===1)H.children=N;else if(1<oe){J=Array(oe);for(var se=0;se<oe;se++)J[se]=arguments[se+2];H.children=J}return{$$typeof:t,type:D.type,key:z,ref:Y,props:H,_owner:ee}},Pt.createContext=function(D){return D={$$typeof:s,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},Pt.createElement=j,Pt.createFactory=function(D){var O=j.bind(null,D);return O.type=D,O},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(D){return{$$typeof:a,render:D}},Pt.isValidElement=V,Pt.lazy=function(D){return{$$typeof:d,_payload:{_status:-1,_result:D},_init:T}},Pt.memo=function(D,O){return{$$typeof:u,type:D,compare:O===void 0?null:O}},Pt.startTransition=function(D){var O=B.transition;B.transition={};try{D()}finally{B.transition=O}},Pt.unstable_act=U,Pt.useCallback=function(D,O){return R.current.useCallback(D,O)},Pt.useContext=function(D){return R.current.useContext(D)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(D){return R.current.useDeferredValue(D)},Pt.useEffect=function(D,O){return R.current.useEffect(D,O)},Pt.useId=function(){return R.current.useId()},Pt.useImperativeHandle=function(D,O,N){return R.current.useImperativeHandle(D,O,N)},Pt.useInsertionEffect=function(D,O){return R.current.useInsertionEffect(D,O)},Pt.useLayoutEffect=function(D,O){return R.current.useLayoutEffect(D,O)},Pt.useMemo=function(D,O){return R.current.useMemo(D,O)},Pt.useReducer=function(D,O,N){return R.current.useReducer(D,O,N)},Pt.useRef=function(D){return R.current.useRef(D)},Pt.useState=function(D){return R.current.useState(D)},Pt.useSyncExternalStore=function(D,O,N){return R.current.useSyncExternalStore(D,O,N)},Pt.useTransition=function(){return R.current.useTransition()},Pt.version="18.3.1",Pt}var fT;function Rv(){return fT||(fT=1,c1.exports=t7()),c1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function n7(){if(hT)return qf;hT=1;var t=Rv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var d,h={},m=null,g=null;u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!o.hasOwnProperty(d)&&(h[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:e,type:a,key:m,ref:g,props:h,_owner:i.current}}return qf.Fragment=n,qf.jsx=s,qf.jsxs=s,qf}var pT;function r7(){return pT||(pT=1,l1.exports=n7()),l1.exports}var pe=r7(),x0={},u1={exports:{}},ni={},d1={exports:{}},f1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function i7(){return mT||(mT=1,function(t){function e(B,F){var U=B.length;B.push(F);e:for(;0<U;){var D=U-1>>>1,O=B[D];if(0<i(O,F))B[D]=F,B[U]=O,U=D;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],U=B.pop();if(U!==F){B[0]=U;e:for(var D=0,O=B.length,N=O>>>1;D<N;){var H=2*(D+1)-1,z=B[H],Y=H+1,ee=B[Y];if(0>i(z,U))Y<O&&0>i(ee,z)?(B[D]=ee,B[Y]=U,D=Y):(B[D]=z,B[H]=U,D=H);else if(Y<O&&0>i(ee,U))B[D]=ee,B[Y]=U,D=Y;else break e}}return F}function i(B,F){var U=B.sortIndex-F.sortIndex;return U!==0?U:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,m=3,g=!1,b=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=B)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function P(B){if(w=!1,x(B),!b)if(n(l)!==null)b=!0,T(M);else{var F=n(u);F!==null&&R(P,F.startTime-B)}}function M(B,F){b=!1,w&&(w=!1,y(j),j=-1),g=!0;var U=m;try{for(x(F),h=n(l);h!==null&&(!(h.expirationTime>F)||B&&!W());){var D=h.callback;if(typeof D=="function"){h.callback=null,m=h.priorityLevel;var O=D(h.expirationTime<=F);F=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(l)&&r(l),x(F)}else r(l);h=n(l)}if(h!==null)var N=!0;else{var H=n(u);H!==null&&R(P,H.startTime-F),N=!1}return N}finally{h=null,m=U,g=!1}}var L=!1,K=null,j=-1,G=5,V=-1;function W(){return!(t.unstable_now()-V<G)}function q(){if(K!==null){var B=t.unstable_now();V=B;var F=!0;try{F=K(!0,B)}finally{F?k():(L=!1,K=null)}}else L=!1}var k;if(typeof _=="function")k=function(){_(q)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,S=C.port2;C.port1.onmessage=q,k=function(){S.postMessage(null)}}else k=function(){E(q,0)};function T(B){K=B,L||(L=!0,k())}function R(B,F){j=E(function(){B(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,T(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var U=m;m=F;try{return B()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=m;m=B;try{return F()}finally{m=U}},t.unstable_scheduleCallback=function(B,F,U){var D=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?D+U:D):U=D,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=U+O,B={id:d++,callback:F,priorityLevel:B,startTime:U,expirationTime:O,sortIndex:-1},U>D?(B.sortIndex=U,e(u,B),n(l)===null&&B===n(u)&&(w?(y(j),j=-1):w=!0,R(P,U-D))):(B.sortIndex=O,e(l,B),b||g||(b=!0,T(M))),B},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(B){var F=m;return function(){var U=m;m=F;try{return B.apply(this,arguments)}finally{m=U}}}}(f1)),f1}var gT;function o7(){return gT||(gT=1,d1.exports=i7()),d1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function s7(){if(yT)return ni;yT=1;var t=Rv(),e=o7();function n(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(c,f){s(c,f),s(c+"Capture",f)}function s(c,f){for(i[c]=f,c=0;c<f.length;c++)r.add(f[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(c){return l.call(h,c)?!0:l.call(d,c)?!1:u.test(c)?h[c]=!0:(d[c]=!0,!1)}function g(c,f,p,v){if(p!==null&&p.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,f,p,v){if(f===null||typeof f>"u"||g(c,f,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function w(c,f,p,v,A,I,$){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=v,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=c,this.type=f,this.sanitizeURL=I,this.removeEmptyString=$}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){E[c]=new w(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];E[f]=new w(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){E[c]=new w(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){E[c]=new w(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){E[c]=new w(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){E[c]=new w(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){E[c]=new w(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){E[c]=new w(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){E[c]=new w(c,5,!1,c.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function _(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(y,_);E[f]=new w(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(y,_);E[f]=new w(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(y,_);E[f]=new w(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){E[c]=new w(c,1,!1,c.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){E[c]=new w(c,1,!1,c.toLowerCase(),null,!0,!0)});function x(c,f,p,v){var A=E.hasOwnProperty(f)?E[f]:null;(A!==null?A.type!==0:v||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(b(f,p,A,v)&&(p=null),v||A===null?m(f)&&(p===null?c.removeAttribute(f):c.setAttribute(f,""+p)):A.mustUseProperty?c[A.propertyName]=p===null?A.type===3?!1:"":p:(f=A.attributeName,v=A.attributeNamespace,p===null?c.removeAttribute(f):(A=A.type,p=A===3||A===4&&p===!0?"":""+p,v?c.setAttributeNS(v,f,p):c.setAttribute(f,p))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),L=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),W=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),B=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var U=Object.assign,D;function O(c){if(D===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);D=f&&f[1]||""}return`
`+D+c}var N=!1;function H(c,f){if(!c||N)return"";N=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(he){var v=he}Reflect.construct(c,[],f)}else{try{f.call()}catch(he){v=he}c.call(f.prototype)}else{try{throw Error()}catch(he){v=he}c()}}catch(he){if(he&&v&&typeof he.stack=="string"){for(var A=he.stack.split(`
`),I=v.stack.split(`
`),$=A.length-1,X=I.length-1;1<=$&&0<=X&&A[$]!==I[X];)X--;for(;1<=$&&0<=X;$--,X--)if(A[$]!==I[X]){if($!==1||X!==1)do if($--,X--,0>X||A[$]!==I[X]){var ne=`
`+A[$].replace(" at new "," at ");return c.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",c.displayName)),ne}while(1<=$&&0<=X);break}}}finally{N=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?O(c):""}function z(c){switch(c.tag){case 5:return O(c.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return c=H(c.type,!1),c;case 11:return c=H(c.type.render,!1),c;case 1:return c=H(c.type,!0),c;default:return""}}function Y(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case K:return"Fragment";case L:return"Portal";case G:return"Profiler";case j:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case W:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case q:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return f=c.displayName||null,f!==null?f:Y(c.type)||"Memo";case T:f=c._payload,c=c._init;try{return Y(c(f))}catch{}}return null}function ee(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(f);case 8:return f===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function J(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function oe(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function se(c){var f=oe(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),v=""+c[f];if(!c.hasOwnProperty(f)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,I=p.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return A.call(this)},set:function($){v=""+$,I.call(this,$)}}),Object.defineProperty(c,f,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function($){v=""+$},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function ve(c){c._valueTracker||(c._valueTracker=se(c))}function de(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var p=f.getValue(),v="";return c&&(v=oe(c)?c.checked?"true":"false":c.value),c=v,c!==p?(f.setValue(c),!0):!1}function Oe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function je(c,f){var p=f.checked;return U({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??c._wrapperState.initialChecked})}function we(c,f){var p=f.defaultValue==null?"":f.defaultValue,v=f.checked!=null?f.checked:f.defaultChecked;p=J(f.value!=null?f.value:p),c._wrapperState={initialChecked:v,initialValue:p,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function _e(c,f){f=f.checked,f!=null&&x(c,"checked",f,!1)}function Ee(c,f){_e(c,f);var p=J(f.value),v=f.type;if(p!=null)v==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(v==="submit"||v==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?Re(c,f.type,p):f.hasOwnProperty("defaultValue")&&Re(c,f.type,J(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function Ae(c,f,p){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var v=f.type;if(!(v!=="submit"&&v!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,p||f===c.value||(c.value=f),c.defaultValue=f}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function Re(c,f,p){(f!=="number"||Oe(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var $e=Array.isArray;function Ke(c,f,p,v){if(c=c.options,f){f={};for(var A=0;A<p.length;A++)f["$"+p[A]]=!0;for(p=0;p<c.length;p++)A=f.hasOwnProperty("$"+c[p].value),c[p].selected!==A&&(c[p].selected=A),A&&v&&(c[p].defaultSelected=!0)}else{for(p=""+J(p),f=null,A=0;A<c.length;A++){if(c[A].value===p){c[A].selected=!0,v&&(c[A].defaultSelected=!0);return}f!==null||c[A].disabled||(f=c[A])}f!==null&&(f.selected=!0)}}function Q(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function re(c,f){var p=f.value;if(p==null){if(p=f.children,f=f.defaultValue,p!=null){if(f!=null)throw Error(n(92));if($e(p)){if(1<p.length)throw Error(n(93));p=p[0]}f=p}f==null&&(f=""),p=f}c._wrapperState={initialValue:J(p)}}function le(c,f){var p=J(f.value),v=J(f.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),f.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),v!=null&&(c.defaultValue=""+v)}function Ce(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function Ie(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?Ie(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var ze,xt=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,p,v,A){MSApp.execUnsafeLocalFunction(function(){return c(f,p,v,A)})}:c}(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=ze.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function Gt(c,f){if(f){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=f;return}}c.textContent=f}var Mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sa=["Webkit","ms","Moz","O"];Object.keys(Mt).forEach(function(c){Sa.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),Mt[f]=Mt[c]})});function uo(c,f,p){return f==null||typeof f=="boolean"||f===""?"":p||typeof f!="number"||f===0||Mt.hasOwnProperty(c)&&Mt[c]?(""+f).trim():f+"px"}function fo(c,f){c=c.style;for(var p in f)if(f.hasOwnProperty(p)){var v=p.indexOf("--")===0,A=uo(p,f[p],v);p==="float"&&(p="cssFloat"),v?c.setProperty(p,A):c[p]=A}}var Kl=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mi(c,f){if(f){if(Kl[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Li(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=null;function Ss(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var uf=null,As=null,Aa=null;function df(c){if(c=Rf(c)){if(typeof uf!="function")throw Error(n(280));var f=c.stateNode;f&&(f=Fm(f),uf(c.stateNode,c.type,f))}}function ql(c){As?Aa?Aa.push(c):Aa=[c]:As=c}function Gl(){if(As){var c=As,f=Aa;if(Aa=As=null,df(c),f)for(c=0;c<f.length;c++)df(f[c])}}function ym(c,f){return c(f)}function vm(){}var te=!1;function ae(c,f,p){if(te)return c(f,p);te=!0;try{return ym(c,f,p)}finally{te=!1,(As!==null||Aa!==null)&&(vm(),Gl())}}function me(c,f){var p=c.stateNode;if(p===null)return null;var v=Fm(p);if(v===null)return null;p=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var De=!1;if(a)try{var He={};Object.defineProperty(He,"passive",{get:function(){De=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch{De=!1}function it(c,f,p,v,A,I,$,X,ne){var he=Array.prototype.slice.call(arguments,3);try{f.apply(p,he)}catch(Ne){this.onError(Ne)}}var lt=!1,Ye=null,rt=!1,ot=null,bt={onError:function(c){lt=!0,Ye=c}};function st(c,f,p,v,A,I,$,X,ne){lt=!1,Ye=null,it.apply(bt,arguments)}function St(c,f,p,v,A,I,$,X,ne){if(st.apply(this,arguments),lt){if(lt){var he=Ye;lt=!1,Ye=null}else throw Error(n(198));rt||(rt=!0,ot=he)}}function Dt(c){var f=c,p=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(p=f.return),c=f.return;while(c)}return f.tag===3?p:null}function wn(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function Fn(c){if(Dt(c)!==c)throw Error(n(188))}function Pr(c){var f=c.alternate;if(!f){if(f=Dt(c),f===null)throw Error(n(188));return f!==c?null:c}for(var p=c,v=f;;){var A=p.return;if(A===null)break;var I=A.alternate;if(I===null){if(v=A.return,v!==null){p=v;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===p)return Fn(A),c;if(I===v)return Fn(A),f;I=I.sibling}throw Error(n(188))}if(p.return!==v.return)p=A,v=I;else{for(var $=!1,X=A.child;X;){if(X===p){$=!0,p=A,v=I;break}if(X===v){$=!0,v=A,p=I;break}X=X.sibling}if(!$){for(X=I.child;X;){if(X===p){$=!0,p=I,v=A;break}if(X===v){$=!0,v=I,p=A;break}X=X.sibling}if(!$)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:f}function Lt(c){return c=Pr(c),c!==null?Ca(c):null}function Ca(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=Ca(c);if(f!==null)return f;c=c.sibling}return null}var Fo=e.unstable_scheduleCallback,ka=e.unstable_cancelCallback,Wr=e.unstable_shouldYield,Wl=e.unstable_requestPaint,Xt=e.unstable_now,ff=e.unstable_getCurrentPriorityLevel,ho=e.unstable_ImmediatePriority,Yl=e.unstable_UserBlockingPriority,$t=e.unstable_NormalPriority,Yr=e.unstable_LowPriority,po=e.unstable_IdlePriority,Cs=null,Qr=null;function bn(c){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Cs,c,void 0,(c.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:v9,wm=Math.log,Tw=Math.LN2;function v9(c){return c>>>=0,c===0?32:31-(wm(c)/Tw|0)|0}var bm=64,Em=4194304;function hf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function _m(c,f){var p=c.pendingLanes;if(p===0)return 0;var v=0,A=c.suspendedLanes,I=c.pingedLanes,$=p&268435455;if($!==0){var X=$&~A;X!==0?v=hf(X):(I&=$,I!==0&&(v=hf(I)))}else $=p&~A,$!==0?v=hf($):I!==0&&(v=hf(I));if(v===0)return 0;if(f!==0&&f!==v&&(f&A)===0&&(A=v&-v,I=f&-f,A>=I||A===16&&(I&4194240)!==0))return f;if((v&4)!==0&&(v|=p&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=v;0<f;)p=31-zn(f),A=1<<p,v|=c[p],f&=~A;return v}function w9(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b9(c,f){for(var p=c.suspendedLanes,v=c.pingedLanes,A=c.expirationTimes,I=c.pendingLanes;0<I;){var $=31-zn(I),X=1<<$,ne=A[$];ne===-1?((X&p)===0||(X&v)!==0)&&(A[$]=w9(X,f)):ne<=f&&(c.expiredLanes|=X),I&=~X}}function Iw(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function HA(){var c=bm;return bm<<=1,(bm&4194240)===0&&(bm=64),c}function Pw(c){for(var f=[],p=0;31>p;p++)f.push(c);return f}function pf(c,f,p){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-zn(f),c[f]=p}function E9(c,f){var p=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var v=c.eventTimes;for(c=c.expirationTimes;0<p;){var A=31-zn(p),I=1<<A;f[A]=0,v[A]=-1,c[A]=-1,p&=~I}}function Rw(c,f){var p=c.entangledLanes|=f;for(c=c.entanglements;p;){var v=31-zn(p),A=1<<v;A&f|c[v]&f&&(c[v]|=f),p&=~A}}var Jt=0;function VA(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var zA,Mw,KA,qA,GA,Ow=!1,xm=[],Ta=null,Ia=null,Pa=null,mf=new Map,gf=new Map,Ra=[],_9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WA(c,f){switch(c){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":mf.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(f.pointerId)}}function yf(c,f,p,v,A,I){return c===null||c.nativeEvent!==I?(c={blockedOn:f,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[A]},f!==null&&(f=Rf(f),f!==null&&Mw(f)),c):(c.eventSystemFlags|=v,f=c.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),c)}function x9(c,f,p,v,A){switch(f){case"focusin":return Ta=yf(Ta,c,f,p,v,A),!0;case"dragenter":return Ia=yf(Ia,c,f,p,v,A),!0;case"mouseover":return Pa=yf(Pa,c,f,p,v,A),!0;case"pointerover":var I=A.pointerId;return mf.set(I,yf(mf.get(I)||null,c,f,p,v,A)),!0;case"gotpointercapture":return I=A.pointerId,gf.set(I,yf(gf.get(I)||null,c,f,p,v,A)),!0}return!1}function YA(c){var f=Ql(c.target);if(f!==null){var p=Dt(f);if(p!==null){if(f=p.tag,f===13){if(f=wn(p),f!==null){c.blockedOn=f,GA(c.priority,function(){KA(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Sm(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var p=Lw(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var v=new p.constructor(p.type,p);Ir=v,p.target.dispatchEvent(v),Ir=null}else return f=Rf(p),f!==null&&Mw(f),c.blockedOn=p,!1;f.shift()}return!0}function QA(c,f,p){Sm(c)&&p.delete(f)}function S9(){Ow=!1,Ta!==null&&Sm(Ta)&&(Ta=null),Ia!==null&&Sm(Ia)&&(Ia=null),Pa!==null&&Sm(Pa)&&(Pa=null),mf.forEach(QA),gf.forEach(QA)}function vf(c,f){c.blockedOn===f&&(c.blockedOn=null,Ow||(Ow=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,S9)))}function wf(c){function f(A){return vf(A,c)}if(0<xm.length){vf(xm[0],c);for(var p=1;p<xm.length;p++){var v=xm[p];v.blockedOn===c&&(v.blockedOn=null)}}for(Ta!==null&&vf(Ta,c),Ia!==null&&vf(Ia,c),Pa!==null&&vf(Pa,c),mf.forEach(f),gf.forEach(f),p=0;p<Ra.length;p++)v=Ra[p],v.blockedOn===c&&(v.blockedOn=null);for(;0<Ra.length&&(p=Ra[0],p.blockedOn===null);)YA(p),p.blockedOn===null&&Ra.shift()}var mu=P.ReactCurrentBatchConfig,Am=!0;function A9(c,f,p,v){var A=Jt,I=mu.transition;mu.transition=null;try{Jt=1,Nw(c,f,p,v)}finally{Jt=A,mu.transition=I}}function C9(c,f,p,v){var A=Jt,I=mu.transition;mu.transition=null;try{Jt=4,Nw(c,f,p,v)}finally{Jt=A,mu.transition=I}}function Nw(c,f,p,v){if(Am){var A=Lw(c,f,p,v);if(A===null)Jw(c,f,v,Cm,p),WA(c,v);else if(x9(A,c,f,p,v))v.stopPropagation();else if(WA(c,v),f&4&&-1<_9.indexOf(c)){for(;A!==null;){var I=Rf(A);if(I!==null&&zA(I),I=Lw(c,f,p,v),I===null&&Jw(c,f,v,Cm,p),I===A)break;A=I}A!==null&&v.stopPropagation()}else Jw(c,f,v,null,p)}}var Cm=null;function Lw(c,f,p,v){if(Cm=null,c=Ss(v),c=Ql(c),c!==null)if(f=Dt(c),f===null)c=null;else if(p=f.tag,p===13){if(c=wn(f),c!==null)return c;c=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return Cm=c,null}function ZA(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ff()){case ho:return 1;case Yl:return 4;case $t:case Yr:return 16;case po:return 536870912;default:return 16}default:return 16}}var Ma=null,Bw=null,km=null;function JA(){if(km)return km;var c,f=Bw,p=f.length,v,A="value"in Ma?Ma.value:Ma.textContent,I=A.length;for(c=0;c<p&&f[c]===A[c];c++);var $=p-c;for(v=1;v<=$&&f[p-v]===A[I-v];v++);return km=A.slice(c,1<v?1-v:void 0)}function Tm(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function Im(){return!0}function XA(){return!1}function gi(c){function f(p,v,A,I,$){this._reactName=p,this._targetInst=A,this.type=v,this.nativeEvent=I,this.target=$,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(p=c[X],this[X]=p?p(I):I[X]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Im:XA,this.isPropagationStopped=XA,this}return U(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Im)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Im)},persist:function(){},isPersistent:Im}),f}var gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=gi(gu),bf=U({},gu,{view:0,detail:0}),k9=gi(bf),Fw,jw,Ef,Pm=U({},bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ef&&(Ef&&c.type==="mousemove"?(Fw=c.screenX-Ef.screenX,jw=c.screenY-Ef.screenY):jw=Fw=0,Ef=c),Fw)},movementY:function(c){return"movementY"in c?c.movementY:jw}}),eC=gi(Pm),T9=U({},Pm,{dataTransfer:0}),I9=gi(T9),P9=U({},bf,{relatedTarget:0}),Uw=gi(P9),R9=U({},gu,{animationName:0,elapsedTime:0,pseudoElement:0}),M9=gi(R9),O9=U({},gu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),N9=gi(O9),L9=U({},gu,{data:0}),tC=gi(L9),B9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j9(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=F9[c])?!!f[c]:!1}function $w(){return j9}var U9=U({},bf,{key:function(c){if(c.key){var f=B9[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Tm(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?D9[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(c){return c.type==="keypress"?Tm(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Tm(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),$9=gi(U9),H9=U({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nC=gi(H9),V9=U({},bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),z9=gi(V9),K9=U({},gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),q9=gi(K9),G9=U({},Pm,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),W9=gi(G9),Y9=[9,13,27,32],Hw=a&&"CompositionEvent"in window,_f=null;a&&"documentMode"in document&&(_f=document.documentMode);var Q9=a&&"TextEvent"in window&&!_f,rC=a&&(!Hw||_f&&8<_f&&11>=_f),iC=" ",oC=!1;function sC(c,f){switch(c){case"keyup":return Y9.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aC(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var yu=!1;function Z9(c,f){switch(c){case"compositionend":return aC(f);case"keypress":return f.which!==32?null:(oC=!0,iC);case"textInput":return c=f.data,c===iC&&oC?null:c;default:return null}}function J9(c,f){if(yu)return c==="compositionend"||!Hw&&sC(c,f)?(c=JA(),km=Bw=Ma=null,yu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return rC&&f.locale!=="ko"?null:f.data;default:return null}}var X9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lC(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!X9[c.type]:f==="textarea"}function cC(c,f,p,v){ql(v),f=Lm(f,"onChange"),0<f.length&&(p=new Dw("onChange","change",null,p,v),c.push({event:p,listeners:f}))}var xf=null,Sf=null;function eF(c){kC(c,0)}function Rm(c){var f=_u(c);if(de(f))return c}function tF(c,f){if(c==="change")return f}var uC=!1;if(a){var Vw;if(a){var zw="oninput"in document;if(!zw){var dC=document.createElement("div");dC.setAttribute("oninput","return;"),zw=typeof dC.oninput=="function"}Vw=zw}else Vw=!1;uC=Vw&&(!document.documentMode||9<document.documentMode)}function fC(){xf&&(xf.detachEvent("onpropertychange",hC),Sf=xf=null)}function hC(c){if(c.propertyName==="value"&&Rm(Sf)){var f=[];cC(f,Sf,c,Ss(c)),ae(eF,f)}}function nF(c,f,p){c==="focusin"?(fC(),xf=f,Sf=p,xf.attachEvent("onpropertychange",hC)):c==="focusout"&&fC()}function rF(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Rm(Sf)}function iF(c,f){if(c==="click")return Rm(f)}function oF(c,f){if(c==="input"||c==="change")return Rm(f)}function sF(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var mo=typeof Object.is=="function"?Object.is:sF;function Af(c,f){if(mo(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var p=Object.keys(c),v=Object.keys(f);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var A=p[v];if(!l.call(f,A)||!mo(c[A],f[A]))return!1}return!0}function pC(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function mC(c,f){var p=pC(c);c=0;for(var v;p;){if(p.nodeType===3){if(v=c+p.textContent.length,c<=f&&v>=f)return{node:p,offset:f-c};c=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=pC(p)}}function gC(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?gC(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function yC(){for(var c=window,f=Oe();f instanceof c.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)c=f.contentWindow;else break;f=Oe(c.document)}return f}function Kw(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function aF(c){var f=yC(),p=c.focusedElem,v=c.selectionRange;if(f!==p&&p&&p.ownerDocument&&gC(p.ownerDocument.documentElement,p)){if(v!==null&&Kw(p)){if(f=v.start,c=v.end,c===void 0&&(c=f),"selectionStart"in p)p.selectionStart=f,p.selectionEnd=Math.min(c,p.value.length);else if(c=(f=p.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var A=p.textContent.length,I=Math.min(v.start,A);v=v.end===void 0?I:Math.min(v.end,A),!c.extend&&I>v&&(A=v,v=I,I=A),A=mC(p,I);var $=mC(p,v);A&&$&&(c.rangeCount!==1||c.anchorNode!==A.node||c.anchorOffset!==A.offset||c.focusNode!==$.node||c.focusOffset!==$.offset)&&(f=f.createRange(),f.setStart(A.node,A.offset),c.removeAllRanges(),I>v?(c.addRange(f),c.extend($.node,$.offset)):(f.setEnd($.node,$.offset),c.addRange(f)))}}for(f=[],c=p;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<f.length;p++)c=f[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var lF=a&&"documentMode"in document&&11>=document.documentMode,vu=null,qw=null,Cf=null,Gw=!1;function vC(c,f,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Gw||vu==null||vu!==Oe(v)||(v=vu,"selectionStart"in v&&Kw(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Cf&&Af(Cf,v)||(Cf=v,v=Lm(qw,"onSelect"),0<v.length&&(f=new Dw("onSelect","select",null,f,p),c.push({event:f,listeners:v}),f.target=vu)))}function Mm(c,f){var p={};return p[c.toLowerCase()]=f.toLowerCase(),p["Webkit"+c]="webkit"+f,p["Moz"+c]="moz"+f,p}var wu={animationend:Mm("Animation","AnimationEnd"),animationiteration:Mm("Animation","AnimationIteration"),animationstart:Mm("Animation","AnimationStart"),transitionend:Mm("Transition","TransitionEnd")},Ww={},wC={};a&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function Om(c){if(Ww[c])return Ww[c];if(!wu[c])return c;var f=wu[c],p;for(p in f)if(f.hasOwnProperty(p)&&p in wC)return Ww[c]=f[p];return c}var bC=Om("animationend"),EC=Om("animationiteration"),_C=Om("animationstart"),xC=Om("transitionend"),SC=new Map,AC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(c,f){SC.set(c,f),o(f,[c])}for(var Yw=0;Yw<AC.length;Yw++){var Qw=AC[Yw],cF=Qw.toLowerCase(),uF=Qw[0].toUpperCase()+Qw.slice(1);Oa(cF,"on"+uF)}Oa(bC,"onAnimationEnd"),Oa(EC,"onAnimationIteration"),Oa(_C,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(xC,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dF=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function CC(c,f,p){var v=c.type||"unknown-event";c.currentTarget=p,St(v,f,void 0,c),c.currentTarget=null}function kC(c,f){f=(f&4)!==0;for(var p=0;p<c.length;p++){var v=c[p],A=v.event;v=v.listeners;e:{var I=void 0;if(f)for(var $=v.length-1;0<=$;$--){var X=v[$],ne=X.instance,he=X.currentTarget;if(X=X.listener,ne!==I&&A.isPropagationStopped())break e;CC(A,X,he),I=ne}else for($=0;$<v.length;$++){if(X=v[$],ne=X.instance,he=X.currentTarget,X=X.listener,ne!==I&&A.isPropagationStopped())break e;CC(A,X,he),I=ne}}}if(rt)throw c=ot,rt=!1,ot=null,c}function sn(c,f){var p=f[ib];p===void 0&&(p=f[ib]=new Set);var v=c+"__bubble";p.has(v)||(TC(f,c,2,!1),p.add(v))}function Zw(c,f,p){var v=0;f&&(v|=4),TC(p,c,v,f)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function Tf(c){if(!c[Nm]){c[Nm]=!0,r.forEach(function(p){p!=="selectionchange"&&(dF.has(p)||Zw(p,!1,c),Zw(p,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Nm]||(f[Nm]=!0,Zw("selectionchange",!1,f))}}function TC(c,f,p,v){switch(ZA(f)){case 1:var A=A9;break;case 4:A=C9;break;default:A=Nw}p=A.bind(null,f,p,c),A=void 0,!De||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),v?A!==void 0?c.addEventListener(f,p,{capture:!0,passive:A}):c.addEventListener(f,p,!0):A!==void 0?c.addEventListener(f,p,{passive:A}):c.addEventListener(f,p,!1)}function Jw(c,f,p,v,A){var I=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var $=v.tag;if($===3||$===4){var X=v.stateNode.containerInfo;if(X===A||X.nodeType===8&&X.parentNode===A)break;if($===4)for($=v.return;$!==null;){var ne=$.tag;if((ne===3||ne===4)&&(ne=$.stateNode.containerInfo,ne===A||ne.nodeType===8&&ne.parentNode===A))return;$=$.return}for(;X!==null;){if($=Ql(X),$===null)return;if(ne=$.tag,ne===5||ne===6){v=I=$;continue e}X=X.parentNode}}v=v.return}ae(function(){var he=I,Ne=Ss(p),Fe=[];e:{var Me=SC.get(c);if(Me!==void 0){var qe=Dw,Je=c;switch(c){case"keypress":if(Tm(p)===0)break e;case"keydown":case"keyup":qe=$9;break;case"focusin":Je="focus",qe=Uw;break;case"focusout":Je="blur",qe=Uw;break;case"beforeblur":case"afterblur":qe=Uw;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=eC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=I9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=z9;break;case bC:case EC:case _C:qe=M9;break;case xC:qe=q9;break;case"scroll":qe=k9;break;case"wheel":qe=W9;break;case"copy":case"cut":case"paste":qe=N9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=nC}var Xe=(f&4)!==0,Cn=!Xe&&c==="scroll",ce=Xe?Me!==null?Me+"Capture":null:Me;Xe=[];for(var ie=he,ue;ie!==null;){ue=ie;var Ue=ue.stateNode;if(ue.tag===5&&Ue!==null&&(ue=Ue,ce!==null&&(Ue=me(ie,ce),Ue!=null&&Xe.push(If(ie,Ue,ue)))),Cn)break;ie=ie.return}0<Xe.length&&(Me=new qe(Me,Je,null,p,Ne),Fe.push({event:Me,listeners:Xe}))}}if((f&7)===0){e:{if(Me=c==="mouseover"||c==="pointerover",qe=c==="mouseout"||c==="pointerout",Me&&p!==Ir&&(Je=p.relatedTarget||p.fromElement)&&(Ql(Je)||Je[ks]))break e;if((qe||Me)&&(Me=Ne.window===Ne?Ne:(Me=Ne.ownerDocument)?Me.defaultView||Me.parentWindow:window,qe?(Je=p.relatedTarget||p.toElement,qe=he,Je=Je?Ql(Je):null,Je!==null&&(Cn=Dt(Je),Je!==Cn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(qe=null,Je=he),qe!==Je)){if(Xe=eC,Ue="onMouseLeave",ce="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(Xe=nC,Ue="onPointerLeave",ce="onPointerEnter",ie="pointer"),Cn=qe==null?Me:_u(qe),ue=Je==null?Me:_u(Je),Me=new Xe(Ue,ie+"leave",qe,p,Ne),Me.target=Cn,Me.relatedTarget=ue,Ue=null,Ql(Ne)===he&&(Xe=new Xe(ce,ie+"enter",Je,p,Ne),Xe.target=ue,Xe.relatedTarget=Cn,Ue=Xe),Cn=Ue,qe&&Je)t:{for(Xe=qe,ce=Je,ie=0,ue=Xe;ue;ue=bu(ue))ie++;for(ue=0,Ue=ce;Ue;Ue=bu(Ue))ue++;for(;0<ie-ue;)Xe=bu(Xe),ie--;for(;0<ue-ie;)ce=bu(ce),ue--;for(;ie--;){if(Xe===ce||ce!==null&&Xe===ce.alternate)break t;Xe=bu(Xe),ce=bu(ce)}Xe=null}else Xe=null;qe!==null&&IC(Fe,Me,qe,Xe,!1),Je!==null&&Cn!==null&&IC(Fe,Cn,Je,Xe,!0)}}e:{if(Me=he?_u(he):window,qe=Me.nodeName&&Me.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Me.type==="file")var tt=tF;else if(lC(Me))if(uC)tt=oF;else{tt=rF;var ut=nF}else(qe=Me.nodeName)&&qe.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(tt=iF);if(tt&&(tt=tt(c,he))){cC(Fe,tt,p,Ne);break e}ut&&ut(c,Me,he),c==="focusout"&&(ut=Me._wrapperState)&&ut.controlled&&Me.type==="number"&&Re(Me,"number",Me.value)}switch(ut=he?_u(he):window,c){case"focusin":(lC(ut)||ut.contentEditable==="true")&&(vu=ut,qw=he,Cf=null);break;case"focusout":Cf=qw=vu=null;break;case"mousedown":Gw=!0;break;case"contextmenu":case"mouseup":case"dragend":Gw=!1,vC(Fe,p,Ne);break;case"selectionchange":if(lF)break;case"keydown":case"keyup":vC(Fe,p,Ne)}var dt;if(Hw)e:{switch(c){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else yu?sC(c,p)&&(vt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(vt="onCompositionStart");vt&&(rC&&p.locale!=="ko"&&(yu||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&yu&&(dt=JA()):(Ma=Ne,Bw="value"in Ma?Ma.value:Ma.textContent,yu=!0)),ut=Lm(he,vt),0<ut.length&&(vt=new tC(vt,c,null,p,Ne),Fe.push({event:vt,listeners:ut}),dt?vt.data=dt:(dt=aC(p),dt!==null&&(vt.data=dt)))),(dt=Q9?Z9(c,p):J9(c,p))&&(he=Lm(he,"onBeforeInput"),0<he.length&&(Ne=new tC("onBeforeInput","beforeinput",null,p,Ne),Fe.push({event:Ne,listeners:he}),Ne.data=dt))}kC(Fe,f)})}function If(c,f,p){return{instance:c,listener:f,currentTarget:p}}function Lm(c,f){for(var p=f+"Capture",v=[];c!==null;){var A=c,I=A.stateNode;A.tag===5&&I!==null&&(A=I,I=me(c,p),I!=null&&v.unshift(If(c,I,A)),I=me(c,f),I!=null&&v.push(If(c,I,A))),c=c.return}return v}function bu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function IC(c,f,p,v,A){for(var I=f._reactName,$=[];p!==null&&p!==v;){var X=p,ne=X.alternate,he=X.stateNode;if(ne!==null&&ne===v)break;X.tag===5&&he!==null&&(X=he,A?(ne=me(p,I),ne!=null&&$.unshift(If(p,ne,X))):A||(ne=me(p,I),ne!=null&&$.push(If(p,ne,X)))),p=p.return}$.length!==0&&c.push({event:f,listeners:$})}var fF=/\r\n?/g,hF=/\u0000|\uFFFD/g;function PC(c){return(typeof c=="string"?c:""+c).replace(fF,`
`).replace(hF,"")}function Bm(c,f,p){if(f=PC(f),PC(c)!==f&&p)throw Error(n(425))}function Dm(){}var Xw=null,eb=null;function tb(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var nb=typeof setTimeout=="function"?setTimeout:void 0,pF=typeof clearTimeout=="function"?clearTimeout:void 0,RC=typeof Promise=="function"?Promise:void 0,mF=typeof queueMicrotask=="function"?queueMicrotask:typeof RC<"u"?function(c){return RC.resolve(null).then(c).catch(gF)}:nb;function gF(c){setTimeout(function(){throw c})}function rb(c,f){var p=f,v=0;do{var A=p.nextSibling;if(c.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(v===0){c.removeChild(A),wf(f);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=A}while(p);wf(f)}function Na(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function MC(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(f===0)return c;f--}else p==="/$"&&f++}c=c.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),jo="__reactFiber$"+Eu,Pf="__reactProps$"+Eu,ks="__reactContainer$"+Eu,ib="__reactEvents$"+Eu,yF="__reactListeners$"+Eu,vF="__reactHandles$"+Eu;function Ql(c){var f=c[jo];if(f)return f;for(var p=c.parentNode;p;){if(f=p[ks]||p[jo]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(c=MC(c);c!==null;){if(p=c[jo])return p;c=MC(c)}return f}c=p,p=c.parentNode}return null}function Rf(c){return c=c[jo]||c[ks],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function _u(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Fm(c){return c[Pf]||null}var ob=[],xu=-1;function La(c){return{current:c}}function an(c){0>xu||(c.current=ob[xu],ob[xu]=null,xu--)}function tn(c,f){xu++,ob[xu]=c.current,c.current=f}var Ba={},lr=La(Ba),Zr=La(!1),Zl=Ba;function Su(c,f){var p=c.type.contextTypes;if(!p)return Ba;var v=c.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===f)return v.__reactInternalMemoizedMaskedChildContext;var A={},I;for(I in p)A[I]=f[I];return v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=A),A}function Jr(c){return c=c.childContextTypes,c!=null}function jm(){an(Zr),an(lr)}function OC(c,f,p){if(lr.current!==Ba)throw Error(n(168));tn(lr,f),tn(Zr,p)}function NC(c,f,p){var v=c.stateNode;if(f=f.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var A in v)if(!(A in f))throw Error(n(108,ee(c)||"Unknown",A));return U({},p,v)}function Um(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ba,Zl=lr.current,tn(lr,c),tn(Zr,Zr.current),!0}function LC(c,f,p){var v=c.stateNode;if(!v)throw Error(n(169));p?(c=NC(c,f,Zl),v.__reactInternalMemoizedMergedChildContext=c,an(Zr),an(lr),tn(lr,c)):an(Zr),tn(Zr,p)}var Ts=null,$m=!1,sb=!1;function BC(c){Ts===null?Ts=[c]:Ts.push(c)}function wF(c){$m=!0,BC(c)}function Da(){if(!sb&&Ts!==null){sb=!0;var c=0,f=Jt;try{var p=Ts;for(Jt=1;c<p.length;c++){var v=p[c];do v=v(!0);while(v!==null)}Ts=null,$m=!1}catch(A){throw Ts!==null&&(Ts=Ts.slice(c+1)),Fo(ho,Da),A}finally{Jt=f,sb=!1}}return null}var Au=[],Cu=0,Hm=null,Vm=0,Bi=[],Di=0,Jl=null,Is=1,Ps="";function Xl(c,f){Au[Cu++]=Vm,Au[Cu++]=Hm,Hm=c,Vm=f}function DC(c,f,p){Bi[Di++]=Is,Bi[Di++]=Ps,Bi[Di++]=Jl,Jl=c;var v=Is;c=Ps;var A=32-zn(v)-1;v&=~(1<<A),p+=1;var I=32-zn(f)+A;if(30<I){var $=A-A%5;I=(v&(1<<$)-1).toString(32),v>>=$,A-=$,Is=1<<32-zn(f)+A|p<<A|v,Ps=I+c}else Is=1<<I|p<<A|v,Ps=c}function ab(c){c.return!==null&&(Xl(c,1),DC(c,1,0))}function lb(c){for(;c===Hm;)Hm=Au[--Cu],Au[Cu]=null,Vm=Au[--Cu],Au[Cu]=null;for(;c===Jl;)Jl=Bi[--Di],Bi[Di]=null,Ps=Bi[--Di],Bi[Di]=null,Is=Bi[--Di],Bi[Di]=null}var yi=null,vi=null,un=!1,go=null;function FC(c,f){var p=$i(5,null,null,0);p.elementType="DELETED",p.stateNode=f,p.return=c,f=c.deletions,f===null?(c.deletions=[p],c.flags|=16):f.push(p)}function jC(c,f){switch(c.tag){case 5:var p=c.type;return f=f.nodeType!==1||p.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,yi=c,vi=Na(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,yi=c,vi=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(p=Jl!==null?{id:Is,overflow:Ps}:null,c.memoizedState={dehydrated:f,treeContext:p,retryLane:1073741824},p=$i(18,null,null,0),p.stateNode=f,p.return=c,c.child=p,yi=c,vi=null,!0):!1;default:return!1}}function cb(c){return(c.mode&1)!==0&&(c.flags&128)===0}function ub(c){if(un){var f=vi;if(f){var p=f;if(!jC(c,f)){if(cb(c))throw Error(n(418));f=Na(p.nextSibling);var v=yi;f&&jC(c,f)?FC(v,p):(c.flags=c.flags&-4097|2,un=!1,yi=c)}}else{if(cb(c))throw Error(n(418));c.flags=c.flags&-4097|2,un=!1,yi=c}}}function UC(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;yi=c}function zm(c){if(c!==yi)return!1;if(!un)return UC(c),un=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!tb(c.type,c.memoizedProps)),f&&(f=vi)){if(cb(c))throw $C(),Error(n(418));for(;f;)FC(c,f),f=Na(f.nextSibling)}if(UC(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(f===0){vi=Na(c.nextSibling);break e}f--}else p!=="$"&&p!=="$!"&&p!=="$?"||f++}c=c.nextSibling}vi=null}}else vi=yi?Na(c.stateNode.nextSibling):null;return!0}function $C(){for(var c=vi;c;)c=Na(c.nextSibling)}function ku(){vi=yi=null,un=!1}function db(c){go===null?go=[c]:go.push(c)}var bF=P.ReactCurrentBatchConfig;function Mf(c,f,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var v=p.stateNode}if(!v)throw Error(n(147,c));var A=v,I=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function($){var X=A.refs;$===null?delete X[I]:X[I]=$},f._stringRef=I,f)}if(typeof c!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,c))}return c}function Km(c,f){throw c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function HC(c){var f=c._init;return f(c._payload)}function VC(c){function f(ce,ie){if(c){var ue=ce.deletions;ue===null?(ce.deletions=[ie],ce.flags|=16):ue.push(ie)}}function p(ce,ie){if(!c)return null;for(;ie!==null;)f(ce,ie),ie=ie.sibling;return null}function v(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function A(ce,ie){return ce=Ka(ce,ie),ce.index=0,ce.sibling=null,ce}function I(ce,ie,ue){return ce.index=ue,c?(ue=ce.alternate,ue!==null?(ue=ue.index,ue<ie?(ce.flags|=2,ie):ue):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function $(ce){return c&&ce.alternate===null&&(ce.flags|=2),ce}function X(ce,ie,ue,Ue){return ie===null||ie.tag!==6?(ie=n1(ue,ce.mode,Ue),ie.return=ce,ie):(ie=A(ie,ue),ie.return=ce,ie)}function ne(ce,ie,ue,Ue){var tt=ue.type;return tt===K?Ne(ce,ie,ue.props.children,Ue,ue.key):ie!==null&&(ie.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===T&&HC(tt)===ie.type)?(Ue=A(ie,ue.props),Ue.ref=Mf(ce,ie,ue),Ue.return=ce,Ue):(Ue=m0(ue.type,ue.key,ue.props,null,ce.mode,Ue),Ue.ref=Mf(ce,ie,ue),Ue.return=ce,Ue)}function he(ce,ie,ue,Ue){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=r1(ue,ce.mode,Ue),ie.return=ce,ie):(ie=A(ie,ue.children||[]),ie.return=ce,ie)}function Ne(ce,ie,ue,Ue,tt){return ie===null||ie.tag!==7?(ie=ac(ue,ce.mode,Ue,tt),ie.return=ce,ie):(ie=A(ie,ue),ie.return=ce,ie)}function Fe(ce,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=n1(""+ie,ce.mode,ue),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case M:return ue=m0(ie.type,ie.key,ie.props,null,ce.mode,ue),ue.ref=Mf(ce,null,ie),ue.return=ce,ue;case L:return ie=r1(ie,ce.mode,ue),ie.return=ce,ie;case T:var Ue=ie._init;return Fe(ce,Ue(ie._payload),ue)}if($e(ie)||F(ie))return ie=ac(ie,ce.mode,ue,null),ie.return=ce,ie;Km(ce,ie)}return null}function Me(ce,ie,ue,Ue){var tt=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return tt!==null?null:X(ce,ie,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return ue.key===tt?ne(ce,ie,ue,Ue):null;case L:return ue.key===tt?he(ce,ie,ue,Ue):null;case T:return tt=ue._init,Me(ce,ie,tt(ue._payload),Ue)}if($e(ue)||F(ue))return tt!==null?null:Ne(ce,ie,ue,Ue,null);Km(ce,ue)}return null}function qe(ce,ie,ue,Ue,tt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ce=ce.get(ue)||null,X(ie,ce,""+Ue,tt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case M:return ce=ce.get(Ue.key===null?ue:Ue.key)||null,ne(ie,ce,Ue,tt);case L:return ce=ce.get(Ue.key===null?ue:Ue.key)||null,he(ie,ce,Ue,tt);case T:var ut=Ue._init;return qe(ce,ie,ue,ut(Ue._payload),tt)}if($e(Ue)||F(Ue))return ce=ce.get(ue)||null,Ne(ie,ce,Ue,tt,null);Km(ie,Ue)}return null}function Je(ce,ie,ue,Ue){for(var tt=null,ut=null,dt=ie,vt=ie=0,Gn=null;dt!==null&&vt<ue.length;vt++){dt.index>vt?(Gn=dt,dt=null):Gn=dt.sibling;var zt=Me(ce,dt,ue[vt],Ue);if(zt===null){dt===null&&(dt=Gn);break}c&&dt&&zt.alternate===null&&f(ce,dt),ie=I(zt,ie,vt),ut===null?tt=zt:ut.sibling=zt,ut=zt,dt=Gn}if(vt===ue.length)return p(ce,dt),un&&Xl(ce,vt),tt;if(dt===null){for(;vt<ue.length;vt++)dt=Fe(ce,ue[vt],Ue),dt!==null&&(ie=I(dt,ie,vt),ut===null?tt=dt:ut.sibling=dt,ut=dt);return un&&Xl(ce,vt),tt}for(dt=v(ce,dt);vt<ue.length;vt++)Gn=qe(dt,ce,vt,ue[vt],Ue),Gn!==null&&(c&&Gn.alternate!==null&&dt.delete(Gn.key===null?vt:Gn.key),ie=I(Gn,ie,vt),ut===null?tt=Gn:ut.sibling=Gn,ut=Gn);return c&&dt.forEach(function(qa){return f(ce,qa)}),un&&Xl(ce,vt),tt}function Xe(ce,ie,ue,Ue){var tt=F(ue);if(typeof tt!="function")throw Error(n(150));if(ue=tt.call(ue),ue==null)throw Error(n(151));for(var ut=tt=null,dt=ie,vt=ie=0,Gn=null,zt=ue.next();dt!==null&&!zt.done;vt++,zt=ue.next()){dt.index>vt?(Gn=dt,dt=null):Gn=dt.sibling;var qa=Me(ce,dt,zt.value,Ue);if(qa===null){dt===null&&(dt=Gn);break}c&&dt&&qa.alternate===null&&f(ce,dt),ie=I(qa,ie,vt),ut===null?tt=qa:ut.sibling=qa,ut=qa,dt=Gn}if(zt.done)return p(ce,dt),un&&Xl(ce,vt),tt;if(dt===null){for(;!zt.done;vt++,zt=ue.next())zt=Fe(ce,zt.value,Ue),zt!==null&&(ie=I(zt,ie,vt),ut===null?tt=zt:ut.sibling=zt,ut=zt);return un&&Xl(ce,vt),tt}for(dt=v(ce,dt);!zt.done;vt++,zt=ue.next())zt=qe(dt,ce,vt,zt.value,Ue),zt!==null&&(c&&zt.alternate!==null&&dt.delete(zt.key===null?vt:zt.key),ie=I(zt,ie,vt),ut===null?tt=zt:ut.sibling=zt,ut=zt);return c&&dt.forEach(function(XF){return f(ce,XF)}),un&&Xl(ce,vt),tt}function Cn(ce,ie,ue,Ue){if(typeof ue=="object"&&ue!==null&&ue.type===K&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:e:{for(var tt=ue.key,ut=ie;ut!==null;){if(ut.key===tt){if(tt=ue.type,tt===K){if(ut.tag===7){p(ce,ut.sibling),ie=A(ut,ue.props.children),ie.return=ce,ce=ie;break e}}else if(ut.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===T&&HC(tt)===ut.type){p(ce,ut.sibling),ie=A(ut,ue.props),ie.ref=Mf(ce,ut,ue),ie.return=ce,ce=ie;break e}p(ce,ut);break}else f(ce,ut);ut=ut.sibling}ue.type===K?(ie=ac(ue.props.children,ce.mode,Ue,ue.key),ie.return=ce,ce=ie):(Ue=m0(ue.type,ue.key,ue.props,null,ce.mode,Ue),Ue.ref=Mf(ce,ie,ue),Ue.return=ce,ce=Ue)}return $(ce);case L:e:{for(ut=ue.key;ie!==null;){if(ie.key===ut)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){p(ce,ie.sibling),ie=A(ie,ue.children||[]),ie.return=ce,ce=ie;break e}else{p(ce,ie);break}else f(ce,ie);ie=ie.sibling}ie=r1(ue,ce.mode,Ue),ie.return=ce,ce=ie}return $(ce);case T:return ut=ue._init,Cn(ce,ie,ut(ue._payload),Ue)}if($e(ue))return Je(ce,ie,ue,Ue);if(F(ue))return Xe(ce,ie,ue,Ue);Km(ce,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ie!==null&&ie.tag===6?(p(ce,ie.sibling),ie=A(ie,ue),ie.return=ce,ce=ie):(p(ce,ie),ie=n1(ue,ce.mode,Ue),ie.return=ce,ce=ie),$(ce)):p(ce,ie)}return Cn}var Tu=VC(!0),zC=VC(!1),qm=La(null),Gm=null,Iu=null,fb=null;function hb(){fb=Iu=Gm=null}function pb(c){var f=qm.current;an(qm),c._currentValue=f}function mb(c,f,p){for(;c!==null;){var v=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),c===p)break;c=c.return}}function Pu(c,f){Gm=c,fb=Iu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(Xr=!0),c.firstContext=null)}function Fi(c){var f=c._currentValue;if(fb!==c)if(c={context:c,memoizedValue:f,next:null},Iu===null){if(Gm===null)throw Error(n(308));Iu=c,Gm.dependencies={lanes:0,firstContext:c}}else Iu=Iu.next=c;return f}var ec=null;function gb(c){ec===null?ec=[c]:ec.push(c)}function KC(c,f,p,v){var A=f.interleaved;return A===null?(p.next=p,gb(f)):(p.next=A.next,A.next=p),f.interleaved=p,Rs(c,v)}function Rs(c,f){c.lanes|=f;var p=c.alternate;for(p!==null&&(p.lanes|=f),p=c,c=c.return;c!==null;)c.childLanes|=f,p=c.alternate,p!==null&&(p.childLanes|=f),p=c,c=c.return;return p.tag===3?p.stateNode:null}var Fa=!1;function yb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qC(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ms(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function ja(c,f,p){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(Ht&2)!==0){var A=v.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),v.pending=f,Rs(c,p)}return A=v.interleaved,A===null?(f.next=f,gb(v)):(f.next=A.next,A.next=f),v.interleaved=f,Rs(c,p)}function Wm(c,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194240)!==0)){var v=f.lanes;v&=c.pendingLanes,p|=v,f.lanes=p,Rw(c,p)}}function GC(c,f){var p=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var A=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var $={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};I===null?A=I=$:I=I.next=$,p=p.next}while(p!==null);I===null?A=I=f:I=I.next=f}else A=I=f;p={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:v.shared,effects:v.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=f}function Ym(c,f,p,v){var A=c.updateQueue;Fa=!1;var I=A.firstBaseUpdate,$=A.lastBaseUpdate,X=A.shared.pending;if(X!==null){A.shared.pending=null;var ne=X,he=ne.next;ne.next=null,$===null?I=he:$.next=he,$=ne;var Ne=c.alternate;Ne!==null&&(Ne=Ne.updateQueue,X=Ne.lastBaseUpdate,X!==$&&(X===null?Ne.firstBaseUpdate=he:X.next=he,Ne.lastBaseUpdate=ne))}if(I!==null){var Fe=A.baseState;$=0,Ne=he=ne=null,X=I;do{var Me=X.lane,qe=X.eventTime;if((v&Me)===Me){Ne!==null&&(Ne=Ne.next={eventTime:qe,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Je=c,Xe=X;switch(Me=f,qe=p,Xe.tag){case 1:if(Je=Xe.payload,typeof Je=="function"){Fe=Je.call(qe,Fe,Me);break e}Fe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Xe.payload,Me=typeof Je=="function"?Je.call(qe,Fe,Me):Je,Me==null)break e;Fe=U({},Fe,Me);break e;case 2:Fa=!0}}X.callback!==null&&X.lane!==0&&(c.flags|=64,Me=A.effects,Me===null?A.effects=[X]:Me.push(X))}else qe={eventTime:qe,lane:Me,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ne===null?(he=Ne=qe,ne=Fe):Ne=Ne.next=qe,$|=Me;if(X=X.next,X===null){if(X=A.shared.pending,X===null)break;Me=X,X=Me.next,Me.next=null,A.lastBaseUpdate=Me,A.shared.pending=null}}while(!0);if(Ne===null&&(ne=Fe),A.baseState=ne,A.firstBaseUpdate=he,A.lastBaseUpdate=Ne,f=A.shared.interleaved,f!==null){A=f;do $|=A.lane,A=A.next;while(A!==f)}else I===null&&(A.shared.lanes=0);rc|=$,c.lanes=$,c.memoizedState=Fe}}function WC(c,f,p){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var v=c[f],A=v.callback;if(A!==null){if(v.callback=null,v=p,typeof A!="function")throw Error(n(191,A));A.call(v)}}}var Of={},Uo=La(Of),Nf=La(Of),Lf=La(Of);function tc(c){if(c===Of)throw Error(n(174));return c}function vb(c,f){switch(tn(Lf,f),tn(Nf,c),tn(Uo,Of),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Te(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=Te(f,c)}an(Uo),tn(Uo,f)}function Ru(){an(Uo),an(Nf),an(Lf)}function YC(c){tc(Lf.current);var f=tc(Uo.current),p=Te(f,c.type);f!==p&&(tn(Nf,c),tn(Uo,p))}function wb(c){Nf.current===c&&(an(Uo),an(Nf))}var hn=La(0);function Qm(c){for(var f=c;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var bb=[];function Eb(){for(var c=0;c<bb.length;c++)bb[c]._workInProgressVersionPrimary=null;bb.length=0}var Zm=P.ReactCurrentDispatcher,_b=P.ReactCurrentBatchConfig,nc=0,pn=null,jn=null,Kn=null,Jm=!1,Bf=!1,Df=0,EF=0;function cr(){throw Error(n(321))}function xb(c,f){if(f===null)return!1;for(var p=0;p<f.length&&p<c.length;p++)if(!mo(c[p],f[p]))return!1;return!0}function Sb(c,f,p,v,A,I){if(nc=I,pn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Zm.current=c===null||c.memoizedState===null?AF:CF,c=p(v,A),Bf){I=0;do{if(Bf=!1,Df=0,25<=I)throw Error(n(301));I+=1,Kn=jn=null,f.updateQueue=null,Zm.current=kF,c=p(v,A)}while(Bf)}if(Zm.current=t0,f=jn!==null&&jn.next!==null,nc=0,Kn=jn=pn=null,Jm=!1,f)throw Error(n(300));return c}function Ab(){var c=Df!==0;return Df=0,c}function $o(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?pn.memoizedState=Kn=c:Kn=Kn.next=c,Kn}function ji(){if(jn===null){var c=pn.alternate;c=c!==null?c.memoizedState:null}else c=jn.next;var f=Kn===null?pn.memoizedState:Kn.next;if(f!==null)Kn=f,jn=c;else{if(c===null)throw Error(n(310));jn=c,c={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Kn===null?pn.memoizedState=Kn=c:Kn=Kn.next=c}return Kn}function Ff(c,f){return typeof f=="function"?f(c):f}function Cb(c){var f=ji(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var v=jn,A=v.baseQueue,I=p.pending;if(I!==null){if(A!==null){var $=A.next;A.next=I.next,I.next=$}v.baseQueue=A=I,p.pending=null}if(A!==null){I=A.next,v=v.baseState;var X=$=null,ne=null,he=I;do{var Ne=he.lane;if((nc&Ne)===Ne)ne!==null&&(ne=ne.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),v=he.hasEagerState?he.eagerState:c(v,he.action);else{var Fe={lane:Ne,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ne===null?(X=ne=Fe,$=v):ne=ne.next=Fe,pn.lanes|=Ne,rc|=Ne}he=he.next}while(he!==null&&he!==I);ne===null?$=v:ne.next=X,mo(v,f.memoizedState)||(Xr=!0),f.memoizedState=v,f.baseState=$,f.baseQueue=ne,p.lastRenderedState=v}if(c=p.interleaved,c!==null){A=c;do I=A.lane,pn.lanes|=I,rc|=I,A=A.next;while(A!==c)}else A===null&&(p.lanes=0);return[f.memoizedState,p.dispatch]}function kb(c){var f=ji(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var v=p.dispatch,A=p.pending,I=f.memoizedState;if(A!==null){p.pending=null;var $=A=A.next;do I=c(I,$.action),$=$.next;while($!==A);mo(I,f.memoizedState)||(Xr=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),p.lastRenderedState=I}return[I,v]}function QC(){}function ZC(c,f){var p=pn,v=ji(),A=f(),I=!mo(v.memoizedState,A);if(I&&(v.memoizedState=A,Xr=!0),v=v.queue,Tb(ek.bind(null,p,v,c),[c]),v.getSnapshot!==f||I||Kn!==null&&Kn.memoizedState.tag&1){if(p.flags|=2048,jf(9,XC.bind(null,p,v,A,f),void 0,null),qn===null)throw Error(n(349));(nc&30)!==0||JC(p,f,A)}return A}function JC(c,f,p){c.flags|=16384,c={getSnapshot:f,value:p},f=pn.updateQueue,f===null?(f={lastEffect:null,stores:null},pn.updateQueue=f,f.stores=[c]):(p=f.stores,p===null?f.stores=[c]:p.push(c))}function XC(c,f,p,v){f.value=p,f.getSnapshot=v,tk(f)&&nk(c)}function ek(c,f,p){return p(function(){tk(f)&&nk(c)})}function tk(c){var f=c.getSnapshot;c=c.value;try{var p=f();return!mo(c,p)}catch{return!0}}function nk(c){var f=Rs(c,1);f!==null&&bo(f,c,1,-1)}function rk(c){var f=$o();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:c},f.queue=c,c=c.dispatch=SF.bind(null,pn,c),[f.memoizedState,c]}function jf(c,f,p,v){return c={tag:c,create:f,destroy:p,deps:v,next:null},f=pn.updateQueue,f===null?(f={lastEffect:null,stores:null},pn.updateQueue=f,f.lastEffect=c.next=c):(p=f.lastEffect,p===null?f.lastEffect=c.next=c:(v=p.next,p.next=c,c.next=v,f.lastEffect=c)),c}function ik(){return ji().memoizedState}function Xm(c,f,p,v){var A=$o();pn.flags|=c,A.memoizedState=jf(1|f,p,void 0,v===void 0?null:v)}function e0(c,f,p,v){var A=ji();v=v===void 0?null:v;var I=void 0;if(jn!==null){var $=jn.memoizedState;if(I=$.destroy,v!==null&&xb(v,$.deps)){A.memoizedState=jf(f,p,I,v);return}}pn.flags|=c,A.memoizedState=jf(1|f,p,I,v)}function ok(c,f){return Xm(8390656,8,c,f)}function Tb(c,f){return e0(2048,8,c,f)}function sk(c,f){return e0(4,2,c,f)}function ak(c,f){return e0(4,4,c,f)}function lk(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function ck(c,f,p){return p=p!=null?p.concat([c]):null,e0(4,4,lk.bind(null,f,c),p)}function Ib(){}function uk(c,f){var p=ji();f=f===void 0?null:f;var v=p.memoizedState;return v!==null&&f!==null&&xb(f,v[1])?v[0]:(p.memoizedState=[c,f],c)}function dk(c,f){var p=ji();f=f===void 0?null:f;var v=p.memoizedState;return v!==null&&f!==null&&xb(f,v[1])?v[0]:(c=c(),p.memoizedState=[c,f],c)}function fk(c,f,p){return(nc&21)===0?(c.baseState&&(c.baseState=!1,Xr=!0),c.memoizedState=p):(mo(p,f)||(p=HA(),pn.lanes|=p,rc|=p,c.baseState=!0),f)}function _F(c,f){var p=Jt;Jt=p!==0&&4>p?p:4,c(!0);var v=_b.transition;_b.transition={};try{c(!1),f()}finally{Jt=p,_b.transition=v}}function hk(){return ji().memoizedState}function xF(c,f,p){var v=Va(c);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},pk(c))mk(f,p);else if(p=KC(c,f,p,v),p!==null){var A=Mr();bo(p,c,v,A),gk(p,f,v)}}function SF(c,f,p){var v=Va(c),A={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(pk(c))mk(f,A);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var $=f.lastRenderedState,X=I($,p);if(A.hasEagerState=!0,A.eagerState=X,mo(X,$)){var ne=f.interleaved;ne===null?(A.next=A,gb(f)):(A.next=ne.next,ne.next=A),f.interleaved=A;return}}catch{}finally{}p=KC(c,f,A,v),p!==null&&(A=Mr(),bo(p,c,v,A),gk(p,f,v))}}function pk(c){var f=c.alternate;return c===pn||f!==null&&f===pn}function mk(c,f){Bf=Jm=!0;var p=c.pending;p===null?f.next=f:(f.next=p.next,p.next=f),c.pending=f}function gk(c,f,p){if((p&4194240)!==0){var v=f.lanes;v&=c.pendingLanes,p|=v,f.lanes=p,Rw(c,p)}}var t0={readContext:Fi,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},AF={readContext:Fi,useCallback:function(c,f){return $o().memoizedState=[c,f===void 0?null:f],c},useContext:Fi,useEffect:ok,useImperativeHandle:function(c,f,p){return p=p!=null?p.concat([c]):null,Xm(4194308,4,lk.bind(null,f,c),p)},useLayoutEffect:function(c,f){return Xm(4194308,4,c,f)},useInsertionEffect:function(c,f){return Xm(4,2,c,f)},useMemo:function(c,f){var p=$o();return f=f===void 0?null:f,c=c(),p.memoizedState=[c,f],c},useReducer:function(c,f,p){var v=$o();return f=p!==void 0?p(f):f,v.memoizedState=v.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},v.queue=c,c=c.dispatch=xF.bind(null,pn,c),[v.memoizedState,c]},useRef:function(c){var f=$o();return c={current:c},f.memoizedState=c},useState:rk,useDebugValue:Ib,useDeferredValue:function(c){return $o().memoizedState=c},useTransition:function(){var c=rk(!1),f=c[0];return c=_F.bind(null,c[1]),$o().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,p){var v=pn,A=$o();if(un){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),qn===null)throw Error(n(349));(nc&30)!==0||JC(v,f,p)}A.memoizedState=p;var I={value:p,getSnapshot:f};return A.queue=I,ok(ek.bind(null,v,I,c),[c]),v.flags|=2048,jf(9,XC.bind(null,v,I,p,f),void 0,null),p},useId:function(){var c=$o(),f=qn.identifierPrefix;if(un){var p=Ps,v=Is;p=(v&~(1<<32-zn(v)-1)).toString(32)+p,f=":"+f+"R"+p,p=Df++,0<p&&(f+="H"+p.toString(32)),f+=":"}else p=EF++,f=":"+f+"r"+p.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},CF={readContext:Fi,useCallback:uk,useContext:Fi,useEffect:Tb,useImperativeHandle:ck,useInsertionEffect:sk,useLayoutEffect:ak,useMemo:dk,useReducer:Cb,useRef:ik,useState:function(){return Cb(Ff)},useDebugValue:Ib,useDeferredValue:function(c){var f=ji();return fk(f,jn.memoizedState,c)},useTransition:function(){var c=Cb(Ff)[0],f=ji().memoizedState;return[c,f]},useMutableSource:QC,useSyncExternalStore:ZC,useId:hk,unstable_isNewReconciler:!1},kF={readContext:Fi,useCallback:uk,useContext:Fi,useEffect:Tb,useImperativeHandle:ck,useInsertionEffect:sk,useLayoutEffect:ak,useMemo:dk,useReducer:kb,useRef:ik,useState:function(){return kb(Ff)},useDebugValue:Ib,useDeferredValue:function(c){var f=ji();return jn===null?f.memoizedState=c:fk(f,jn.memoizedState,c)},useTransition:function(){var c=kb(Ff)[0],f=ji().memoizedState;return[c,f]},useMutableSource:QC,useSyncExternalStore:ZC,useId:hk,unstable_isNewReconciler:!1};function yo(c,f){if(c&&c.defaultProps){f=U({},f),c=c.defaultProps;for(var p in c)f[p]===void 0&&(f[p]=c[p]);return f}return f}function Pb(c,f,p,v){f=c.memoizedState,p=p(v,f),p=p==null?f:U({},f,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var n0={isMounted:function(c){return(c=c._reactInternals)?Dt(c)===c:!1},enqueueSetState:function(c,f,p){c=c._reactInternals;var v=Mr(),A=Va(c),I=Ms(v,A);I.payload=f,p!=null&&(I.callback=p),f=ja(c,I,A),f!==null&&(bo(f,c,A,v),Wm(f,c,A))},enqueueReplaceState:function(c,f,p){c=c._reactInternals;var v=Mr(),A=Va(c),I=Ms(v,A);I.tag=1,I.payload=f,p!=null&&(I.callback=p),f=ja(c,I,A),f!==null&&(bo(f,c,A,v),Wm(f,c,A))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var p=Mr(),v=Va(c),A=Ms(p,v);A.tag=2,f!=null&&(A.callback=f),f=ja(c,A,v),f!==null&&(bo(f,c,v,p),Wm(f,c,v))}};function yk(c,f,p,v,A,I,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,I,$):f.prototype&&f.prototype.isPureReactComponent?!Af(p,v)||!Af(A,I):!0}function vk(c,f,p){var v=!1,A=Ba,I=f.contextType;return typeof I=="object"&&I!==null?I=Fi(I):(A=Jr(f)?Zl:lr.current,v=f.contextTypes,I=(v=v!=null)?Su(c,A):Ba),f=new f(p,I),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=n0,c.stateNode=f,f._reactInternals=c,v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=I),f}function wk(c,f,p,v){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,v),f.state!==c&&n0.enqueueReplaceState(f,f.state,null)}function Rb(c,f,p,v){var A=c.stateNode;A.props=p,A.state=c.memoizedState,A.refs={},yb(c);var I=f.contextType;typeof I=="object"&&I!==null?A.context=Fi(I):(I=Jr(f)?Zl:lr.current,A.context=Su(c,I)),A.state=c.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(Pb(c,f,I,p),A.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(f=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),f!==A.state&&n0.enqueueReplaceState(A,A.state,null),Ym(c,p,A,v),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308)}function Mu(c,f){try{var p="",v=f;do p+=z(v),v=v.return;while(v);var A=p}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:f,stack:A,digest:null}}function Mb(c,f,p){return{value:c,source:null,stack:p??null,digest:f??null}}function Ob(c,f){try{console.error(f.value)}catch(p){setTimeout(function(){throw p})}}var TF=typeof WeakMap=="function"?WeakMap:Map;function bk(c,f,p){p=Ms(-1,p),p.tag=3,p.payload={element:null};var v=f.value;return p.callback=function(){c0||(c0=!0,Wb=v),Ob(c,f)},p}function Ek(c,f,p){p=Ms(-1,p),p.tag=3;var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var A=f.value;p.payload=function(){return v(A)},p.callback=function(){Ob(c,f)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(p.callback=function(){Ob(c,f),typeof v!="function"&&($a===null?$a=new Set([this]):$a.add(this));var $=f.stack;this.componentDidCatch(f.value,{componentStack:$!==null?$:""})}),p}function _k(c,f,p){var v=c.pingCache;if(v===null){v=c.pingCache=new TF;var A=new Set;v.set(f,A)}else A=v.get(f),A===void 0&&(A=new Set,v.set(f,A));A.has(p)||(A.add(p),c=HF.bind(null,c,f,p),f.then(c,c))}function xk(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function Sk(c,f,p,v,A){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(f=Ms(-1,1),f.tag=2,ja(p,f,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=A,c)}var IF=P.ReactCurrentOwner,Xr=!1;function Rr(c,f,p,v){f.child=c===null?zC(f,null,p,v):Tu(f,c.child,p,v)}function Ak(c,f,p,v,A){p=p.render;var I=f.ref;return Pu(f,A),v=Sb(c,f,p,v,I,A),p=Ab(),c!==null&&!Xr?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~A,Os(c,f,A)):(un&&p&&ab(f),f.flags|=1,Rr(c,f,v,A),f.child)}function Ck(c,f,p,v,A){if(c===null){var I=p.type;return typeof I=="function"&&!t1(I)&&I.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(f.tag=15,f.type=I,kk(c,f,I,v,A)):(c=m0(p.type,null,v,f,f.mode,A),c.ref=f.ref,c.return=f,f.child=c)}if(I=c.child,(c.lanes&A)===0){var $=I.memoizedProps;if(p=p.compare,p=p!==null?p:Af,p($,v)&&c.ref===f.ref)return Os(c,f,A)}return f.flags|=1,c=Ka(I,v),c.ref=f.ref,c.return=f,f.child=c}function kk(c,f,p,v,A){if(c!==null){var I=c.memoizedProps;if(Af(I,v)&&c.ref===f.ref)if(Xr=!1,f.pendingProps=v=I,(c.lanes&A)!==0)(c.flags&131072)!==0&&(Xr=!0);else return f.lanes=c.lanes,Os(c,f,A)}return Nb(c,f,p,v,A)}function Tk(c,f,p){var v=f.pendingProps,A=v.children,I=c!==null?c.memoizedState:null;if(v.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(Nu,wi),wi|=p;else{if((p&1073741824)===0)return c=I!==null?I.baseLanes|p:p,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,tn(Nu,wi),wi|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=I!==null?I.baseLanes:p,tn(Nu,wi),wi|=v}else I!==null?(v=I.baseLanes|p,f.memoizedState=null):v=p,tn(Nu,wi),wi|=v;return Rr(c,f,A,p),f.child}function Ik(c,f){var p=f.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(f.flags|=512,f.flags|=2097152)}function Nb(c,f,p,v,A){var I=Jr(p)?Zl:lr.current;return I=Su(f,I),Pu(f,A),p=Sb(c,f,p,v,I,A),v=Ab(),c!==null&&!Xr?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~A,Os(c,f,A)):(un&&v&&ab(f),f.flags|=1,Rr(c,f,p,A),f.child)}function Pk(c,f,p,v,A){if(Jr(p)){var I=!0;Um(f)}else I=!1;if(Pu(f,A),f.stateNode===null)i0(c,f),vk(f,p,v),Rb(f,p,v,A),v=!0;else if(c===null){var $=f.stateNode,X=f.memoizedProps;$.props=X;var ne=$.context,he=p.contextType;typeof he=="object"&&he!==null?he=Fi(he):(he=Jr(p)?Zl:lr.current,he=Su(f,he));var Ne=p.getDerivedStateFromProps,Fe=typeof Ne=="function"||typeof $.getSnapshotBeforeUpdate=="function";Fe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(X!==v||ne!==he)&&wk(f,$,v,he),Fa=!1;var Me=f.memoizedState;$.state=Me,Ym(f,v,$,A),ne=f.memoizedState,X!==v||Me!==ne||Zr.current||Fa?(typeof Ne=="function"&&(Pb(f,p,Ne,v),ne=f.memoizedState),(X=Fa||yk(f,p,X,v,Me,ne,he))?(Fe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(f.flags|=4194308)):(typeof $.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=ne),$.props=v,$.state=ne,$.context=he,v=X):(typeof $.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{$=f.stateNode,qC(c,f),X=f.memoizedProps,he=f.type===f.elementType?X:yo(f.type,X),$.props=he,Fe=f.pendingProps,Me=$.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=Fi(ne):(ne=Jr(p)?Zl:lr.current,ne=Su(f,ne));var qe=p.getDerivedStateFromProps;(Ne=typeof qe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(X!==Fe||Me!==ne)&&wk(f,$,v,ne),Fa=!1,Me=f.memoizedState,$.state=Me,Ym(f,v,$,A);var Je=f.memoizedState;X!==Fe||Me!==Je||Zr.current||Fa?(typeof qe=="function"&&(Pb(f,p,qe,v),Je=f.memoizedState),(he=Fa||yk(f,p,he,v,Me,Je,ne)||!1)?(Ne||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(v,Je,ne),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(v,Je,ne)),typeof $.componentDidUpdate=="function"&&(f.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof $.componentDidUpdate!="function"||X===c.memoizedProps&&Me===c.memoizedState||(f.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Me===c.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=Je),$.props=v,$.state=Je,$.context=ne,v=he):(typeof $.componentDidUpdate!="function"||X===c.memoizedProps&&Me===c.memoizedState||(f.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Me===c.memoizedState||(f.flags|=1024),v=!1)}return Lb(c,f,p,v,I,A)}function Lb(c,f,p,v,A,I){Ik(c,f);var $=(f.flags&128)!==0;if(!v&&!$)return A&&LC(f,p,!1),Os(c,f,I);v=f.stateNode,IF.current=f;var X=$&&typeof p.getDerivedStateFromError!="function"?null:v.render();return f.flags|=1,c!==null&&$?(f.child=Tu(f,c.child,null,I),f.child=Tu(f,null,X,I)):Rr(c,f,X,I),f.memoizedState=v.state,A&&LC(f,p,!0),f.child}function Rk(c){var f=c.stateNode;f.pendingContext?OC(c,f.pendingContext,f.pendingContext!==f.context):f.context&&OC(c,f.context,!1),vb(c,f.containerInfo)}function Mk(c,f,p,v,A){return ku(),db(A),f.flags|=256,Rr(c,f,p,v),f.child}var Bb={dehydrated:null,treeContext:null,retryLane:0};function Db(c){return{baseLanes:c,cachePool:null,transitions:null}}function Ok(c,f,p){var v=f.pendingProps,A=hn.current,I=!1,$=(f.flags&128)!==0,X;if((X=$)||(X=c!==null&&c.memoizedState===null?!1:(A&2)!==0),X?(I=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(A|=1),tn(hn,A&1),c===null)return ub(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):($=v.children,c=v.fallback,I?(v=f.mode,I=f.child,$={mode:"hidden",children:$},(v&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=$):I=g0($,v,0,null),c=ac(c,v,p,null),I.return=f,c.return=f,I.sibling=c,f.child=I,f.child.memoizedState=Db(p),f.memoizedState=Bb,c):Fb(f,$));if(A=c.memoizedState,A!==null&&(X=A.dehydrated,X!==null))return PF(c,f,$,v,X,A,p);if(I){I=v.fallback,$=f.mode,A=c.child,X=A.sibling;var ne={mode:"hidden",children:v.children};return($&1)===0&&f.child!==A?(v=f.child,v.childLanes=0,v.pendingProps=ne,f.deletions=null):(v=Ka(A,ne),v.subtreeFlags=A.subtreeFlags&14680064),X!==null?I=Ka(X,I):(I=ac(I,$,p,null),I.flags|=2),I.return=f,v.return=f,v.sibling=I,f.child=v,v=I,I=f.child,$=c.child.memoizedState,$=$===null?Db(p):{baseLanes:$.baseLanes|p,cachePool:null,transitions:$.transitions},I.memoizedState=$,I.childLanes=c.childLanes&~p,f.memoizedState=Bb,v}return I=c.child,c=I.sibling,v=Ka(I,{mode:"visible",children:v.children}),(f.mode&1)===0&&(v.lanes=p),v.return=f,v.sibling=null,c!==null&&(p=f.deletions,p===null?(f.deletions=[c],f.flags|=16):p.push(c)),f.child=v,f.memoizedState=null,v}function Fb(c,f){return f=g0({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function r0(c,f,p,v){return v!==null&&db(v),Tu(f,c.child,null,p),c=Fb(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function PF(c,f,p,v,A,I,$){if(p)return f.flags&256?(f.flags&=-257,v=Mb(Error(n(422))),r0(c,f,$,v)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(I=v.fallback,A=f.mode,v=g0({mode:"visible",children:v.children},A,0,null),I=ac(I,A,$,null),I.flags|=2,v.return=f,I.return=f,v.sibling=I,f.child=v,(f.mode&1)!==0&&Tu(f,c.child,null,$),f.child.memoizedState=Db($),f.memoizedState=Bb,I);if((f.mode&1)===0)return r0(c,f,$,null);if(A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var X=v.dgst;return v=X,I=Error(n(419)),v=Mb(I,v,void 0),r0(c,f,$,v)}if(X=($&c.childLanes)!==0,Xr||X){if(v=qn,v!==null){switch($&-$){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(v.suspendedLanes|$))!==0?0:A,A!==0&&A!==I.retryLane&&(I.retryLane=A,Rs(c,A),bo(v,c,A,-1))}return e1(),v=Mb(Error(n(421))),r0(c,f,$,v)}return A.data==="$?"?(f.flags|=128,f.child=c.child,f=VF.bind(null,c),A._reactRetry=f,null):(c=I.treeContext,vi=Na(A.nextSibling),yi=f,un=!0,go=null,c!==null&&(Bi[Di++]=Is,Bi[Di++]=Ps,Bi[Di++]=Jl,Is=c.id,Ps=c.overflow,Jl=f),f=Fb(f,v.children),f.flags|=4096,f)}function Nk(c,f,p){c.lanes|=f;var v=c.alternate;v!==null&&(v.lanes|=f),mb(c.return,f,p)}function jb(c,f,p,v,A){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:A}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=A)}function Lk(c,f,p){var v=f.pendingProps,A=v.revealOrder,I=v.tail;if(Rr(c,f,v.children,p),v=hn.current,(v&2)!==0)v=v&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Nk(c,p,f);else if(c.tag===19)Nk(c,p,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}if(tn(hn,v),(f.mode&1)===0)f.memoizedState=null;else switch(A){case"forwards":for(p=f.child,A=null;p!==null;)c=p.alternate,c!==null&&Qm(c)===null&&(A=p),p=p.sibling;p=A,p===null?(A=f.child,f.child=null):(A=p.sibling,p.sibling=null),jb(f,!1,A,p,I);break;case"backwards":for(p=null,A=f.child,f.child=null;A!==null;){if(c=A.alternate,c!==null&&Qm(c)===null){f.child=A;break}c=A.sibling,A.sibling=p,p=A,A=c}jb(f,!0,p,null,I);break;case"together":jb(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function i0(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function Os(c,f,p){if(c!==null&&(f.dependencies=c.dependencies),rc|=f.lanes,(p&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,p=Ka(c,c.pendingProps),f.child=p,p.return=f;c.sibling!==null;)c=c.sibling,p=p.sibling=Ka(c,c.pendingProps),p.return=f;p.sibling=null}return f.child}function RF(c,f,p){switch(f.tag){case 3:Rk(f),ku();break;case 5:YC(f);break;case 1:Jr(f.type)&&Um(f);break;case 4:vb(f,f.stateNode.containerInfo);break;case 10:var v=f.type._context,A=f.memoizedProps.value;tn(qm,v._currentValue),v._currentValue=A;break;case 13:if(v=f.memoizedState,v!==null)return v.dehydrated!==null?(tn(hn,hn.current&1),f.flags|=128,null):(p&f.child.childLanes)!==0?Ok(c,f,p):(tn(hn,hn.current&1),c=Os(c,f,p),c!==null?c.sibling:null);tn(hn,hn.current&1);break;case 19:if(v=(p&f.childLanes)!==0,(c.flags&128)!==0){if(v)return Lk(c,f,p);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),tn(hn,hn.current),v)break;return null;case 22:case 23:return f.lanes=0,Tk(c,f,p)}return Os(c,f,p)}var Bk,Ub,Dk,Fk;Bk=function(c,f){for(var p=f.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ub=function(){},Dk=function(c,f,p,v){var A=c.memoizedProps;if(A!==v){c=f.stateNode,tc(Uo.current);var I=null;switch(p){case"input":A=je(c,A),v=je(c,v),I=[];break;case"select":A=U({},A,{value:void 0}),v=U({},v,{value:void 0}),I=[];break;case"textarea":A=Q(c,A),v=Q(c,v),I=[];break;default:typeof A.onClick!="function"&&typeof v.onClick=="function"&&(c.onclick=Dm)}mi(p,v);var $;p=null;for(he in A)if(!v.hasOwnProperty(he)&&A.hasOwnProperty(he)&&A[he]!=null)if(he==="style"){var X=A[he];for($ in X)X.hasOwnProperty($)&&(p||(p={}),p[$]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?I||(I=[]):(I=I||[]).push(he,null));for(he in v){var ne=v[he];if(X=A!=null?A[he]:void 0,v.hasOwnProperty(he)&&ne!==X&&(ne!=null||X!=null))if(he==="style")if(X){for($ in X)!X.hasOwnProperty($)||ne&&ne.hasOwnProperty($)||(p||(p={}),p[$]="");for($ in ne)ne.hasOwnProperty($)&&X[$]!==ne[$]&&(p||(p={}),p[$]=ne[$])}else p||(I||(I=[]),I.push(he,p)),p=ne;else he==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,X=X?X.__html:void 0,ne!=null&&X!==ne&&(I=I||[]).push(he,ne)):he==="children"?typeof ne!="string"&&typeof ne!="number"||(I=I||[]).push(he,""+ne):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(ne!=null&&he==="onScroll"&&sn("scroll",c),I||X===ne||(I=[])):(I=I||[]).push(he,ne))}p&&(I=I||[]).push("style",p);var he=I;(f.updateQueue=he)&&(f.flags|=4)}},Fk=function(c,f,p,v){p!==v&&(f.flags|=4)};function Uf(c,f){if(!un)switch(c.tailMode){case"hidden":f=c.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function ur(c){var f=c.alternate!==null&&c.alternate.child===c.child,p=0,v=0;if(f)for(var A=c.child;A!==null;)p|=A.lanes|A.childLanes,v|=A.subtreeFlags&14680064,v|=A.flags&14680064,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)p|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=v,c.childLanes=p,f}function MF(c,f,p){var v=f.pendingProps;switch(lb(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(f),null;case 1:return Jr(f.type)&&jm(),ur(f),null;case 3:return v=f.stateNode,Ru(),an(Zr),an(lr),Eb(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(zm(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,go!==null&&(Zb(go),go=null))),Ub(c,f),ur(f),null;case 5:wb(f);var A=tc(Lf.current);if(p=f.type,c!==null&&f.stateNode!=null)Dk(c,f,p,v,A),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!v){if(f.stateNode===null)throw Error(n(166));return ur(f),null}if(c=tc(Uo.current),zm(f)){v=f.stateNode,p=f.type;var I=f.memoizedProps;switch(v[jo]=f,v[Pf]=I,c=(f.mode&1)!==0,p){case"dialog":sn("cancel",v),sn("close",v);break;case"iframe":case"object":case"embed":sn("load",v);break;case"video":case"audio":for(A=0;A<kf.length;A++)sn(kf[A],v);break;case"source":sn("error",v);break;case"img":case"image":case"link":sn("error",v),sn("load",v);break;case"details":sn("toggle",v);break;case"input":we(v,I),sn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!I.multiple},sn("invalid",v);break;case"textarea":re(v,I),sn("invalid",v)}mi(p,I),A=null;for(var $ in I)if(I.hasOwnProperty($)){var X=I[$];$==="children"?typeof X=="string"?v.textContent!==X&&(I.suppressHydrationWarning!==!0&&Bm(v.textContent,X,c),A=["children",X]):typeof X=="number"&&v.textContent!==""+X&&(I.suppressHydrationWarning!==!0&&Bm(v.textContent,X,c),A=["children",""+X]):i.hasOwnProperty($)&&X!=null&&$==="onScroll"&&sn("scroll",v)}switch(p){case"input":ve(v),Ae(v,I,!0);break;case"textarea":ve(v),Ce(v);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(v.onclick=Dm)}v=A,f.updateQueue=v,v!==null&&(f.flags|=4)}else{$=A.nodeType===9?A:A.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Ie(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=$.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof v.is=="string"?c=$.createElement(p,{is:v.is}):(c=$.createElement(p),p==="select"&&($=c,v.multiple?$.multiple=!0:v.size&&($.size=v.size))):c=$.createElementNS(c,p),c[jo]=f,c[Pf]=v,Bk(c,f,!1,!1),f.stateNode=c;e:{switch($=Li(p,v),p){case"dialog":sn("cancel",c),sn("close",c),A=v;break;case"iframe":case"object":case"embed":sn("load",c),A=v;break;case"video":case"audio":for(A=0;A<kf.length;A++)sn(kf[A],c);A=v;break;case"source":sn("error",c),A=v;break;case"img":case"image":case"link":sn("error",c),sn("load",c),A=v;break;case"details":sn("toggle",c),A=v;break;case"input":we(c,v),A=je(c,v),sn("invalid",c);break;case"option":A=v;break;case"select":c._wrapperState={wasMultiple:!!v.multiple},A=U({},v,{value:void 0}),sn("invalid",c);break;case"textarea":re(c,v),A=Q(c,v),sn("invalid",c);break;default:A=v}mi(p,A),X=A;for(I in X)if(X.hasOwnProperty(I)){var ne=X[I];I==="style"?fo(c,ne):I==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&xt(c,ne)):I==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&Gt(c,ne):typeof ne=="number"&&Gt(c,""+ne):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?ne!=null&&I==="onScroll"&&sn("scroll",c):ne!=null&&x(c,I,ne,$))}switch(p){case"input":ve(c),Ae(c,v,!1);break;case"textarea":ve(c),Ce(c);break;case"option":v.value!=null&&c.setAttribute("value",""+J(v.value));break;case"select":c.multiple=!!v.multiple,I=v.value,I!=null?Ke(c,!!v.multiple,I,!1):v.defaultValue!=null&&Ke(c,!!v.multiple,v.defaultValue,!0);break;default:typeof A.onClick=="function"&&(c.onclick=Dm)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ur(f),null;case 6:if(c&&f.stateNode!=null)Fk(c,f,c.memoizedProps,v);else{if(typeof v!="string"&&f.stateNode===null)throw Error(n(166));if(p=tc(Lf.current),tc(Uo.current),zm(f)){if(v=f.stateNode,p=f.memoizedProps,v[jo]=f,(I=v.nodeValue!==p)&&(c=yi,c!==null))switch(c.tag){case 3:Bm(v.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Bm(v.nodeValue,p,(c.mode&1)!==0)}I&&(f.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[jo]=f,f.stateNode=v}return ur(f),null;case 13:if(an(hn),v=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(un&&vi!==null&&(f.mode&1)!==0&&(f.flags&128)===0)$C(),ku(),f.flags|=98560,I=!1;else if(I=zm(f),v!==null&&v.dehydrated!==null){if(c===null){if(!I)throw Error(n(318));if(I=f.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[jo]=f}else ku(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ur(f),I=!1}else go!==null&&(Zb(go),go=null),I=!0;if(!I)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=p,f):(v=v!==null,v!==(c!==null&&c.memoizedState!==null)&&v&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(hn.current&1)!==0?Un===0&&(Un=3):e1())),f.updateQueue!==null&&(f.flags|=4),ur(f),null);case 4:return Ru(),Ub(c,f),c===null&&Tf(f.stateNode.containerInfo),ur(f),null;case 10:return pb(f.type._context),ur(f),null;case 17:return Jr(f.type)&&jm(),ur(f),null;case 19:if(an(hn),I=f.memoizedState,I===null)return ur(f),null;if(v=(f.flags&128)!==0,$=I.rendering,$===null)if(v)Uf(I,!1);else{if(Un!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if($=Qm(c),$!==null){for(f.flags|=128,Uf(I,!1),v=$.updateQueue,v!==null&&(f.updateQueue=v,f.flags|=4),f.subtreeFlags=0,v=p,p=f.child;p!==null;)I=p,c=v,I.flags&=14680066,$=I.alternate,$===null?(I.childLanes=0,I.lanes=c,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=$.childLanes,I.lanes=$.lanes,I.child=$.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=$.memoizedProps,I.memoizedState=$.memoizedState,I.updateQueue=$.updateQueue,I.type=$.type,c=$.dependencies,I.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return tn(hn,hn.current&1|2),f.child}c=c.sibling}I.tail!==null&&Xt()>Lu&&(f.flags|=128,v=!0,Uf(I,!1),f.lanes=4194304)}else{if(!v)if(c=Qm($),c!==null){if(f.flags|=128,v=!0,p=c.updateQueue,p!==null&&(f.updateQueue=p,f.flags|=4),Uf(I,!0),I.tail===null&&I.tailMode==="hidden"&&!$.alternate&&!un)return ur(f),null}else 2*Xt()-I.renderingStartTime>Lu&&p!==1073741824&&(f.flags|=128,v=!0,Uf(I,!1),f.lanes=4194304);I.isBackwards?($.sibling=f.child,f.child=$):(p=I.last,p!==null?p.sibling=$:f.child=$,I.last=$)}return I.tail!==null?(f=I.tail,I.rendering=f,I.tail=f.sibling,I.renderingStartTime=Xt(),f.sibling=null,p=hn.current,tn(hn,v?p&1|2:p&1),f):(ur(f),null);case 22:case 23:return Xb(),v=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==v&&(f.flags|=8192),v&&(f.mode&1)!==0?(wi&1073741824)!==0&&(ur(f),f.subtreeFlags&6&&(f.flags|=8192)):ur(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function OF(c,f){switch(lb(f),f.tag){case 1:return Jr(f.type)&&jm(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ru(),an(Zr),an(lr),Eb(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return wb(f),null;case 13:if(an(hn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));ku()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return an(hn),null;case 4:return Ru(),null;case 10:return pb(f.type._context),null;case 22:case 23:return Xb(),null;case 24:return null;default:return null}}var o0=!1,dr=!1,NF=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ou(c,f){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){En(c,f,v)}else p.current=null}function $b(c,f,p){try{p()}catch(v){En(c,f,v)}}var jk=!1;function LF(c,f){if(Xw=Am,c=yC(),Kw(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var A=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var $=0,X=-1,ne=-1,he=0,Ne=0,Fe=c,Me=null;t:for(;;){for(var qe;Fe!==p||A!==0&&Fe.nodeType!==3||(X=$+A),Fe!==I||v!==0&&Fe.nodeType!==3||(ne=$+v),Fe.nodeType===3&&($+=Fe.nodeValue.length),(qe=Fe.firstChild)!==null;)Me=Fe,Fe=qe;for(;;){if(Fe===c)break t;if(Me===p&&++he===A&&(X=$),Me===I&&++Ne===v&&(ne=$),(qe=Fe.nextSibling)!==null)break;Fe=Me,Me=Fe.parentNode}Fe=qe}p=X===-1||ne===-1?null:{start:X,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(eb={focusedElem:c,selectionRange:p},Am=!1,Ze=f;Ze!==null;)if(f=Ze,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,Ze=c;else for(;Ze!==null;){f=Ze;try{var Je=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var Xe=Je.memoizedProps,Cn=Je.memoizedState,ce=f.stateNode,ie=ce.getSnapshotBeforeUpdate(f.elementType===f.type?Xe:yo(f.type,Xe),Cn);ce.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var ue=f.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ue){En(f,f.return,Ue)}if(c=f.sibling,c!==null){c.return=f.return,Ze=c;break}Ze=f.return}return Je=jk,jk=!1,Je}function $f(c,f,p){var v=f.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&c)===c){var I=A.destroy;A.destroy=void 0,I!==void 0&&$b(f,p,I)}A=A.next}while(A!==v)}}function s0(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&c)===c){var v=p.create;p.destroy=v()}p=p.next}while(p!==f)}}function Hb(c){var f=c.ref;if(f!==null){var p=c.stateNode;switch(c.tag){case 5:c=p;break;default:c=p}typeof f=="function"?f(c):f.current=c}}function Uk(c){var f=c.alternate;f!==null&&(c.alternate=null,Uk(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[jo],delete f[Pf],delete f[ib],delete f[yF],delete f[vF])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function $k(c){return c.tag===5||c.tag===3||c.tag===4}function Hk(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||$k(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Vb(c,f,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?p.nodeType===8?p.parentNode.insertBefore(c,f):p.insertBefore(c,f):(p.nodeType===8?(f=p.parentNode,f.insertBefore(c,p)):(f=p,f.appendChild(c)),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=Dm));else if(v!==4&&(c=c.child,c!==null))for(Vb(c,f,p),c=c.sibling;c!==null;)Vb(c,f,p),c=c.sibling}function zb(c,f,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?p.insertBefore(c,f):p.appendChild(c);else if(v!==4&&(c=c.child,c!==null))for(zb(c,f,p),c=c.sibling;c!==null;)zb(c,f,p),c=c.sibling}var tr=null,vo=!1;function Ua(c,f,p){for(p=p.child;p!==null;)Vk(c,f,p),p=p.sibling}function Vk(c,f,p){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Cs,p)}catch{}switch(p.tag){case 5:dr||Ou(p,f);case 6:var v=tr,A=vo;tr=null,Ua(c,f,p),tr=v,vo=A,tr!==null&&(vo?(c=tr,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):tr.removeChild(p.stateNode));break;case 18:tr!==null&&(vo?(c=tr,p=p.stateNode,c.nodeType===8?rb(c.parentNode,p):c.nodeType===1&&rb(c,p),wf(c)):rb(tr,p.stateNode));break;case 4:v=tr,A=vo,tr=p.stateNode.containerInfo,vo=!0,Ua(c,f,p),tr=v,vo=A;break;case 0:case 11:case 14:case 15:if(!dr&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){A=v=v.next;do{var I=A,$=I.destroy;I=I.tag,$!==void 0&&((I&2)!==0||(I&4)!==0)&&$b(p,f,$),A=A.next}while(A!==v)}Ua(c,f,p);break;case 1:if(!dr&&(Ou(p,f),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(X){En(p,f,X)}Ua(c,f,p);break;case 21:Ua(c,f,p);break;case 22:p.mode&1?(dr=(v=dr)||p.memoizedState!==null,Ua(c,f,p),dr=v):Ua(c,f,p);break;default:Ua(c,f,p)}}function zk(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new NF),f.forEach(function(v){var A=zF.bind(null,c,v);p.has(v)||(p.add(v),v.then(A,A))})}}function wo(c,f){var p=f.deletions;if(p!==null)for(var v=0;v<p.length;v++){var A=p[v];try{var I=c,$=f,X=$;e:for(;X!==null;){switch(X.tag){case 5:tr=X.stateNode,vo=!1;break e;case 3:tr=X.stateNode.containerInfo,vo=!0;break e;case 4:tr=X.stateNode.containerInfo,vo=!0;break e}X=X.return}if(tr===null)throw Error(n(160));Vk(I,$,A),tr=null,vo=!1;var ne=A.alternate;ne!==null&&(ne.return=null),A.return=null}catch(he){En(A,f,he)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)Kk(f,c),f=f.sibling}function Kk(c,f){var p=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(wo(f,c),Ho(c),v&4){try{$f(3,c,c.return),s0(3,c)}catch(Xe){En(c,c.return,Xe)}try{$f(5,c,c.return)}catch(Xe){En(c,c.return,Xe)}}break;case 1:wo(f,c),Ho(c),v&512&&p!==null&&Ou(p,p.return);break;case 5:if(wo(f,c),Ho(c),v&512&&p!==null&&Ou(p,p.return),c.flags&32){var A=c.stateNode;try{Gt(A,"")}catch(Xe){En(c,c.return,Xe)}}if(v&4&&(A=c.stateNode,A!=null)){var I=c.memoizedProps,$=p!==null?p.memoizedProps:I,X=c.type,ne=c.updateQueue;if(c.updateQueue=null,ne!==null)try{X==="input"&&I.type==="radio"&&I.name!=null&&_e(A,I),Li(X,$);var he=Li(X,I);for($=0;$<ne.length;$+=2){var Ne=ne[$],Fe=ne[$+1];Ne==="style"?fo(A,Fe):Ne==="dangerouslySetInnerHTML"?xt(A,Fe):Ne==="children"?Gt(A,Fe):x(A,Ne,Fe,he)}switch(X){case"input":Ee(A,I);break;case"textarea":le(A,I);break;case"select":var Me=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!I.multiple;var qe=I.value;qe!=null?Ke(A,!!I.multiple,qe,!1):Me!==!!I.multiple&&(I.defaultValue!=null?Ke(A,!!I.multiple,I.defaultValue,!0):Ke(A,!!I.multiple,I.multiple?[]:"",!1))}A[Pf]=I}catch(Xe){En(c,c.return,Xe)}}break;case 6:if(wo(f,c),Ho(c),v&4){if(c.stateNode===null)throw Error(n(162));A=c.stateNode,I=c.memoizedProps;try{A.nodeValue=I}catch(Xe){En(c,c.return,Xe)}}break;case 3:if(wo(f,c),Ho(c),v&4&&p!==null&&p.memoizedState.isDehydrated)try{wf(f.containerInfo)}catch(Xe){En(c,c.return,Xe)}break;case 4:wo(f,c),Ho(c);break;case 13:wo(f,c),Ho(c),A=c.child,A.flags&8192&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(Gb=Xt())),v&4&&zk(c);break;case 22:if(Ne=p!==null&&p.memoizedState!==null,c.mode&1?(dr=(he=dr)||Ne,wo(f,c),dr=he):wo(f,c),Ho(c),v&8192){if(he=c.memoizedState!==null,(c.stateNode.isHidden=he)&&!Ne&&(c.mode&1)!==0)for(Ze=c,Ne=c.child;Ne!==null;){for(Fe=Ze=Ne;Ze!==null;){switch(Me=Ze,qe=Me.child,Me.tag){case 0:case 11:case 14:case 15:$f(4,Me,Me.return);break;case 1:Ou(Me,Me.return);var Je=Me.stateNode;if(typeof Je.componentWillUnmount=="function"){v=Me,p=Me.return;try{f=v,Je.props=f.memoizedProps,Je.state=f.memoizedState,Je.componentWillUnmount()}catch(Xe){En(v,p,Xe)}}break;case 5:Ou(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Wk(Fe);continue}}qe!==null?(qe.return=Me,Ze=qe):Wk(Fe)}Ne=Ne.sibling}e:for(Ne=null,Fe=c;;){if(Fe.tag===5){if(Ne===null){Ne=Fe;try{A=Fe.stateNode,he?(I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(X=Fe.stateNode,ne=Fe.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,X.style.display=uo("display",$))}catch(Xe){En(c,c.return,Xe)}}}else if(Fe.tag===6){if(Ne===null)try{Fe.stateNode.nodeValue=he?"":Fe.memoizedProps}catch(Xe){En(c,c.return,Xe)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===c)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===c)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===c)break e;Ne===Fe&&(Ne=null),Fe=Fe.return}Ne===Fe&&(Ne=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:wo(f,c),Ho(c),v&4&&zk(c);break;case 21:break;default:wo(f,c),Ho(c)}}function Ho(c){var f=c.flags;if(f&2){try{e:{for(var p=c.return;p!==null;){if($k(p)){var v=p;break e}p=p.return}throw Error(n(160))}switch(v.tag){case 5:var A=v.stateNode;v.flags&32&&(Gt(A,""),v.flags&=-33);var I=Hk(c);zb(c,I,A);break;case 3:case 4:var $=v.stateNode.containerInfo,X=Hk(c);Vb(c,X,$);break;default:throw Error(n(161))}}catch(ne){En(c,c.return,ne)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function BF(c,f,p){Ze=c,qk(c)}function qk(c,f,p){for(var v=(c.mode&1)!==0;Ze!==null;){var A=Ze,I=A.child;if(A.tag===22&&v){var $=A.memoizedState!==null||o0;if(!$){var X=A.alternate,ne=X!==null&&X.memoizedState!==null||dr;X=o0;var he=dr;if(o0=$,(dr=ne)&&!he)for(Ze=A;Ze!==null;)$=Ze,ne=$.child,$.tag===22&&$.memoizedState!==null?Yk(A):ne!==null?(ne.return=$,Ze=ne):Yk(A);for(;I!==null;)Ze=I,qk(I),I=I.sibling;Ze=A,o0=X,dr=he}Gk(c)}else(A.subtreeFlags&8772)!==0&&I!==null?(I.return=A,Ze=I):Gk(c)}}function Gk(c){for(;Ze!==null;){var f=Ze;if((f.flags&8772)!==0){var p=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:dr||s0(5,f);break;case 1:var v=f.stateNode;if(f.flags&4&&!dr)if(p===null)v.componentDidMount();else{var A=f.elementType===f.type?p.memoizedProps:yo(f.type,p.memoizedProps);v.componentDidUpdate(A,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&WC(f,I,v);break;case 3:var $=f.updateQueue;if($!==null){if(p=null,f.child!==null)switch(f.child.tag){case 5:p=f.child.stateNode;break;case 1:p=f.child.stateNode}WC(f,$,p)}break;case 5:var X=f.stateNode;if(p===null&&f.flags&4){p=X;var ne=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var he=f.alternate;if(he!==null){var Ne=he.memoizedState;if(Ne!==null){var Fe=Ne.dehydrated;Fe!==null&&wf(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dr||f.flags&512&&Hb(f)}catch(Me){En(f,f.return,Me)}}if(f===c){Ze=null;break}if(p=f.sibling,p!==null){p.return=f.return,Ze=p;break}Ze=f.return}}function Wk(c){for(;Ze!==null;){var f=Ze;if(f===c){Ze=null;break}var p=f.sibling;if(p!==null){p.return=f.return,Ze=p;break}Ze=f.return}}function Yk(c){for(;Ze!==null;){var f=Ze;try{switch(f.tag){case 0:case 11:case 15:var p=f.return;try{s0(4,f)}catch(ne){En(f,p,ne)}break;case 1:var v=f.stateNode;if(typeof v.componentDidMount=="function"){var A=f.return;try{v.componentDidMount()}catch(ne){En(f,A,ne)}}var I=f.return;try{Hb(f)}catch(ne){En(f,I,ne)}break;case 5:var $=f.return;try{Hb(f)}catch(ne){En(f,$,ne)}}}catch(ne){En(f,f.return,ne)}if(f===c){Ze=null;break}var X=f.sibling;if(X!==null){X.return=f.return,Ze=X;break}Ze=f.return}}var DF=Math.ceil,a0=P.ReactCurrentDispatcher,Kb=P.ReactCurrentOwner,Ui=P.ReactCurrentBatchConfig,Ht=0,qn=null,Mn=null,nr=0,wi=0,Nu=La(0),Un=0,Hf=null,rc=0,l0=0,qb=0,Vf=null,ei=null,Gb=0,Lu=1/0,Ns=null,c0=!1,Wb=null,$a=null,u0=!1,Ha=null,d0=0,zf=0,Yb=null,f0=-1,h0=0;function Mr(){return(Ht&6)!==0?Xt():f0!==-1?f0:f0=Xt()}function Va(c){return(c.mode&1)===0?1:(Ht&2)!==0&&nr!==0?nr&-nr:bF.transition!==null?(h0===0&&(h0=HA()),h0):(c=Jt,c!==0||(c=window.event,c=c===void 0?16:ZA(c.type)),c)}function bo(c,f,p,v){if(50<zf)throw zf=0,Yb=null,Error(n(185));pf(c,p,v),((Ht&2)===0||c!==qn)&&(c===qn&&((Ht&2)===0&&(l0|=p),Un===4&&za(c,nr)),ti(c,v),p===1&&Ht===0&&(f.mode&1)===0&&(Lu=Xt()+500,$m&&Da()))}function ti(c,f){var p=c.callbackNode;b9(c,f);var v=_m(c,c===qn?nr:0);if(v===0)p!==null&&ka(p),c.callbackNode=null,c.callbackPriority=0;else if(f=v&-v,c.callbackPriority!==f){if(p!=null&&ka(p),f===1)c.tag===0?wF(Zk.bind(null,c)):BC(Zk.bind(null,c)),mF(function(){(Ht&6)===0&&Da()}),p=null;else{switch(VA(v)){case 1:p=ho;break;case 4:p=Yl;break;case 16:p=$t;break;case 536870912:p=po;break;default:p=$t}p=oT(p,Qk.bind(null,c))}c.callbackPriority=f,c.callbackNode=p}}function Qk(c,f){if(f0=-1,h0=0,(Ht&6)!==0)throw Error(n(327));var p=c.callbackNode;if(Bu()&&c.callbackNode!==p)return null;var v=_m(c,c===qn?nr:0);if(v===0)return null;if((v&30)!==0||(v&c.expiredLanes)!==0||f)f=p0(c,v);else{f=v;var A=Ht;Ht|=2;var I=Xk();(qn!==c||nr!==f)&&(Ns=null,Lu=Xt()+500,oc(c,f));do try{UF();break}catch(X){Jk(c,X)}while(!0);hb(),a0.current=I,Ht=A,Mn!==null?f=0:(qn=null,nr=0,f=Un)}if(f!==0){if(f===2&&(A=Iw(c),A!==0&&(v=A,f=Qb(c,A))),f===1)throw p=Hf,oc(c,0),za(c,v),ti(c,Xt()),p;if(f===6)za(c,v);else{if(A=c.current.alternate,(v&30)===0&&!FF(A)&&(f=p0(c,v),f===2&&(I=Iw(c),I!==0&&(v=I,f=Qb(c,I))),f===1))throw p=Hf,oc(c,0),za(c,v),ti(c,Xt()),p;switch(c.finishedWork=A,c.finishedLanes=v,f){case 0:case 1:throw Error(n(345));case 2:sc(c,ei,Ns);break;case 3:if(za(c,v),(v&130023424)===v&&(f=Gb+500-Xt(),10<f)){if(_m(c,0)!==0)break;if(A=c.suspendedLanes,(A&v)!==v){Mr(),c.pingedLanes|=c.suspendedLanes&A;break}c.timeoutHandle=nb(sc.bind(null,c,ei,Ns),f);break}sc(c,ei,Ns);break;case 4:if(za(c,v),(v&4194240)===v)break;for(f=c.eventTimes,A=-1;0<v;){var $=31-zn(v);I=1<<$,$=f[$],$>A&&(A=$),v&=~I}if(v=A,v=Xt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*DF(v/1960))-v,10<v){c.timeoutHandle=nb(sc.bind(null,c,ei,Ns),v);break}sc(c,ei,Ns);break;case 5:sc(c,ei,Ns);break;default:throw Error(n(329))}}}return ti(c,Xt()),c.callbackNode===p?Qk.bind(null,c):null}function Qb(c,f){var p=Vf;return c.current.memoizedState.isDehydrated&&(oc(c,f).flags|=256),c=p0(c,f),c!==2&&(f=ei,ei=p,f!==null&&Zb(f)),c}function Zb(c){ei===null?ei=c:ei.push.apply(ei,c)}function FF(c){for(var f=c;;){if(f.flags&16384){var p=f.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var A=p[v],I=A.getSnapshot;A=A.value;try{if(!mo(I(),A))return!1}catch{return!1}}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function za(c,f){for(f&=~qb,f&=~l0,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var p=31-zn(f),v=1<<p;c[p]=-1,f&=~v}}function Zk(c){if((Ht&6)!==0)throw Error(n(327));Bu();var f=_m(c,0);if((f&1)===0)return ti(c,Xt()),null;var p=p0(c,f);if(c.tag!==0&&p===2){var v=Iw(c);v!==0&&(f=v,p=Qb(c,v))}if(p===1)throw p=Hf,oc(c,0),za(c,f),ti(c,Xt()),p;if(p===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,sc(c,ei,Ns),ti(c,Xt()),null}function Jb(c,f){var p=Ht;Ht|=1;try{return c(f)}finally{Ht=p,Ht===0&&(Lu=Xt()+500,$m&&Da())}}function ic(c){Ha!==null&&Ha.tag===0&&(Ht&6)===0&&Bu();var f=Ht;Ht|=1;var p=Ui.transition,v=Jt;try{if(Ui.transition=null,Jt=1,c)return c()}finally{Jt=v,Ui.transition=p,Ht=f,(Ht&6)===0&&Da()}}function Xb(){wi=Nu.current,an(Nu)}function oc(c,f){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,pF(p)),Mn!==null)for(p=Mn.return;p!==null;){var v=p;switch(lb(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&jm();break;case 3:Ru(),an(Zr),an(lr),Eb();break;case 5:wb(v);break;case 4:Ru();break;case 13:an(hn);break;case 19:an(hn);break;case 10:pb(v.type._context);break;case 22:case 23:Xb()}p=p.return}if(qn=c,Mn=c=Ka(c.current,null),nr=wi=f,Un=0,Hf=null,qb=l0=rc=0,ei=Vf=null,ec!==null){for(f=0;f<ec.length;f++)if(p=ec[f],v=p.interleaved,v!==null){p.interleaved=null;var A=v.next,I=p.pending;if(I!==null){var $=I.next;I.next=A,v.next=$}p.pending=v}ec=null}return c}function Jk(c,f){do{var p=Mn;try{if(hb(),Zm.current=t0,Jm){for(var v=pn.memoizedState;v!==null;){var A=v.queue;A!==null&&(A.pending=null),v=v.next}Jm=!1}if(nc=0,Kn=jn=pn=null,Bf=!1,Df=0,Kb.current=null,p===null||p.return===null){Un=1,Hf=f,Mn=null;break}e:{var I=c,$=p.return,X=p,ne=f;if(f=nr,X.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var he=ne,Ne=X,Fe=Ne.tag;if((Ne.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Me=Ne.alternate;Me?(Ne.updateQueue=Me.updateQueue,Ne.memoizedState=Me.memoizedState,Ne.lanes=Me.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var qe=xk($);if(qe!==null){qe.flags&=-257,Sk(qe,$,X,I,f),qe.mode&1&&_k(I,he,f),f=qe,ne=he;var Je=f.updateQueue;if(Je===null){var Xe=new Set;Xe.add(ne),f.updateQueue=Xe}else Je.add(ne);break e}else{if((f&1)===0){_k(I,he,f),e1();break e}ne=Error(n(426))}}else if(un&&X.mode&1){var Cn=xk($);if(Cn!==null){(Cn.flags&65536)===0&&(Cn.flags|=256),Sk(Cn,$,X,I,f),db(Mu(ne,X));break e}}I=ne=Mu(ne,X),Un!==4&&(Un=2),Vf===null?Vf=[I]:Vf.push(I),I=$;do{switch(I.tag){case 3:I.flags|=65536,f&=-f,I.lanes|=f;var ce=bk(I,ne,f);GC(I,ce);break e;case 1:X=ne;var ie=I.type,ue=I.stateNode;if((I.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&($a===null||!$a.has(ue)))){I.flags|=65536,f&=-f,I.lanes|=f;var Ue=Ek(I,X,f);GC(I,Ue);break e}}I=I.return}while(I!==null)}tT(p)}catch(tt){f=tt,Mn===p&&p!==null&&(Mn=p=p.return);continue}break}while(!0)}function Xk(){var c=a0.current;return a0.current=t0,c===null?t0:c}function e1(){(Un===0||Un===3||Un===2)&&(Un=4),qn===null||(rc&268435455)===0&&(l0&268435455)===0||za(qn,nr)}function p0(c,f){var p=Ht;Ht|=2;var v=Xk();(qn!==c||nr!==f)&&(Ns=null,oc(c,f));do try{jF();break}catch(A){Jk(c,A)}while(!0);if(hb(),Ht=p,a0.current=v,Mn!==null)throw Error(n(261));return qn=null,nr=0,Un}function jF(){for(;Mn!==null;)eT(Mn)}function UF(){for(;Mn!==null&&!Wr();)eT(Mn)}function eT(c){var f=iT(c.alternate,c,wi);c.memoizedProps=c.pendingProps,f===null?tT(c):Mn=f,Kb.current=null}function tT(c){var f=c;do{var p=f.alternate;if(c=f.return,(f.flags&32768)===0){if(p=MF(p,f,wi),p!==null){Mn=p;return}}else{if(p=OF(p,f),p!==null){p.flags&=32767,Mn=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Un=6,Mn=null;return}}if(f=f.sibling,f!==null){Mn=f;return}Mn=f=c}while(f!==null);Un===0&&(Un=5)}function sc(c,f,p){var v=Jt,A=Ui.transition;try{Ui.transition=null,Jt=1,$F(c,f,p,v)}finally{Ui.transition=A,Jt=v}return null}function $F(c,f,p,v){do Bu();while(Ha!==null);if((Ht&6)!==0)throw Error(n(327));p=c.finishedWork;var A=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var I=p.lanes|p.childLanes;if(E9(c,I),c===qn&&(Mn=qn=null,nr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||u0||(u0=!0,oT($t,function(){return Bu(),null})),I=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||I){I=Ui.transition,Ui.transition=null;var $=Jt;Jt=1;var X=Ht;Ht|=4,Kb.current=null,LF(c,p),Kk(p,c),aF(eb),Am=!!Xw,eb=Xw=null,c.current=p,BF(p),Wl(),Ht=X,Jt=$,Ui.transition=I}else c.current=p;if(u0&&(u0=!1,Ha=c,d0=A),I=c.pendingLanes,I===0&&($a=null),bn(p.stateNode),ti(c,Xt()),f!==null)for(v=c.onRecoverableError,p=0;p<f.length;p++)A=f[p],v(A.value,{componentStack:A.stack,digest:A.digest});if(c0)throw c0=!1,c=Wb,Wb=null,c;return(d0&1)!==0&&c.tag!==0&&Bu(),I=c.pendingLanes,(I&1)!==0?c===Yb?zf++:(zf=0,Yb=c):zf=0,Da(),null}function Bu(){if(Ha!==null){var c=VA(d0),f=Ui.transition,p=Jt;try{if(Ui.transition=null,Jt=16>c?16:c,Ha===null)var v=!1;else{if(c=Ha,Ha=null,d0=0,(Ht&6)!==0)throw Error(n(331));var A=Ht;for(Ht|=4,Ze=c.current;Ze!==null;){var I=Ze,$=I.child;if((Ze.flags&16)!==0){var X=I.deletions;if(X!==null){for(var ne=0;ne<X.length;ne++){var he=X[ne];for(Ze=he;Ze!==null;){var Ne=Ze;switch(Ne.tag){case 0:case 11:case 15:$f(8,Ne,I)}var Fe=Ne.child;if(Fe!==null)Fe.return=Ne,Ze=Fe;else for(;Ze!==null;){Ne=Ze;var Me=Ne.sibling,qe=Ne.return;if(Uk(Ne),Ne===he){Ze=null;break}if(Me!==null){Me.return=qe,Ze=Me;break}Ze=qe}}}var Je=I.alternate;if(Je!==null){var Xe=Je.child;if(Xe!==null){Je.child=null;do{var Cn=Xe.sibling;Xe.sibling=null,Xe=Cn}while(Xe!==null)}}Ze=I}}if((I.subtreeFlags&2064)!==0&&$!==null)$.return=I,Ze=$;else e:for(;Ze!==null;){if(I=Ze,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:$f(9,I,I.return)}var ce=I.sibling;if(ce!==null){ce.return=I.return,Ze=ce;break e}Ze=I.return}}var ie=c.current;for(Ze=ie;Ze!==null;){$=Ze;var ue=$.child;if(($.subtreeFlags&2064)!==0&&ue!==null)ue.return=$,Ze=ue;else e:for($=ie;Ze!==null;){if(X=Ze,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:s0(9,X)}}catch(tt){En(X,X.return,tt)}if(X===$){Ze=null;break e}var Ue=X.sibling;if(Ue!==null){Ue.return=X.return,Ze=Ue;break e}Ze=X.return}}if(Ht=A,Da(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Cs,c)}catch{}v=!0}return v}finally{Jt=p,Ui.transition=f}}return!1}function nT(c,f,p){f=Mu(p,f),f=bk(c,f,1),c=ja(c,f,1),f=Mr(),c!==null&&(pf(c,1,f),ti(c,f))}function En(c,f,p){if(c.tag===3)nT(c,c,p);else for(;f!==null;){if(f.tag===3){nT(f,c,p);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&($a===null||!$a.has(v))){c=Mu(p,c),c=Ek(f,c,1),f=ja(f,c,1),c=Mr(),f!==null&&(pf(f,1,c),ti(f,c));break}}f=f.return}}function HF(c,f,p){var v=c.pingCache;v!==null&&v.delete(f),f=Mr(),c.pingedLanes|=c.suspendedLanes&p,qn===c&&(nr&p)===p&&(Un===4||Un===3&&(nr&130023424)===nr&&500>Xt()-Gb?oc(c,0):qb|=p),ti(c,f)}function rT(c,f){f===0&&((c.mode&1)===0?f=1:(f=Em,Em<<=1,(Em&130023424)===0&&(Em=4194304)));var p=Mr();c=Rs(c,f),c!==null&&(pf(c,f,p),ti(c,p))}function VF(c){var f=c.memoizedState,p=0;f!==null&&(p=f.retryLane),rT(c,p)}function zF(c,f){var p=0;switch(c.tag){case 13:var v=c.stateNode,A=c.memoizedState;A!==null&&(p=A.retryLane);break;case 19:v=c.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(f),rT(c,p)}var iT;iT=function(c,f,p){if(c!==null)if(c.memoizedProps!==f.pendingProps||Zr.current)Xr=!0;else{if((c.lanes&p)===0&&(f.flags&128)===0)return Xr=!1,RF(c,f,p);Xr=(c.flags&131072)!==0}else Xr=!1,un&&(f.flags&1048576)!==0&&DC(f,Vm,f.index);switch(f.lanes=0,f.tag){case 2:var v=f.type;i0(c,f),c=f.pendingProps;var A=Su(f,lr.current);Pu(f,p),A=Sb(null,f,v,c,A,p);var I=Ab();return f.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Jr(v)?(I=!0,Um(f)):I=!1,f.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,yb(f),A.updater=n0,f.stateNode=A,A._reactInternals=f,Rb(f,v,c,p),f=Lb(null,f,v,!0,I,p)):(f.tag=0,un&&I&&ab(f),Rr(null,f,A,p),f=f.child),f;case 16:v=f.elementType;e:{switch(i0(c,f),c=f.pendingProps,A=v._init,v=A(v._payload),f.type=v,A=f.tag=qF(v),c=yo(v,c),A){case 0:f=Nb(null,f,v,c,p);break e;case 1:f=Pk(null,f,v,c,p);break e;case 11:f=Ak(null,f,v,c,p);break e;case 14:f=Ck(null,f,v,yo(v.type,c),p);break e}throw Error(n(306,v,""))}return f;case 0:return v=f.type,A=f.pendingProps,A=f.elementType===v?A:yo(v,A),Nb(c,f,v,A,p);case 1:return v=f.type,A=f.pendingProps,A=f.elementType===v?A:yo(v,A),Pk(c,f,v,A,p);case 3:e:{if(Rk(f),c===null)throw Error(n(387));v=f.pendingProps,I=f.memoizedState,A=I.element,qC(c,f),Ym(f,v,null,p);var $=f.memoizedState;if(v=$.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){A=Mu(Error(n(423)),f),f=Mk(c,f,v,p,A);break e}else if(v!==A){A=Mu(Error(n(424)),f),f=Mk(c,f,v,p,A);break e}else for(vi=Na(f.stateNode.containerInfo.firstChild),yi=f,un=!0,go=null,p=zC(f,null,v,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ku(),v===A){f=Os(c,f,p);break e}Rr(c,f,v,p)}f=f.child}return f;case 5:return YC(f),c===null&&ub(f),v=f.type,A=f.pendingProps,I=c!==null?c.memoizedProps:null,$=A.children,tb(v,A)?$=null:I!==null&&tb(v,I)&&(f.flags|=32),Ik(c,f),Rr(c,f,$,p),f.child;case 6:return c===null&&ub(f),null;case 13:return Ok(c,f,p);case 4:return vb(f,f.stateNode.containerInfo),v=f.pendingProps,c===null?f.child=Tu(f,null,v,p):Rr(c,f,v,p),f.child;case 11:return v=f.type,A=f.pendingProps,A=f.elementType===v?A:yo(v,A),Ak(c,f,v,A,p);case 7:return Rr(c,f,f.pendingProps,p),f.child;case 8:return Rr(c,f,f.pendingProps.children,p),f.child;case 12:return Rr(c,f,f.pendingProps.children,p),f.child;case 10:e:{if(v=f.type._context,A=f.pendingProps,I=f.memoizedProps,$=A.value,tn(qm,v._currentValue),v._currentValue=$,I!==null)if(mo(I.value,$)){if(I.children===A.children&&!Zr.current){f=Os(c,f,p);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var X=I.dependencies;if(X!==null){$=I.child;for(var ne=X.firstContext;ne!==null;){if(ne.context===v){if(I.tag===1){ne=Ms(-1,p&-p),ne.tag=2;var he=I.updateQueue;if(he!==null){he=he.shared;var Ne=he.pending;Ne===null?ne.next=ne:(ne.next=Ne.next,Ne.next=ne),he.pending=ne}}I.lanes|=p,ne=I.alternate,ne!==null&&(ne.lanes|=p),mb(I.return,p,f),X.lanes|=p;break}ne=ne.next}}else if(I.tag===10)$=I.type===f.type?null:I.child;else if(I.tag===18){if($=I.return,$===null)throw Error(n(341));$.lanes|=p,X=$.alternate,X!==null&&(X.lanes|=p),mb($,p,f),$=I.sibling}else $=I.child;if($!==null)$.return=I;else for($=I;$!==null;){if($===f){$=null;break}if(I=$.sibling,I!==null){I.return=$.return,$=I;break}$=$.return}I=$}Rr(c,f,A.children,p),f=f.child}return f;case 9:return A=f.type,v=f.pendingProps.children,Pu(f,p),A=Fi(A),v=v(A),f.flags|=1,Rr(c,f,v,p),f.child;case 14:return v=f.type,A=yo(v,f.pendingProps),A=yo(v.type,A),Ck(c,f,v,A,p);case 15:return kk(c,f,f.type,f.pendingProps,p);case 17:return v=f.type,A=f.pendingProps,A=f.elementType===v?A:yo(v,A),i0(c,f),f.tag=1,Jr(v)?(c=!0,Um(f)):c=!1,Pu(f,p),vk(f,v,A),Rb(f,v,A,p),Lb(null,f,v,!0,c,p);case 19:return Lk(c,f,p);case 22:return Tk(c,f,p)}throw Error(n(156,f.tag))};function oT(c,f){return Fo(c,f)}function KF(c,f,p,v){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(c,f,p,v){return new KF(c,f,p,v)}function t1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function qF(c){if(typeof c=="function")return t1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===q)return 11;if(c===S)return 14}return 2}function Ka(c,f){var p=c.alternate;return p===null?(p=$i(c.tag,f,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=f,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,f=c.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function m0(c,f,p,v,A,I){var $=2;if(v=c,typeof c=="function")t1(c)&&($=1);else if(typeof c=="string")$=5;else e:switch(c){case K:return ac(p.children,A,I,f);case j:$=8,A|=8;break;case G:return c=$i(12,p,f,A|2),c.elementType=G,c.lanes=I,c;case k:return c=$i(13,p,f,A),c.elementType=k,c.lanes=I,c;case C:return c=$i(19,p,f,A),c.elementType=C,c.lanes=I,c;case R:return g0(p,A,I,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:$=10;break e;case W:$=9;break e;case q:$=11;break e;case S:$=14;break e;case T:$=16,v=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return f=$i($,p,f,A),f.elementType=c,f.type=v,f.lanes=I,f}function ac(c,f,p,v){return c=$i(7,c,v,f),c.lanes=p,c}function g0(c,f,p,v){return c=$i(22,c,v,f),c.elementType=R,c.lanes=p,c.stateNode={isHidden:!1},c}function n1(c,f,p){return c=$i(6,c,null,f),c.lanes=p,c}function r1(c,f,p){return f=$i(4,c.children!==null?c.children:[],c.key,f),f.lanes=p,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function GF(c,f,p,v,A){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pw(0),this.expirationTimes=Pw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pw(0),this.identifierPrefix=v,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function i1(c,f,p,v,A,I,$,X,ne){return c=new GF(c,f,p,X,ne),f===1?(f=1,I===!0&&(f|=8)):f=0,I=$i(3,null,null,f),c.current=I,I.stateNode=c,I.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},yb(I),c}function WF(c,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:v==null?null:""+v,children:c,containerInfo:f,implementation:p}}function sT(c){if(!c)return Ba;c=c._reactInternals;e:{if(Dt(c)!==c||c.tag!==1)throw Error(n(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Jr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(c.tag===1){var p=c.type;if(Jr(p))return NC(c,p,f)}return f}function aT(c,f,p,v,A,I,$,X,ne){return c=i1(p,v,!0,c,A,I,$,X,ne),c.context=sT(null),p=c.current,v=Mr(),A=Va(p),I=Ms(v,A),I.callback=f??null,ja(p,I,A),c.current.lanes=A,pf(c,A,v),ti(c,v),c}function y0(c,f,p,v){var A=f.current,I=Mr(),$=Va(A);return p=sT(p),f.context===null?f.context=p:f.pendingContext=p,f=Ms(I,$),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=ja(A,f,$),c!==null&&(bo(c,A,$,I),Wm(c,A,$)),$}function v0(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function lT(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<f?p:f}}function o1(c,f){lT(c,f),(c=c.alternate)&&lT(c,f)}function YF(){return null}var cT=typeof reportError=="function"?reportError:function(c){console.error(c)};function s1(c){this._internalRoot=c}w0.prototype.render=s1.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));y0(c,f,null,null)},w0.prototype.unmount=s1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;ic(function(){y0(null,c,null,null)}),f[ks]=null}};function w0(c){this._internalRoot=c}w0.prototype.unstable_scheduleHydration=function(c){if(c){var f=qA();c={blockedOn:null,target:c,priority:f};for(var p=0;p<Ra.length&&f!==0&&f<Ra[p].priority;p++);Ra.splice(p,0,c),p===0&&YA(c)}};function a1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function b0(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function uT(){}function QF(c,f,p,v,A){if(A){if(typeof v=="function"){var I=v;v=function(){var he=v0($);I.call(he)}}var $=aT(f,v,c,0,null,!1,!1,"",uT);return c._reactRootContainer=$,c[ks]=$.current,Tf(c.nodeType===8?c.parentNode:c),ic(),$}for(;A=c.lastChild;)c.removeChild(A);if(typeof v=="function"){var X=v;v=function(){var he=v0(ne);X.call(he)}}var ne=i1(c,0,!1,null,null,!1,!1,"",uT);return c._reactRootContainer=ne,c[ks]=ne.current,Tf(c.nodeType===8?c.parentNode:c),ic(function(){y0(f,ne,p,v)}),ne}function E0(c,f,p,v,A){var I=p._reactRootContainer;if(I){var $=I;if(typeof A=="function"){var X=A;A=function(){var ne=v0($);X.call(ne)}}y0(f,$,c,A)}else $=QF(p,f,c,A,v);return v0($)}zA=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var p=hf(f.pendingLanes);p!==0&&(Rw(f,p|1),ti(f,Xt()),(Ht&6)===0&&(Lu=Xt()+500,Da()))}break;case 13:ic(function(){var v=Rs(c,1);if(v!==null){var A=Mr();bo(v,c,1,A)}}),o1(c,1)}},Mw=function(c){if(c.tag===13){var f=Rs(c,134217728);if(f!==null){var p=Mr();bo(f,c,134217728,p)}o1(c,134217728)}},KA=function(c){if(c.tag===13){var f=Va(c),p=Rs(c,f);if(p!==null){var v=Mr();bo(p,c,f,v)}o1(c,f)}},qA=function(){return Jt},GA=function(c,f){var p=Jt;try{return Jt=c,f()}finally{Jt=p}},uf=function(c,f,p){switch(f){case"input":if(Ee(c,p),f=p.name,p.type==="radio"&&f!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<p.length;f++){var v=p[f];if(v!==c&&v.form===c.form){var A=Fm(v);if(!A)throw Error(n(90));de(v),Ee(v,A)}}}break;case"textarea":le(c,p);break;case"select":f=p.value,f!=null&&Ke(c,!!p.multiple,f,!1)}},ym=Jb,vm=ic;var ZF={usingClientEntryPoint:!1,Events:[Rf,_u,Fm,ql,Gl,Jb]},Kf={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JF={bundleType:Kf.bundleType,version:Kf.version,rendererPackageName:Kf.rendererPackageName,rendererConfig:Kf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Lt(c),c===null?null:c.stateNode},findFiberByHostInstance:Kf.findFiberByHostInstance||YF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{Cs=_0.inject(JF),Qr=_0}catch{}}return ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF,ni.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a1(f))throw Error(n(200));return WF(c,f,null,p)},ni.createRoot=function(c,f){if(!a1(c))throw Error(n(299));var p=!1,v="",A=cT;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),f=i1(c,1,!1,null,null,p,!1,v,A),c[ks]=f.current,Tf(c.nodeType===8?c.parentNode:c),new s1(f)},ni.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Lt(f),c=c===null?null:c.stateNode,c},ni.flushSync=function(c){return ic(c)},ni.hydrate=function(c,f,p){if(!b0(f))throw Error(n(200));return E0(null,c,f,!0,p)},ni.hydrateRoot=function(c,f,p){if(!a1(c))throw Error(n(405));var v=p!=null&&p.hydratedSources||null,A=!1,I="",$=cT;if(p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onRecoverableError!==void 0&&($=p.onRecoverableError)),f=aT(f,null,c,1,p??null,A,!1,I,$),c[ks]=f.current,Tf(c),v)for(c=0;c<v.length;c++)p=v[c],A=p._getVersion,A=A(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,A]:f.mutableSourceEagerHydrationData.push(p,A);return new w0(f)},ni.render=function(c,f,p){if(!b0(f))throw Error(n(200));return E0(null,c,f,!1,p)},ni.unmountComponentAtNode=function(c){if(!b0(c))throw Error(n(40));return c._reactRootContainer?(ic(function(){E0(null,null,c,!1,function(){c._reactRootContainer=null,c[ks]=null})}),!0):!1},ni.unstable_batchedUpdates=Jb,ni.unstable_renderSubtreeIntoContainer=function(c,f,p,v){if(!b0(p))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return E0(c,f,p,!1,v)},ni.version="18.3.1-next-f1338f8080-20240426",ni}var vT;function M5(){if(vT)return u1.exports;vT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u1.exports=s7(),u1.exports}var wT;function a7(){if(wT)return x0;wT=1;var t=M5();return x0.createRoot=t.createRoot,x0.hydrateRoot=t.hydrateRoot,x0}var l7=a7();const c7=Gp(l7),u7="modulepreload",d7=function(t){return"/"+t},bT={},f7=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(u=>{if(u=d7(u),u in bT)return;bT[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":u7,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var Z=Rv();const cn=Gp(Z);var zc=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r_={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||ET!==void 0&&ET,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=o!==void 0&&o||typeof self<"u"&&self||a!==void 0&&a,l="URLSearchParams"in a,u="Symbol"in a&&"iterator"in Symbol,d="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),h="FormData"in a,m="ArrayBuffer"in a;if(m)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(C){return C&&g.indexOf(Object.prototype.toString.call(C))>-1};function w(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function E(C){return typeof C!="string"&&(C=String(C)),C}function y(C){var S={next:function(){var T=C.shift();return{done:T===void 0,value:T}}};return u&&(S[Symbol.iterator]=function(){return S}),S}function _(C){this.map={},C instanceof _?C.forEach(function(S,T){this.append(T,S)},this):Array.isArray(C)?C.forEach(function(S){this.append(S[0],S[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(S){this.append(S,C[S])},this)}function x(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function P(C){return new Promise(function(S,T){C.onload=function(){S(C.result)},C.onerror=function(){T(C.error)}})}function M(C){var S=new FileReader,T=P(S);return S.readAsArrayBuffer(C),T}function L(C){if(C.slice)return C.slice(0);var S=new Uint8Array(C.byteLength);return S.set(new Uint8Array(C)),S.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(C){var S;this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:d&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:h&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():m&&d&&(S=C)&&DataView.prototype.isPrototypeOf(S)?(this._bodyArrayBuffer=L(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m&&(ArrayBuffer.prototype.isPrototypeOf(C)||b(C))?this._bodyArrayBuffer=L(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var C=x(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=x(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(M)}),this.text=function(){var C,S,T,R=x(this);if(R)return R;if(this._bodyBlob)return C=this._bodyBlob,S=new FileReader,T=P(S),S.readAsText(C),T;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var F=new Uint8Array(B),U=new Array(F.length),D=0;D<F.length;D++)U[D]=String.fromCharCode(F[D]);return U.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}_.prototype.append=function(C,S){C=w(C),S=E(S);var T=this.map[C];this.map[C]=T?T+", "+S:S},_.prototype.delete=function(C){delete this.map[w(C)]},_.prototype.get=function(C){return C=w(C),this.has(C)?this.map[C]:null},_.prototype.has=function(C){return this.map.hasOwnProperty(w(C))},_.prototype.set=function(C,S){this.map[w(C)]=E(S)},_.prototype.forEach=function(C,S){for(var T in this.map)this.map.hasOwnProperty(T)&&C.call(S,this.map[T],T,this)},_.prototype.keys=function(){var C=[];return this.forEach(function(S,T){C.push(T)}),y(C)},_.prototype.values=function(){var C=[];return this.forEach(function(S){C.push(S)}),y(C)},_.prototype.entries=function(){var C=[];return this.forEach(function(S,T){C.push([T,S])}),y(C)},u&&(_.prototype[Symbol.iterator]=_.prototype.entries);var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function G(C,S){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var T,R,B=(S=S||{}).body;if(C instanceof G){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,S.headers||(this.headers=new _(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,B||C._bodyInit==null||(B=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=S.credentials||this.credentials||"same-origin",!S.headers&&this.headers||(this.headers=new _(S.headers)),this.method=(T=S.method||this.method||"GET",R=T.toUpperCase(),j.indexOf(R)>-1?R:T),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(B),!(this.method!=="GET"&&this.method!=="HEAD"||S.cache!=="no-store"&&S.cache!=="no-cache")){var F=/([?&])_=[^&]*/;F.test(this.url)?this.url=this.url.replace(F,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function V(C){var S=new FormData;return C.trim().split("&").forEach(function(T){if(T){var R=T.split("="),B=R.shift().replace(/\+/g," "),F=R.join("=").replace(/\+/g," ");S.append(decodeURIComponent(B),decodeURIComponent(F))}}),S}function W(C,S){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new _(S.headers),this.url=S.url||"",this._initBody(C)}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})},K.call(G.prototype),K.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},W.error=function(){var C=new W(null,{status:0,statusText:""});return C.type="error",C};var q=[301,302,303,307,308];W.redirect=function(C,S){if(q.indexOf(S)===-1)throw new RangeError("Invalid status code");return new W(null,{status:S,headers:{location:C}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(S,T){this.message=S,this.name=T;var R=Error(S);this.stack=R.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function k(C,S){return new Promise(function(T,R){var B=new G(C,S);if(B.signal&&B.signal.aborted)return R(new s.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function U(){F.abort()}F.onload=function(){var D,O,N={status:F.status,statusText:F.statusText,headers:(D=F.getAllResponseHeaders()||"",O=new _,D.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var Y=z.split(":"),ee=Y.shift().trim();if(ee){var J=Y.join(":").trim();O.append(ee,J)}}),O)};N.url="responseURL"in F?F.responseURL:N.headers.get("X-Request-URL");var H="response"in F?F.response:F.responseText;setTimeout(function(){T(new W(H,N))},0)},F.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},F.onabort=function(){setTimeout(function(){R(new s.DOMException("Aborted","AbortError"))},0)},F.open(B.method,function(D){try{return D===""&&a.location.href?a.location.href:D}catch{return D}}(B.url),!0),B.credentials==="include"?F.withCredentials=!0:B.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(d?F.responseType="blob":m&&B.headers.get("Content-Type")&&B.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(F.responseType="arraybuffer")),!S||typeof S.headers!="object"||S.headers instanceof _?B.headers.forEach(function(D,O){F.setRequestHeader(O,D)}):Object.getOwnPropertyNames(S.headers).forEach(function(D){F.setRequestHeader(D,E(S.headers[D]))}),B.signal&&(B.signal.addEventListener("abort",U),F.onreadystatechange=function(){F.readyState===4&&B.signal.removeEventListener("abort",U)}),F.send(B._bodyInit===void 0?null:B._bodyInit)})}k.polyfill=!0,a.fetch||(a.fetch=k,a.Headers=_,a.Request=G,a.Response=W),s.Headers=_,s.Request=G,s.Response=W,s.fetch=k})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(r_,r_.exports);var O5=r_.exports;function N5(){throw new Error("setTimeout has not been defined")}function L5(){throw new Error("clearTimeout has not been defined")}var el=N5,tl=L5;function B5(t){if(el===setTimeout)return setTimeout(t,0);if((el===N5||!el)&&setTimeout)return el=setTimeout,setTimeout(t,0);try{return el(t,0)}catch{try{return el.call(null,t,0)}catch{return el.call(this,t,0)}}}typeof zc.setTimeout=="function"&&(el=setTimeout),typeof zc.clearTimeout=="function"&&(tl=clearTimeout);var bc,ea=[],yd=!1,sg=-1;function h7(){yd&&bc&&(yd=!1,bc.length?ea=bc.concat(ea):sg=-1,ea.length&&D5())}function D5(){if(!yd){var t=B5(h7);yd=!0;for(var e=ea.length;e;){for(bc=ea,ea=[];++sg<e;)bc&&bc[sg].run();sg=-1,e=ea.length}bc=null,yd=!1,function(n){if(tl===clearTimeout)return clearTimeout(n);if((tl===L5||!tl)&&clearTimeout)return tl=clearTimeout,clearTimeout(n);try{return tl(n)}catch{try{return tl.call(null,n)}catch{return tl.call(this,n)}}}(t)}}function F5(t,e){this.fun=t,this.array=e}F5.prototype.run=function(){this.fun.apply(null,this.array)};function ou(){}var p7=ou,m7=ou,g7=ou,y7=ou,v7=ou,w7=ou,b7=ou,qu=zc.performance||{},E7=qu.now||qu.mozNow||qu.msNow||qu.oNow||qu.webkitNow||function(){return new Date().getTime()},_7=new Date,h1,_T,to={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ea.push(new F5(t,e)),ea.length!==1||yd||B5(D5)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:p7,addListener:m7,once:g7,off:y7,removeListener:v7,removeAllListeners:w7,emit:b7,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*E7.call(qu),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-_7)/1e3}},i_={exports:{}};function x7(){if(_T)return h1;_T=1;var t=1e3,e=60*t,n=60*e,r=24*n,i=7*r,o=365.25*r;function s(a,l,u,d){var h=l>=1.5*u;return Math.round(a/u)+" "+d+(h?"s":"")}return h1=function(a,l){l=l||{};var u=typeof a;if(u==="string"&&a.length>0)return function(d){if(!((d=String(d)).length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var m=parseFloat(h[1]);switch((h[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*i;case"days":case"day":case"d":return m*r;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}(a);if(u==="number"&&isFinite(a))return l.long?function(d){var h=Math.abs(d);return h>=r?s(d,h,r,"day"):h>=n?s(d,h,n,"hour"):h>=e?s(d,h,e,"minute"):h>=t?s(d,h,t,"second"):d+" ms"}(a):function(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=e?Math.round(d/e)+"m":h>=t?Math.round(d/t)+"s":d+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))},h1}var S7=function(t){function e(i){let o,s,a,l=null;function u(...d){if(!u.enabled)return;const h=u,m=Number(new Date),g=m-(o||m);h.diff=g,h.prev=o,h.curr=m,o=m,d[0]=e.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let b=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(w,E)=>{if(w==="%%")return"%";b++;const y=e.formatters[E];if(typeof y=="function"){const _=d[b];w=y.call(h,_),d.splice(b,1),b--}return w}),e.formatArgs.call(h,d),(h.log||e.log).apply(h,d)}return u.namespace=i,u.useColors=e.useColors(),u.color=e.selectColor(i),u.extend=n,u.destroy=e.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(s!==e.namespaces&&(s=e.namespaces,a=e.enabled(i)),a),set:d=>{l=d}}),typeof e.init=="function"&&e.init(u),u}function n(i,o){const s=e(this.namespace+(o===void 0?":":o)+i);return s.log=this.log,s}function r(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(i){return i instanceof Error?i.stack||i.message:i},e.disable=function(){const i=[...e.names.map(r),...e.skips.map(r).map(o=>"-"+o)].join(",");return e.enable(""),i},e.enable=function(i){let o;e.save(i),e.namespaces=i,e.names=[],e.skips=[];const s=(typeof i=="string"?i:"").split(/[\s,]+/),a=s.length;for(o=0;o<a;o++)s[o]&&((i=s[o].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+i.slice(1)+"$")):e.names.push(new RegExp("^"+i+"$")))},e.enabled=function(i){if(i[i.length-1]==="*")return!0;let o,s;for(o=0,s=e.skips.length;o<s;o++)if(e.skips[o].test(i))return!1;for(o=0,s=e.names.length;o<s;o++)if(e.names[o].test(i))return!0;return!1},e.humanize=x7(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(i=>{e[i]=t[i]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(i){let o=0;for(let s=0;s<i.length;s++)o=(o<<5)-o+i.charCodeAt(s),o|=0;return e.colors[Math.abs(o)%e.colors.length]},e.enable(e.load()),e};(function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(o++,a==="%c"&&(s=o))}),r.splice(s,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")}catch{}return!r&&to!==void 0&&"env"in to&&(r=to.env.DEBUG),r},e.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=S7(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(i_,i_.exports);var xT,jr=i_.exports,Wp={exports:{}};xT=Wp,function(t){var e=Object.hasOwnProperty,n=Array.isArray?Array.isArray:function(k){return Object.prototype.toString.call(k)==="[object Array]"},r=typeof to=="object"&&typeof to.nextTick=="function",i=typeof Symbol=="function",o=typeof Reflect=="object",s=typeof setImmediate=="function"?setImmediate:setTimeout,a=i?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(k){var C=Object.getOwnPropertyNames(k);return C.push.apply(C,Object.getOwnPropertySymbols(k)),C}:Object.keys;function l(){this._events={},this._conf&&u.call(this,this._conf)}function u(k){k&&(this._conf=k,k.delimiter&&(this.delimiter=k.delimiter),k.maxListeners!==t&&(this._maxListeners=k.maxListeners),k.wildcard&&(this.wildcard=k.wildcard),k.newListener&&(this._newListener=k.newListener),k.removeListener&&(this._removeListener=k.removeListener),k.verboseMemoryLeak&&(this.verboseMemoryLeak=k.verboseMemoryLeak),k.ignoreErrors&&(this.ignoreErrors=k.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function d(k,C){var S="(node) warning: possible EventEmitter memory leak detected. "+k+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(S+=" Event name: "+C+"."),to!==void 0&&to.emitWarning){var T=new Error(S);T.name="MaxListenersExceededWarning",T.emitter=this,T.count=k,to.emitWarning(T)}else console.error(S),console.trace&&console.trace()}var h=function(k,C,S){var T=arguments.length;switch(T){case 0:return[];case 1:return[k];case 2:return[k,C];case 3:return[k,C,S];default:for(var R=new Array(T);T--;)R[T]=arguments[T];return R}};function m(k,C){for(var S={},T=k.length,R=0,B=0;B<T;B++)S[k[B]]=B<R?C[B]:t;return S}function g(k,C,S){var T,R;if(this._emitter=k,this._target=C,this._listeners={},this._listenersCount=0,(S.on||S.off)&&(T=S.on,R=S.off),C.addEventListener?(T=C.addEventListener,R=C.removeEventListener):C.addListener?(T=C.addListener,R=C.removeListener):C.on&&(T=C.on,R=C.off),!T&&!R)throw Error("target does not implement any known event API");if(typeof T!="function")throw TypeError("on method must be a function");if(typeof R!="function")throw TypeError("off method must be a function");this._on=T,this._off=R;var B=k._observers;B?B.push(this):k._observers=[this]}function b(k,C,S,T){var R=Object.assign({},C);if(!k)return R;if(typeof k!="object")throw TypeError("options must be an object");var B,F,U,D=Object.keys(k),O=D.length;function N(z){throw Error('Invalid "'+B+'" option value'+(z?". Reason: "+z:""))}for(var H=0;H<O;H++){if(B=D[H],!e.call(C,B))throw Error('Unknown "'+B+'" option');(F=k[B])!==t&&(U=S[B],R[B]=U?U(F,N):F)}return R}function w(k,C){return typeof k=="function"&&k.hasOwnProperty("prototype")||C("value must be a constructor"),k}function E(k){var C="value must be type of "+k.join("|"),S=k.length,T=k[0],R=k[1];return S===1?function(B,F){if(typeof B===T)return B;F(C)}:S===2?function(B,F){var U=typeof B;if(U===T||U===R)return B;F(C)}:function(B,F){for(var U=typeof B,D=S;D-- >0;)if(U===k[D])return B;F(C)}}Object.assign(g.prototype,{subscribe:function(k,C,S){var T=this,R=this._target,B=this._emitter,F=this._listeners,U=function(){var D=h.apply(null,arguments),O={data:D,name:C,original:k};S?S.call(R,O)!==!1&&B.emit.apply(B,[O.name].concat(D)):B.emit.apply(B,[C].concat(D))};if(F[k])throw Error("Event '"+k+"' is already listening");this._listenersCount++,B._newListener&&B._removeListener&&!T._onNewListener?(this._onNewListener=function(D){D===C&&F[k]===null&&(F[k]=U,T._on.call(R,k,U))},B.on("newListener",this._onNewListener),this._onRemoveListener=function(D){D===C&&!B.hasListeners(D)&&F[k]&&(F[k]=null,T._off.call(R,k,U))},F[k]=null,B.on("removeListener",this._onRemoveListener)):(F[k]=U,T._on.call(R,k,U))},unsubscribe:function(k){var C,S,T,R=this,B=this._listeners,F=this._emitter,U=this._off,D=this._target;if(k&&typeof k!="string")throw TypeError("event must be a string");function O(){R._onNewListener&&(F.off("newListener",R._onNewListener),F.off("removeListener",R._onRemoveListener),R._onNewListener=null,R._onRemoveListener=null);var N=P.call(F,R);F._observers.splice(N,1)}if(k){if(!(C=B[k]))return;U.call(D,k,C),delete B[k],--this._listenersCount||O()}else{for(T=(S=a(B)).length;T-- >0;)k=S[T],U.call(D,k,B[k]);this._listeners={},this._listenersCount=0,O()}}});var y=E(["function"]),_=E(["object","function"]);function x(k,C,S){var T,R,B,F=0,U=new k(function(D,O,N){function H(){R&&(R=null),F&&(clearTimeout(F),F=0)}S=b(S,{timeout:0,overload:!1},{timeout:function(ee,J){return(typeof(ee*=1)!="number"||ee<0||!Number.isFinite(ee))&&J("timeout must be a positive number"),ee}}),T=!S.overload&&typeof k.prototype.cancel=="function"&&typeof N=="function";var z=function(ee){H(),D(ee)},Y=function(ee){H(),O(ee)};T?C(z,Y,N):(R=[function(ee){Y(ee||Error("canceled"))}],C(z,Y,function(ee){if(B)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof ee!="function")throw TypeError("onCancel callback must be a function");R.push(ee)}),B=!0),S.timeout>0&&(F=setTimeout(function(){var ee=Error("timeout");ee.code="ETIMEDOUT",F=0,U.cancel(ee),O(ee)},S.timeout))});return T||(U.cancel=function(D){if(R){for(var O=R.length,N=1;N<O;N++)R[N](D);R[0](D),R=null}}),U}function P(k){var C=this._observers;if(!C)return-1;for(var S=C.length,T=0;T<S;T++)if(C[T]._target===k)return T;return-1}function M(k,C,S,T,R){if(!S)return null;if(T===0){var B=typeof C;if(B==="string"){var F,U,D=0,O=0,N=this.delimiter,H=N.length;if((U=C.indexOf(N))!==-1){F=new Array(5);do F[D++]=C.slice(O,U),O=U+H;while((U=C.indexOf(N,O))!==-1);F[D++]=C.slice(O),C=F,R=D}else C=[C],R=1}else B==="object"?R=C.length:(C=[C],R=1)}var z,Y,ee,J,oe,se,ve,de=null,Oe=C[T],je=C[T+1];if(T===R)S._listeners&&(typeof S._listeners=="function"?(k&&k.push(S._listeners),de=[S]):(k&&k.push.apply(k,S._listeners),de=[S]));else{if(Oe==="*"){for(U=(se=a(S)).length;U-- >0;)(z=se[U])!=="_listeners"&&(ve=M(k,C,S[z],T+1,R))&&(de?de.push.apply(de,ve):de=ve);return de}if(Oe==="**"){for((oe=T+1===R||T+2===R&&je==="*")&&S._listeners&&(de=M(k,C,S,R,R)),U=(se=a(S)).length;U-- >0;)(z=se[U])!=="_listeners"&&(z==="*"||z==="**"?(S[z]._listeners&&!oe&&(ve=M(k,C,S[z],R,R))&&(de?de.push.apply(de,ve):de=ve),ve=M(k,C,S[z],T,R)):ve=M(k,C,S[z],z===je?T+2:T,R),ve&&(de?de.push.apply(de,ve):de=ve));return de}S[Oe]&&(de=M(k,C,S[Oe],T+1,R))}if((Y=S["*"])&&M(k,C,Y,T+1,R),ee=S["**"])if(T<R)for(ee._listeners&&M(k,C,ee,R,R),U=(se=a(ee)).length;U-- >0;)(z=se[U])!=="_listeners"&&(z===je?M(k,C,ee[z],T+2,R):z===Oe?M(k,C,ee[z],T+1,R):((J={})[z]=ee[z],M(k,C,{"**":J},T+1,R)));else ee._listeners?M(k,C,ee,R,R):ee["*"]&&ee["*"]._listeners&&M(k,C,ee["*"],R,R);return de}function L(k,C,S){var T,R,B=0,F=0,U=this.delimiter,D=U.length;if(typeof k=="string")if((T=k.indexOf(U))!==-1){R=new Array(5);do R[B++]=k.slice(F,T),F=T+D;while((T=k.indexOf(U,F))!==-1);R[B++]=k.slice(F)}else R=[k],B=1;else R=k,B=k.length;if(B>1){for(T=0;T+1<B;T++)if(R[T]==="**"&&R[T+1]==="**")return}var O,N=this.listenerTree;for(T=0;T<B;T++)if(N=N[O=R[T]]||(N[O]={}),T===B-1)return N._listeners?(typeof N._listeners=="function"&&(N._listeners=[N._listeners]),S?N._listeners.unshift(C):N._listeners.push(C),!N._listeners.warned&&this._maxListeners>0&&N._listeners.length>this._maxListeners&&(N._listeners.warned=!0,d.call(this,N._listeners.length,O))):N._listeners=C,!0;return!0}function K(k,C,S,T){for(var R,B,F,U,D=a(k),O=D.length,N=k._listeners;O-- >0;)R=k[B=D[O]],F=B==="_listeners"?S:S?S.concat(B):[B],U=T||typeof B=="symbol",N&&C.push(U?F:F.join(this.delimiter)),typeof R=="object"&&K.call(this,R,C,F,U);return C}function j(k){for(var C,S,T,R=a(k),B=R.length;B-- >0;)(C=k[S=R[B]])&&(T=!0,S==="_listeners"||j(C)||delete k[S]);return T}function G(k,C,S){this.emitter=k,this.event=C,this.listener=S}function V(k,C,S){if(S===!0)R=!0;else if(S===!1)T=!0;else{if(!S||typeof S!="object")throw TypeError("options should be an object or true");var T=S.async,R=S.promisify,B=S.nextTick,F=S.objectify}if(T||B||R){var U=C,D=C._origin||C;if(B&&!r)throw Error("process.nextTick is not supported");R===t&&(R=C.constructor.name==="AsyncFunction"),C=function(){var O=arguments,N=this,H=this.event;return R?B?Promise.resolve():new Promise(function(z){s(z)}).then(function(){return N.event=H,U.apply(N,O)}):(B?to.nextTick:s)(function(){N.event=H,U.apply(N,O)})},C._async=!0,C._origin=D}return[C,F?new G(this,k,C):this]}function W(k){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,u.call(this,k)}G.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},W.EventEmitter2=W,W.prototype.listenTo=function(k,C,S){if(typeof k!="object")throw TypeError("target musts be an object");var T=this;function R(B){if(typeof B!="object")throw TypeError("events must be an object");var F,U=S.reducers,D=P.call(T,k);F=D===-1?new g(T,k,S):T._observers[D];for(var O,N=a(B),H=N.length,z=typeof U=="function",Y=0;Y<H;Y++)O=N[Y],F.subscribe(O,B[O]||O,z?U:U&&U[O])}return S=b(S,{on:t,off:t,reducers:t},{on:y,off:y,reducers:_}),n(C)?R(m(C)):R(typeof C=="string"?m(C.split(/\s+/)):C),this},W.prototype.stopListeningTo=function(k,C){var S=this._observers;if(!S)return!1;var T,R=S.length,B=!1;if(k&&typeof k!="object")throw TypeError("target should be an object");for(;R-- >0;)T=S[R],k&&T._target!==k||(T.unsubscribe(C),B=!0);return B},W.prototype.delimiter=".",W.prototype.setMaxListeners=function(k){k!==t&&(this._maxListeners=k,this._conf||(this._conf={}),this._conf.maxListeners=k)},W.prototype.getMaxListeners=function(){return this._maxListeners},W.prototype.event="",W.prototype.once=function(k,C,S){return this._once(k,C,!1,S)},W.prototype.prependOnceListener=function(k,C,S){return this._once(k,C,!0,S)},W.prototype._once=function(k,C,S,T){return this._many(k,1,C,S,T)},W.prototype.many=function(k,C,S,T){return this._many(k,C,S,!1,T)},W.prototype.prependMany=function(k,C,S,T){return this._many(k,C,S,!0,T)},W.prototype._many=function(k,C,S,T,R){var B=this;if(typeof S!="function")throw new Error("many only accepts instances of Function");function F(){return--C==0&&B.off(k,F),S.apply(this,arguments)}return F._origin=S,this._on(k,F,T,R)},W.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var k,C,S,T,R,B,F=arguments[0],U=this.wildcard;if(F==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(U&&(k=F,F!=="newListener"&&F!=="removeListener"&&typeof F=="object")){if(S=F.length,i){for(T=0;T<S;T++)if(typeof F[T]=="symbol"){B=!0;break}}B||(F=F.join(this.delimiter))}var D,O=arguments.length;if(this._all&&this._all.length)for(T=0,S=(D=this._all.slice()).length;T<S;T++)switch(this.event=F,O){case 1:D[T].call(this,F);break;case 2:D[T].call(this,F,arguments[1]);break;case 3:D[T].call(this,F,arguments[1],arguments[2]);break;default:D[T].apply(this,arguments)}if(U)D=[],M.call(this,D,k,this.listenerTree,0,S);else{if(typeof(D=this._events[F])=="function"){switch(this.event=F,O){case 1:D.call(this);break;case 2:D.call(this,arguments[1]);break;case 3:D.call(this,arguments[1],arguments[2]);break;default:for(C=new Array(O-1),R=1;R<O;R++)C[R-1]=arguments[R];D.apply(this,C)}return!0}D&&(D=D.slice())}if(D&&D.length){if(O>3)for(C=new Array(O-1),R=1;R<O;R++)C[R-1]=arguments[R];for(T=0,S=D.length;T<S;T++)switch(this.event=F,O){case 1:D[T].call(this);break;case 2:D[T].call(this,arguments[1]);break;case 3:D[T].call(this,arguments[1],arguments[2]);break;default:D[T].apply(this,C)}return!0}if(!this.ignoreErrors&&!this._all&&F==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},W.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var k,C,S,T,R,B,F=arguments[0],U=this.wildcard;if(F==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(U&&(k=F,F!=="newListener"&&F!=="removeListener"&&typeof F=="object")){if(T=F.length,i){for(R=0;R<T;R++)if(typeof F[R]=="symbol"){C=!0;break}}C||(F=F.join(this.delimiter))}var D,O=[],N=arguments.length;if(this._all)for(R=0,T=this._all.length;R<T;R++)switch(this.event=F,N){case 1:O.push(this._all[R].call(this,F));break;case 2:O.push(this._all[R].call(this,F,arguments[1]));break;case 3:O.push(this._all[R].call(this,F,arguments[1],arguments[2]));break;default:O.push(this._all[R].apply(this,arguments))}if(U?(D=[],M.call(this,D,k,this.listenerTree,0)):D=this._events[F],typeof D=="function")switch(this.event=F,N){case 1:O.push(D.call(this));break;case 2:O.push(D.call(this,arguments[1]));break;case 3:O.push(D.call(this,arguments[1],arguments[2]));break;default:for(S=new Array(N-1),B=1;B<N;B++)S[B-1]=arguments[B];O.push(D.apply(this,S))}else if(D&&D.length){if(D=D.slice(),N>3)for(S=new Array(N-1),B=1;B<N;B++)S[B-1]=arguments[B];for(R=0,T=D.length;R<T;R++)switch(this.event=F,N){case 1:O.push(D[R].call(this));break;case 2:O.push(D[R].call(this,arguments[1]));break;case 3:O.push(D[R].call(this,arguments[1],arguments[2]));break;default:O.push(D[R].apply(this,S))}}else if(!this.ignoreErrors&&!this._all&&F==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(O)},W.prototype.on=function(k,C,S){return this._on(k,C,!1,S)},W.prototype.prependListener=function(k,C,S){return this._on(k,C,!0,S)},W.prototype.onAny=function(k){return this._onAny(k,!1)},W.prototype.prependAny=function(k){return this._onAny(k,!0)},W.prototype.addListener=W.prototype.on,W.prototype._onAny=function(k,C){if(typeof k!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),C?this._all.unshift(k):this._all.push(k),this},W.prototype._on=function(k,C,S,T){if(typeof k=="function")return this._onAny(k,C),this;if(typeof C!="function")throw new Error("on only accepts instances of Function");this._events||l.call(this);var R,B=this;return T!==t&&(C=(R=V.call(this,k,C,T))[0],B=R[1]),this._newListener&&this.emit("newListener",k,C),this.wildcard?(L.call(this,k,C,S),B):(this._events[k]?(typeof this._events[k]=="function"&&(this._events[k]=[this._events[k]]),S?this._events[k].unshift(C):this._events[k].push(C),!this._events[k].warned&&this._maxListeners>0&&this._events[k].length>this._maxListeners&&(this._events[k].warned=!0,d.call(this,this._events[k].length,k))):this._events[k]=C,B)},W.prototype.off=function(k,C){if(typeof C!="function")throw new Error("removeListener only takes instances of Function");var S,T=[];if(this.wildcard){var R=typeof k=="string"?k.split(this.delimiter):k.slice();if(!(T=M.call(this,null,R,this.listenerTree,0)))return this}else{if(!this._events[k])return this;S=this._events[k],T.push({_listeners:S})}for(var B=0;B<T.length;B++){var F=T[B];if(S=F._listeners,n(S)){for(var U=-1,D=0,O=S.length;D<O;D++)if(S[D]===C||S[D].listener&&S[D].listener===C||S[D]._origin&&S[D]._origin===C){U=D;break}if(U<0)continue;return this.wildcard?F._listeners.splice(U,1):this._events[k].splice(U,1),S.length===0&&(this.wildcard?delete F._listeners:delete this._events[k]),this._removeListener&&this.emit("removeListener",k,C),this}(S===C||S.listener&&S.listener===C||S._origin&&S._origin===C)&&(this.wildcard?delete F._listeners:delete this._events[k],this._removeListener&&this.emit("removeListener",k,C))}return this.listenerTree&&j(this.listenerTree),this},W.prototype.offAny=function(k){var C,S=0,T=0;if(k&&this._all&&this._all.length>0){for(S=0,T=(C=this._all).length;S<T;S++)if(k===C[S])return C.splice(S,1),this._removeListener&&this.emit("removeListenerAny",k),this}else{if(C=this._all,this._removeListener)for(S=0,T=C.length;S<T;S++)this.emit("removeListenerAny",C[S]);this._all=[]}return this},W.prototype.removeListener=W.prototype.off,W.prototype.removeAllListeners=function(k){if(k===t)return!this._events||l.call(this),this;if(this.wildcard){var C,S=M.call(this,null,k,this.listenerTree,0);if(!S)return this;for(C=0;C<S.length;C++)S[C]._listeners=null;this.listenerTree&&j(this.listenerTree)}else this._events&&(this._events[k]=null);return this},W.prototype.listeners=function(k){var C,S,T,R,B,F=this._events;if(k===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!F)return[];for(R=(C=a(F)).length,T=[];R-- >0;)typeof(S=F[C[R]])=="function"?T.push(S):T.push.apply(T,S);return T}if(this.wildcard){if(!(B=this.listenerTree))return[];var U=[],D=typeof k=="string"?k.split(this.delimiter):k.slice();return M.call(this,U,D,B,0),U}return F&&(S=F[k])?typeof S=="function"?[S]:S:[]},W.prototype.eventNames=function(k){var C=this._events;return this.wildcard?K.call(this,this.listenerTree,[],null,k):C?a(C):[]},W.prototype.listenerCount=function(k){return this.listeners(k).length},W.prototype.hasListeners=function(k){if(this.wildcard){var C=[],S=typeof k=="string"?k.split(this.delimiter):k.slice();return M.call(this,C,S,this.listenerTree,0),C.length>0}var T=this._events,R=this._all;return!!(R&&R.length||T&&(k===t?a(T).length:T[k]))},W.prototype.listenersAny=function(){return this._all?this._all:[]},W.prototype.waitFor=function(k,C){var S=this,T=typeof C;return T==="number"?C={timeout:C}:T==="function"&&(C={filter:C}),x((C=b(C,{timeout:0,filter:t,handleError:!1,Promise,overload:!1},{filter:y,Promise:w})).Promise,function(R,B,F){function U(){var D=C.filter;if(!D||D.apply(S,arguments))if(S.off(k,U),C.handleError){var O=arguments[0];O?B(O):R(h.apply(null,arguments).slice(1))}else R(h.apply(null,arguments))}F(function(){S.off(k,U)}),S._on(k,U,!1)},{timeout:C.timeout,overload:C.overload})};var q=W.prototype;Object.defineProperties(W,{defaultMaxListeners:{get:function(){return q._maxListeners},set:function(k){if(typeof k!="number"||k<0||Number.isNaN(k))throw TypeError("n must be a non-negative number");q._maxListeners=k},enumerable:!0},once:{value:function(k,C,S){return x((S=b(S,{Promise,timeout:0,overload:!1},{Promise:w})).Promise,function(T,R,B){var F;if(typeof k.addEventListener=="function")return F=function(){T(h.apply(null,arguments))},B(function(){k.removeEventListener(C,F)}),void k.addEventListener(C,F,{once:!0});var U,D=function(){U&&k.removeListener("error",U),T(h.apply(null,arguments))};C!=="error"&&(U=function(O){k.removeListener(C,D),R(O)},k.once("error",U)),B(function(){U&&k.removeListener("error",U),k.removeListener(C,D)}),k.once(C,D)},{timeout:S.timeout,overload:S.overload})},writable:!0,configurable:!0}}),Object.defineProperties(q,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),xT.exports=W}();var p1,A7=Wp.exports,C7=new Uint8Array(16);function k7(){if(!p1&&!(p1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p1(C7)}var T7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zg(t){return typeof t=="string"&&T7.test(t)}for(var ir=[],m1=0;m1<256;++m1)ir.push((m1+256).toString(16).substr(1));function j5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase();if(!zg(n))throw TypeError("Stringified UUID is invalid");return n}function ST(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=function(d){d=unescape(encodeURIComponent(d));for(var h=[],m=0;m<d.length;++m)h.push(d.charCodeAt(m));return h}(i)),typeof o=="string"&&(o=function(d){if(!zg(d))throw TypeError("Invalid UUID");var h,m=new Uint8Array(16);return m[0]=(h=parseInt(d.slice(0,8),16))>>>24,m[1]=h>>>16&255,m[2]=h>>>8&255,m[3]=255&h,m[4]=(h=parseInt(d.slice(9,13),16))>>>8,m[5]=255&h,m[6]=(h=parseInt(d.slice(14,18),16))>>>8,m[7]=255&h,m[8]=(h=parseInt(d.slice(19,23),16))>>>8,m[9]=255&h,m[10]=(h=parseInt(d.slice(24,36),16))/1099511627776&255,m[11]=h/4294967296&255,m[12]=h>>>24&255,m[13]=h>>>16&255,m[14]=h>>>8&255,m[15]=255&h,m}(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),(l=n(l))[6]=15&l[6]|e,l[8]=63&l[8]|128,s){a=a||0;for(var u=0;u<16;++u)s[a+u]=l[u];return s}return j5(l)}try{r.name=t}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function AT(t){return 14+(t+64>>>9<<4)+1}function yl(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function Mv(t,e,n,r,i,o){return yl((s=yl(yl(e,t),yl(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function fr(t,e,n,r,i,o,s){return Mv(e&n|~e&r,t,e,i,o,s)}function hr(t,e,n,r,i,o,s){return Mv(e&r|n&~r,t,e,i,o,s)}function pr(t,e,n,r,i,o,s){return Mv(e^n^r,t,e,i,o,s)}function mr(t,e,n,r,i,o,s){return Mv(n^(e|~r),t,e,i,o,s)}function rS(t,e,n){var r=(t=t||{}).random||(t.rng||k7)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,j5(r)}function I7(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function g1(t,e){return t<<e|t>>>32-e}ST("v3",48,function(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(r){for(var i=[],o=32*r.length,s="0123456789abcdef",a=0;a<o;a+=8){var l=r[a>>5]>>>a%32&255,u=parseInt(s.charAt(l>>>4&15)+s.charAt(15&l),16);i.push(u)}return i}(function(r,i){r[i>>5]|=128<<i%32,r[AT(i)-1]=i;for(var o=1732584193,s=-271733879,a=-1732584194,l=271733878,u=0;u<r.length;u+=16){var d=o,h=s,m=a,g=l;o=fr(o,s,a,l,r[u],7,-680876936),l=fr(l,o,s,a,r[u+1],12,-389564586),a=fr(a,l,o,s,r[u+2],17,606105819),s=fr(s,a,l,o,r[u+3],22,-1044525330),o=fr(o,s,a,l,r[u+4],7,-176418897),l=fr(l,o,s,a,r[u+5],12,1200080426),a=fr(a,l,o,s,r[u+6],17,-1473231341),s=fr(s,a,l,o,r[u+7],22,-45705983),o=fr(o,s,a,l,r[u+8],7,1770035416),l=fr(l,o,s,a,r[u+9],12,-1958414417),a=fr(a,l,o,s,r[u+10],17,-42063),s=fr(s,a,l,o,r[u+11],22,-1990404162),o=fr(o,s,a,l,r[u+12],7,1804603682),l=fr(l,o,s,a,r[u+13],12,-40341101),a=fr(a,l,o,s,r[u+14],17,-1502002290),o=hr(o,s=fr(s,a,l,o,r[u+15],22,1236535329),a,l,r[u+1],5,-165796510),l=hr(l,o,s,a,r[u+6],9,-1069501632),a=hr(a,l,o,s,r[u+11],14,643717713),s=hr(s,a,l,o,r[u],20,-373897302),o=hr(o,s,a,l,r[u+5],5,-701558691),l=hr(l,o,s,a,r[u+10],9,38016083),a=hr(a,l,o,s,r[u+15],14,-660478335),s=hr(s,a,l,o,r[u+4],20,-405537848),o=hr(o,s,a,l,r[u+9],5,568446438),l=hr(l,o,s,a,r[u+14],9,-1019803690),a=hr(a,l,o,s,r[u+3],14,-187363961),s=hr(s,a,l,o,r[u+8],20,1163531501),o=hr(o,s,a,l,r[u+13],5,-1444681467),l=hr(l,o,s,a,r[u+2],9,-51403784),a=hr(a,l,o,s,r[u+7],14,1735328473),o=pr(o,s=hr(s,a,l,o,r[u+12],20,-1926607734),a,l,r[u+5],4,-378558),l=pr(l,o,s,a,r[u+8],11,-2022574463),a=pr(a,l,o,s,r[u+11],16,1839030562),s=pr(s,a,l,o,r[u+14],23,-35309556),o=pr(o,s,a,l,r[u+1],4,-1530992060),l=pr(l,o,s,a,r[u+4],11,1272893353),a=pr(a,l,o,s,r[u+7],16,-155497632),s=pr(s,a,l,o,r[u+10],23,-1094730640),o=pr(o,s,a,l,r[u+13],4,681279174),l=pr(l,o,s,a,r[u],11,-358537222),a=pr(a,l,o,s,r[u+3],16,-722521979),s=pr(s,a,l,o,r[u+6],23,76029189),o=pr(o,s,a,l,r[u+9],4,-640364487),l=pr(l,o,s,a,r[u+12],11,-421815835),a=pr(a,l,o,s,r[u+15],16,530742520),o=mr(o,s=pr(s,a,l,o,r[u+2],23,-995338651),a,l,r[u],6,-198630844),l=mr(l,o,s,a,r[u+7],10,1126891415),a=mr(a,l,o,s,r[u+14],15,-1416354905),s=mr(s,a,l,o,r[u+5],21,-57434055),o=mr(o,s,a,l,r[u+12],6,1700485571),l=mr(l,o,s,a,r[u+3],10,-1894986606),a=mr(a,l,o,s,r[u+10],15,-1051523),s=mr(s,a,l,o,r[u+1],21,-2054922799),o=mr(o,s,a,l,r[u+8],6,1873313359),l=mr(l,o,s,a,r[u+15],10,-30611744),a=mr(a,l,o,s,r[u+6],15,-1560198380),s=mr(s,a,l,o,r[u+13],21,1309151649),o=mr(o,s,a,l,r[u+4],6,-145523070),l=mr(l,o,s,a,r[u+11],10,-1120210379),a=mr(a,l,o,s,r[u+2],15,718787259),s=mr(s,a,l,o,r[u+9],21,-343485551),o=yl(o,d),s=yl(s,h),a=yl(a,m),l=yl(l,g)}return[o,s,a,l]}(function(r){if(r.length===0)return[];for(var i=8*r.length,o=new Uint32Array(AT(i)),s=0;s<i;s+=8)o[s>>5]|=(255&r[s/8])<<s%32;return o}(t),8*t.length))}),ST("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=t[64*l+4*d]<<24|t[64*l+4*d+1]<<16|t[64*l+4*d+2]<<8|t[64*l+4*d+3];a[l]=u}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<s;++h){for(var m=new Uint32Array(80),g=0;g<16;++g)m[g]=a[h][g];for(var b=16;b<80;++b)m[b]=g1(m[b-3]^m[b-8]^m[b-14]^m[b-16],1);for(var w=n[0],E=n[1],y=n[2],_=n[3],x=n[4],P=0;P<80;++P){var M=Math.floor(P/20),L=g1(w,5)+I7(M,E,y,_)+x+e[M]+m[P]>>>0;x=_,_=y,y=g1(E,30)>>>0,E=w,w=L}n[0]=n[0]+w>>>0,n[1]=n[1]+E>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const Go=Object.create(null);Go.open="0",Go.close="1",Go.ping="2",Go.pong="3",Go.message="4",Go.upgrade="5",Go.noop="6";const ag=Object.create(null);Object.keys(Go).forEach(t=>{ag[Go[t]]=t});const P7={type:"error",data:"parser error"},U5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",$5=typeof ArrayBuffer=="function",H5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,o_=({type:t,data:e},n,r)=>U5&&e instanceof Blob?n?r(e):CT(e,r):$5&&(e instanceof ArrayBuffer||H5(e))?n?r(e):CT(new Blob([e]),r):r(Go[t]+(e||"")),CT=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function kT(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let y1;function R7(t,e){return U5&&t.data instanceof Blob?t.data.arrayBuffer().then(kT).then(e):$5&&(t.data instanceof ArrayBuffer||H5(t.data))?e(kT(t.data)):void o_(t,!1,n=>{y1||(y1=new TextEncoder),e(y1.encode(n))})}const M7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<64;t++)dh[M7.charCodeAt(t)]=t;const O7=typeof ArrayBuffer=="function",s_=(t,e)=>{if(typeof t!="string")return{type:"message",data:V5(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:N7(t.substring(1),e)}:ag[n]?t.length>1?{type:ag[n],data:t.substring(1)}:{type:ag[n]}:P7},N7=(t,e)=>{if(O7){const n=(r=>{let i,o,s,a,l,u=.75*r.length,d=r.length,h=0;r[r.length-1]==="="&&(u--,r[r.length-2]==="="&&u--);const m=new ArrayBuffer(u),g=new Uint8Array(m);for(i=0;i<d;i+=4)o=dh[r.charCodeAt(i)],s=dh[r.charCodeAt(i+1)],a=dh[r.charCodeAt(i+2)],l=dh[r.charCodeAt(i+3)],g[h++]=o<<2|s>>4,g[h++]=(15&s)<<4|a>>2,g[h++]=(3&a)<<6|63&l;return m})(t);return V5(n,e)}return{base64:!0,data:t}},V5=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,TT="";let v1;function On(t){if(t)return function(e){for(var n in On.prototype)e[n]=On.prototype[n];return e}(t)}On.prototype.on=On.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},On.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},On.prototype.off=On.prototype.removeListener=On.prototype.removeAllListeners=On.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this},On.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},On.prototype.emitReserved=On.prototype.emit,On.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},On.prototype.hasListeners=function(t){return!!this.listeners(t).length};const no=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function z5(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const L7=no.setTimeout,B7=no.clearTimeout;function Ov(t,e){e.useNativeTimers?(t.setTimeoutFn=L7.bind(no),t.clearTimeoutFn=B7.bind(no)):(t.setTimeoutFn=no.setTimeout.bind(no),t.clearTimeoutFn=no.clearTimeout.bind(no))}class D7 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}let w1=class extends On{constructor(e){super(),this.writable=!1,Ov(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new D7(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=s_(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=function(r){let i="";for(let o in r)r.hasOwnProperty(o)&&(i.length&&(i+="&"),i+=encodeURIComponent(o)+"="+encodeURIComponent(r[o]));return i}(e);return n.length?"?"+n:""}};const K5="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a_=64,F7={};let IT,PT=0,S0=0;function RT(t){let e="";do e=K5[t%a_]+e,t=Math.floor(t/a_);while(t>0);return e}function MT(){const t=RT(+new Date);return t!==IT?(PT=0,IT=t):t+"."+RT(PT++)}for(;S0<a_;S0++)F7[K5[S0]]=S0;let q5=!1;try{q5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const j7=q5;function G5(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||j7))return new XMLHttpRequest}catch{}if(!e)try{return new no[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function U7(){}const $7=new G5({xdomain:!1}).responseType!=null;class cs extends On{constructor(e,n){super(),Ov(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=z5(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new G5(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}typeof document<"u"&&(this.index=cs.requestsCount++,cs.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(this.xhr!==void 0&&this.xhr!==null){if(this.xhr.onreadystatechange=U7,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete cs.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}cs.requestsCount=0,cs.requests={},typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",OT):typeof addEventListener=="function"&&addEventListener("onpagehide"in no?"pagehide":"unload",OT,!1));function OT(){for(let t in cs.requests)cs.requests.hasOwnProperty(t)&&cs.requests[t].abort()}const l_=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),A0=no.WebSocket||no.MozWebSocket,NT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";function H7(t,e){return t.type==="message"&&typeof t.data!="string"&&e[0]>=48&&e[0]<=54}const V7={websocket:class extends w1{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=NT?{}:z5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=NT?new A0(t,e,n):e?new A0(t,e):new A0(t)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;o_(n,this.supportsBinary,i=>{try{this.ws.send(i)}catch{}r&&l_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){this.ws!==void 0&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=MT()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!A0}},webtransport:class extends w1{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const e=t.readable.getReader();let n;this.writer=t.writable.getWriter();const r=()=>{e.read().then(({done:o,value:s})=>{o||(n||s.byteLength!==1||s[0]!==54?(this.onPacket(function(a,l,u){v1||(v1=new TextDecoder);const d=l||a[0]<48||a[0]>54;return s_(d?a:v1.decode(a),u)}(s,n,"arraybuffer")),n=!1):n=!0,r())}).catch(o=>{})};r();const i=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write(new TextEncoder().encode(i)).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;R7(n,i=>{H7(n,i)&&this.writer.write(Uint8Array.of(54)),this.writer.write(i).then(()=>{r&&l_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}},polling:class extends w1{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}const e=t&&t.forceBase64;this.supportsBinary=$7&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((e,n)=>{const r=e.split(TT),i=[];for(let o=0;o<r.length;o++){const s=s_(r[o],n);if(i.push(s),s.type==="error")break}return i})(t,this.socket.binaryType).forEach(e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,((e,n)=>{const r=e.length,i=new Array(r);let o=0;e.forEach((s,a)=>{o_(s,!1,l=>{i[a]=l,++o===r&&n(i.join(TT))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=MT()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new cs(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}}},z7=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,K7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function c_(t){const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=z7.exec(t||""),o={},s=14;for(;s--;)o[K7[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(a,l){const u=/\/{2,9}/g,d=l.replace(u,"/").split("/");return l.slice(0,1)!="/"&&l.length!==0||d.splice(0,1),l.slice(-1)=="/"&&d.splice(d.length-1,1),d}(0,o.path),o.queryKey=function(a,l){const u={};return l.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,h,m){h&&(u[h]=m)}),u}(0,o.query),o}let W5=class Gu extends On{constructor(e,n={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=c_(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c_(n.host).host),Ov(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=function(r){let i={},o=r.split("&");for(let s=0,a=o.length;s<a;s++){let l=o[s].split("=");i[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return i}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new V7[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Gu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(this.transports.length===0)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;Gu.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Gu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,d(),n.close(),n=null)}const s=h=>{const m=new Error("probe error: "+h);m.transport=n.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function l(){s("socket closed")}function u(h){n&&h.name!==n.name&&o()}const d=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Gu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(e+=typeof(n=i)=="string"?function(o){let s=0,a=0;for(let l=0,u=o.length;l<u;l++)s=o.charCodeAt(l),s<128?a+=1:s<2048?a+=2:s<55296||s>=57344?a+=3:(l++,a+=4);return a}(n):Math.ceil(1.33*(n.byteLength||n.size))),r>0&&e>this.maxPayload)return this.writeBuffer.slice(0,r);e+=2}var n;return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;(r=r||{}).compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Gu.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){this.readyState!=="opening"&&this.readyState!=="open"&&this.readyState!=="closing"||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};W5.protocol=4;const q7=typeof ArrayBuffer=="function",G7=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Y5=Object.prototype.toString,W7=typeof Blob=="function"||typeof Blob<"u"&&Y5.call(Blob)==="[object BlobConstructor]",Y7=typeof File=="function"||typeof File<"u"&&Y5.call(File)==="[object FileConstructor]";function iS(t){return q7&&(t instanceof ArrayBuffer||G7(t))||W7&&t instanceof Blob||Y7&&t instanceof File}function lg(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(lg(t[n]))return!0;return!1}if(iS(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return lg(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&lg(t[n]))return!0;return!1}function Q7(t){const e=[],n=t.data,r=t;return r.data=u_(n,e),r.attachments=e.length,{packet:r,buffers:e}}function u_(t,e){if(!t)return t;if(iS(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=u_(t[r],e);return n}if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=u_(t[r],e));return n}return t}function Z7(t,e){return t.data=d_(t.data,e),delete t.attachments,t}function d_(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=d_(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=d_(t[n],e));return t}const J7=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Bt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Bt||(Bt={}));function LT(t){return Object.prototype.toString.call(t)==="[object Object]"}class oS extends On{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Bt.BINARY_EVENT;r||n.type===Bt.BINARY_ACK?(n.type=r?Bt.EVENT:Bt.ACK,this.reconstructor=new X7(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else{if(!iS(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Bt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Bt.BINARY_EVENT||r.type===Bt.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(!oS.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Bt.CONNECT:return LT(n);case Bt.DISCONNECT:return n===void 0;case Bt.CONNECT_ERROR:return typeof n=="string"||LT(n);case Bt.EVENT:case Bt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&J7.indexOf(n[0])===-1);case Bt.ACK:case Bt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class X7{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Z7(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var ej=Object.freeze({__proto__:null,Decoder:oS,Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==Bt.EVENT&&t.type!==Bt.ACK||!lg(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Bt.EVENT?Bt.BINARY_EVENT:Bt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Bt.BINARY_EVENT&&t.type!==Bt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Q7(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}},get PacketType(){return Bt},protocol:5});function Co(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const tj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Q5 extends On{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Co(e,"open",this.onopen.bind(this)),Co(e,"packet",this.onpacket.bind(this)),Co(e,"error",this.onerror.bind(this)),Co(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(tj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Bt.EVENT,data:n,options:{}};if(r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,s=n.pop();this._registerAckCallback(o,s),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0)return void(this.acks[e]=n);const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...s])}}emitWithAck(e,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{n.push((s,a)=>r?s?o(s):i(a):i(s)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>{if(r===this._queue[0])return i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Bt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Bt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Bt.EVENT:case Bt.BINARY_EVENT:this.onevent(e);break;case Bt.ACK:case Bt.BINARY_ACK:this.onack(e);break;case Bt.DISCONNECT:this.ondisconnect();break;case Bt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Bt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Bt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Wu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Wu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(1&Math.floor(10*e))==0?t-n:t+n}return 0|Math.min(t,this.max)},Wu.prototype.reset=function(){this.attempts=0},Wu.prototype.setMin=function(t){this.ms=t},Wu.prototype.setMax=function(t){this.max=t},Wu.prototype.setJitter=function(t){this.jitter=t};class f_ extends On{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Ov(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Wu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||ej;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new W5(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Co(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Co(n,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Co(e,"ping",this.onping.bind(this)),Co(e,"data",this.ondata.bind(this)),Co(e,"error",this.onerror.bind(this)),Co(e,"close",this.onclose.bind(this)),Co(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){l_(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Q5(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Gf={};function cg(t,e){typeof t=="object"&&(e=t,t=void 0);const n=function(l,u="",d){let h=l;d=d||typeof location<"u"&&location,l==null&&(l=d.protocol+"//"+d.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l=l.charAt(1)==="/"?d.protocol+l:d.host+l),/^(https?|wss?):\/\//.test(l)||(l=d!==void 0?d.protocol+"//"+l:"https://"+l),h=c_(l)),h.port||(/^(http|ws)$/.test(h.protocol)?h.port="80":/^(http|ws)s$/.test(h.protocol)&&(h.port="443")),h.path=h.path||"/";const m=h.host.indexOf(":")!==-1?"["+h.host+"]":h.host;return h.id=h.protocol+"://"+m+":"+h.port+u,h.href=h.protocol+"://"+m+(d&&d.port===h.port?"":":"+h.port),h}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Gf[i]&&o in Gf[i].nsps;let a;return e.forceNew||e["force new connection"]||e.multiplex===!1||s?a=new f_(r,e):(Gf[i]||(Gf[i]=new f_(r,e)),a=Gf[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}function Se(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(d){o(d)}}function a(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){var d;u.done?i(u.value):(d=u.value,d instanceof n?d:new n(function(h){h(d)})).then(s,a)}l((r=r.apply(t,e||[])).next())})}Object.assign(cg,{Manager:f_,Socket:Q5,io:cg,connect:cg}),typeof SuppressedError=="function"&&SuppressedError;var Hr=zc!==void 0?zc:typeof self<"u"?self:typeof window<"u"?window:{},Zo=[],Qi=[],nj=typeof Uint8Array<"u"?Uint8Array:Array,sS=!1;function Z5(){sS=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Zo[e]=t[e],Qi[t.charCodeAt(e)]=e;Qi[45]=62,Qi[95]=63}function rj(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(Zo[(i=r)>>18&63]+Zo[i>>12&63]+Zo[i>>6&63]+Zo[63&i]);return o.join("")}function BT(t){var e;sS||Z5();for(var n=t.length,r=n%3,i="",o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(rj(t,a,a+s>l?l:a+s));return r===1?(e=t[n-1],i+=Zo[e>>2],i+=Zo[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Zo[e>>10],i+=Zo[e>>4&63],i+=Zo[e<<2&63],i+="="),o.push(i),o.join("")}function C0(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,d=-7,h=n?i-1:0,m=n?-1:1,g=t[e+h];for(h+=m,o=g&(1<<-d)-1,g>>=-d,d+=a;d>0;o=256*o+t[e+h],h+=m,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=256*s+t[e+h],h+=m,d-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,r),o-=u}return(g?-1:1)*s*Math.pow(2,o-r)}function J5(t,e,n,r,i,o){var s,a,l,u=8*o-i-1,d=(1<<u)-1,h=d>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,b=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?m/l:m*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=d?(a=0,s=d):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+g]=255&a,g+=b,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+g]=255&s,g+=b,s/=256,u-=8);t[n+g-b]|=128*w}var ij={}.toString,X5=Array.isArray||function(t){return ij.call(t)=="[object Array]"};xe.TYPED_ARRAY_SUPPORT=Hr.TYPED_ARRAY_SUPPORT===void 0||Hr.TYPED_ARRAY_SUPPORT;var oj=Kg();function Kg(){return xe.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ta(t,e){if(Kg()<e)throw new RangeError("Invalid typed array length");return xe.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=xe.prototype:(t===null&&(t=new xe(e)),t.length=e),t}function xe(t,e,n){if(!(xe.TYPED_ARRAY_SUPPORT||this instanceof xe))return new xe(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return h_(this,t)}return eO(this,t,e,n)}function eO(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?function(i,o,s,a){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(a||0))throw new RangeError("'length' is out of bounds");return o=s===void 0&&a===void 0?new Uint8Array(o):a===void 0?new Uint8Array(o,s):new Uint8Array(o,s,a),xe.TYPED_ARRAY_SUPPORT?(i=o).__proto__=xe.prototype:i=b1(i,o),i}(t,e,n,r):typeof e=="string"?function(i,o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!xe.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var a=0|nO(o,s),l=(i=ta(i,a)).write(o,s);return l!==a&&(i=i.slice(0,l)),i}(t,e,n):function(i,o){if(Jo(o)){var s=0|aS(o.length);return(i=ta(i,s)).length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(a=o.length)!=a?ta(i,0):b1(i,o);if(o.type==="Buffer"&&X5(o.data))return b1(i,o.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function tO(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h_(t,e){if(tO(e),t=ta(t,e<0?0:0|aS(e)),!xe.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function b1(t,e){var n=e.length<0?0:0|aS(e.length);t=ta(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function aS(t){if(t>=Kg())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Kg().toString(16)+" bytes");return 0|t}function Jo(t){return!(t==null||!t._isBuffer)}function nO(t,e){if(Jo(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return qg(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return sO(t).length;default:if(r)return qg(t).length;e=(""+e).toLowerCase(),r=!0}}function sj(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return mj(this,e,n);case"utf8":case"utf-8":return iO(this,e,n);case"ascii":return hj(this,e,n);case"latin1":case"binary":return pj(this,e,n);case"base64":return fj(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gj(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function lc(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function DT(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e=="string"&&(e=xe.from(e,r)),Jo(e))return e.length===0?-1:FT(t,e,n,r,i);if(typeof e=="number")return e&=255,xe.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):FT(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function FT(t,e,n,r,i){var o,s=1,a=t.length,l=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(g,b){return s===1?g[b]:g.readUInt16BE(b*s)}if(i){var d=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,d===-1?0:o-d)){if(d===-1&&(d=o),o-d+1===l)return d*s}else d!==-1&&(o-=o-d),d=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,m=0;m<l;m++)if(u(t,o+m)!==u(e,m)){h=!1;break}if(h)return o}return-1}function aj(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function lj(t,e,n,r){return Nv(qg(e,t.length-n),t,n,r)}function rO(t,e,n,r){return Nv(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(e),t,n,r)}function cj(t,e,n,r){return rO(t,e,n,r)}function uj(t,e,n,r){return Nv(sO(e),t,n,r)}function dj(t,e,n,r){return Nv(function(i,o){for(var s,a,l,u=[],d=0;d<i.length&&!((o-=2)<0);++d)a=(s=i.charCodeAt(d))>>8,l=s%256,u.push(l),u.push(a);return u}(e,t.length-n),t,n,r)}function fj(t,e,n){return e===0&&n===t.length?BT(t):BT(t.slice(e,n))}function iO(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,l,u=t[i],d=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(d=u);break;case 2:(192&(o=t[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(d=l);break;case 3:o=t[i+1],s=t[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(d=l)}d===null?(d=65533,h=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=h}return function(m){var g=m.length;if(g<=jT)return String.fromCharCode.apply(String,m);for(var b="",w=0;w<g;)b+=String.fromCharCode.apply(String,m.slice(w,w+=jT));return b}(r)}xe.poolSize=8192,xe._augment=function(t){return t.__proto__=xe.prototype,t},xe.from=function(t,e,n){return eO(null,t,e,n)},xe.TYPED_ARRAY_SUPPORT&&(xe.prototype.__proto__=Uint8Array.prototype,xe.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&xe[Symbol.species]),xe.alloc=function(t,e,n){return function(r,i,o,s){return tO(i),i<=0?ta(r,i):o!==void 0?typeof s=="string"?ta(r,i).fill(o,s):ta(r,i).fill(o):ta(r,i)}(null,t,e,n)},xe.allocUnsafe=function(t){return h_(null,t)},xe.allocUnsafeSlow=function(t){return h_(null,t)},xe.isBuffer=aO,xe.compare=function(t,e){if(!Jo(t)||!Jo(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},xe.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},xe.concat=function(t,e){if(!X5(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return xe.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=xe.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!Jo(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},xe.byteLength=nO,xe.prototype._isBuffer=!0,xe.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)lc(this,e,e+1);return this},xe.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)lc(this,e,e+3),lc(this,e+1,e+2);return this},xe.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)lc(this,e,e+7),lc(this,e+1,e+6),lc(this,e+2,e+5),lc(this,e+3,e+4);return this},xe.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?iO(this,0,t):sj.apply(this,arguments)},xe.prototype.equals=function(t){if(!Jo(t))throw new TypeError("Argument must be a Buffer");return this===t||xe.compare(this,t)===0},xe.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},xe.prototype.compare=function(t,e,n,r,i){if(!Jo(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n),d=0;d<a;++d)if(l[d]!==u[d]){o=l[d],s=u[d];break}return o<s?-1:s<o?1:0},xe.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},xe.prototype.indexOf=function(t,e,n){return DT(this,t,e,n,!0)},xe.prototype.lastIndexOf=function(t,e,n){return DT(this,t,e,n,!1)},xe.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return aj(this,t,e,n);case"utf8":case"utf-8":return lj(this,t,e,n);case"ascii":return rO(this,t,e,n);case"latin1":case"binary":return cj(this,t,e,n);case"base64":return uj(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dj(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},xe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var jT=4096;function hj(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function pj(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function mj(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=vj(t[o]);return i}function gj(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Wn(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function ri(t,e,n,r,i,o){if(!Jo(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function k0(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function T0(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function oO(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function UT(t,e,n,r,i){return i||oO(t,0,n,4),J5(t,e,n,r,23,4),n+4}function $T(t,e,n,r,i){return i||oO(t,0,n,8),J5(t,e,n,r,52,8),n+8}xe.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),xe.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=xe.prototype;else{var i=e-t;n=new xe(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},xe.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Wn(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},xe.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Wn(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},xe.prototype.readUInt8=function(t,e){return e||Wn(t,1,this.length),this[t]},xe.prototype.readUInt16LE=function(t,e){return e||Wn(t,2,this.length),this[t]|this[t+1]<<8},xe.prototype.readUInt16BE=function(t,e){return e||Wn(t,2,this.length),this[t]<<8|this[t+1]},xe.prototype.readUInt32LE=function(t,e){return e||Wn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},xe.prototype.readUInt32BE=function(t,e){return e||Wn(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},xe.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Wn(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},xe.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Wn(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},xe.prototype.readInt8=function(t,e){return e||Wn(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},xe.prototype.readInt16LE=function(t,e){e||Wn(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},xe.prototype.readInt16BE=function(t,e){e||Wn(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},xe.prototype.readInt32LE=function(t,e){return e||Wn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},xe.prototype.readInt32BE=function(t,e){return e||Wn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},xe.prototype.readFloatLE=function(t,e){return e||Wn(t,4,this.length),C0(this,t,!0,23,4)},xe.prototype.readFloatBE=function(t,e){return e||Wn(t,4,this.length),C0(this,t,!1,23,4)},xe.prototype.readDoubleLE=function(t,e){return e||Wn(t,8,this.length),C0(this,t,!0,52,8)},xe.prototype.readDoubleBE=function(t,e){return e||Wn(t,8,this.length),C0(this,t,!1,52,8)},xe.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||ri(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},xe.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||ri(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},xe.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,1,255,0),xe.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},xe.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,65535,0),xe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k0(this,t,e,!0),e+2},xe.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,65535,0),xe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k0(this,t,e,!1),e+2},xe.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,4294967295,0),xe.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):T0(this,t,e,!0),e+4},xe.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,4294967295,0),xe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T0(this,t,e,!1),e+4},xe.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);ri(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},xe.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);ri(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},xe.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,1,127,-128),xe.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},xe.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,32767,-32768),xe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k0(this,t,e,!0),e+2},xe.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,32767,-32768),xe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k0(this,t,e,!1),e+2},xe.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,2147483647,-2147483648),xe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):T0(this,t,e,!0),e+4},xe.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),xe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T0(this,t,e,!1),e+4},xe.prototype.writeFloatLE=function(t,e,n){return UT(this,t,e,!0,n)},xe.prototype.writeFloatBE=function(t,e,n){return UT(this,t,e,!1,n)},xe.prototype.writeDoubleLE=function(t,e,n){return $T(this,t,e,!0,n)},xe.prototype.writeDoubleBE=function(t,e,n){return $T(this,t,e,!1,n)},xe.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!xe.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},xe.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!xe.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{var s=Jo(t)?t:qg(new xe(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var yj=/[^+\/0-9A-Za-z-_]/g;function vj(t){return t<16?"0"+t.toString(16):t.toString(16)}function qg(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function sO(t){return function(e){var n,r,i,o,s,a;sS||Z5();var l=e.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[l-2]==="="?2:e[l-1]==="="?1:0,a=new nj(3*l/4-s),i=s>0?l-4:l;var u=0;for(n=0,r=0;n<i;n+=4,r+=3)o=Qi[e.charCodeAt(n)]<<18|Qi[e.charCodeAt(n+1)]<<12|Qi[e.charCodeAt(n+2)]<<6|Qi[e.charCodeAt(n+3)],a[u++]=o>>16&255,a[u++]=o>>8&255,a[u++]=255&o;return s===2?(o=Qi[e.charCodeAt(n)]<<2|Qi[e.charCodeAt(n+1)]>>4,a[u++]=255&o):s===1&&(o=Qi[e.charCodeAt(n)]<<10|Qi[e.charCodeAt(n+1)]<<4|Qi[e.charCodeAt(n+2)]>>2,a[u++]=o>>8&255,a[u++]=255&o),a}(function(e){if((e=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(e).replace(yj,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function Nv(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function aO(t){return t!=null&&(!!t._isBuffer||HT(t)||function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&HT(e.slice(0,0))}(t))}function HT(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var wj=Object.freeze({__proto__:null,Buffer:xe,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),xe.alloc(+t)},isBuffer:aO,kMaxLength:oj}),oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:zc!==void 0?zc:typeof self<"u"?self:{};function Lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Yu={},Oi={},_r={};function Gg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function lO(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function cO(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function lS(t,...e){if(!cO(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function uO(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");Gg(t.outputLen),Gg(t.blockLen)}function dO(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fO(t,e){lS(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(_r,"__esModule",{value:!0}),_r.isBytes=cO,_r.number=Gg,_r.bool=lO,_r.bytes=lS,_r.hash=uO,_r.exists=dO,_r.output=fO;const bj={number:Gg,bool:lO,bytes:lS,hash:uO,exists:dO,output:fO};_r.default=bj,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=s,t.hexToNumber=a,t.bytesToNumberBE=function(h){return a(r(h))},t.numberToBytesBE=function(h,m){return s(h.toString(16).padStart(2*m,"0"))},t.asyncLoop=async function(h,m,g){let b=Date.now();for(let w=0;w<h;w++){g(w);const E=Date.now()-b;E>=0&&E<m||(await(0,t.nextTick)(),b+=E)}},t.utf8ToBytes=l,t.bytesToUtf8=function(h){return new TextDecoder().decode(h)},t.toBytes=function(h){if(typeof h=="string")h=l(h);else{if(!(0,e.isBytes)(h))throw new Error("Uint8Array expected, got "+typeof h);h=d(h)}return h},t.concatBytes=function(...h){let m=0;for(let b=0;b<h.length;b++){const w=h[b];(0,e.bytes)(w),m+=w.length}const g=new Uint8Array(m);for(let b=0,w=0;b<h.length;b++){const E=h[b];g.set(E,w),w+=E.length}return g},t.checkOpts=function(h,m){if(m==null||typeof m!="object")throw new Error("options must be defined");return Object.assign(h,m)},t.equalBytes=function(h,m){if(h.length!==m.length)return!1;let g=0;for(let b=0;b<h.length;b++)g|=h[b]^m[b];return g===0},t.setBigUint64=u,t.u64Lengths=function(h,m){const g=new Uint8Array(16),b=(0,t.createView)(g);return u(b,0,BigInt(m?m.length:0),!0),u(b,8,BigInt(h.length),!0),g},t.isAligned32=function(h){return h.byteOffset%4==0},t.copyBytes=d,t.clean=function(...h){for(let m=0;m<h.length;m++)h[m].fill(0)};const e=_r;if(t.u8=h=>new Uint8Array(h.buffer,h.byteOffset,h.byteLength),t.u16=h=>new Uint16Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/2)),t.u32=h=>new Uint32Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/4)),t.createView=h=>new DataView(h.buffer,h.byteOffset,h.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(h,m)=>m.toString(16).padStart(2,"0"));function r(h){(0,e.bytes)(h);let m="";for(let g=0;g<h.length;g++)m+=n[h[g]];return m}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(h){return h>=i._0&&h<=i._9?h-i._0:h>=i._A&&h<=i._F?h-(i._A-10):h>=i._a&&h<=i._f?h-(i._a-10):void 0}function s(h){if(typeof h!="string")throw new Error("hex string expected, got "+typeof h);const m=h.length,g=m/2;if(m%2)throw new Error("padded hex string expected, got unpadded hex of length "+m);const b=new Uint8Array(g);for(let w=0,E=0;w<g;w++,E+=2){const y=o(h.charCodeAt(E)),_=o(h.charCodeAt(E+1));if(y===void 0||_===void 0){const x=h[E]+h[E+1];throw new Error('hex string expected, got non-hex character "'+x+'" at index '+E)}b[w]=16*y+_}return b}function a(h){if(typeof h!="string")throw new Error("hex string expected, got "+typeof h);return BigInt(h===""?"0":`0x${h}`)}function l(h){if(typeof h!="string")throw new Error("string expected, got "+typeof h);return new Uint8Array(new TextEncoder().encode(h))}function u(h,m,g,b){if(typeof h.setBigUint64=="function")return h.setBigUint64(m,g,b);const w=BigInt(32),E=BigInt(4294967295),y=Number(g>>w&E),_=Number(g&E),x=b?4:0,P=b?0:4;h.setUint32(m+x,y,b),h.setUint32(m+P,_,b)}function d(h){return Uint8Array.from(h)}t.nextTick=async()=>{},t.Hash=class{},t.wrapCipher=(h,m)=>(Object.assign(m,h),m)}(Oi);var Qh={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.AEAD_TAG_LENGTH=Qn.XCHACHA20_NONCE_LENGTH=Qn.CURVE25519_PUBLIC_KEY_SIZE=Qn.ETH_PUBLIC_KEY_SIZE=Qn.UNCOMPRESSED_PUBLIC_KEY_SIZE=Qn.COMPRESSED_PUBLIC_KEY_SIZE=Qn.SECRET_KEY_LENGTH=void 0,Qn.SECRET_KEY_LENGTH=32,Qn.COMPRESSED_PUBLIC_KEY_SIZE=33,Qn.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Qn.ETH_PUBLIC_KEY_SIZE=64,Qn.CURVE25519_PUBLIC_KEY_SIZE=32,Qn.XCHACHA20_NONCE_LENGTH=24,Qn.AEAD_TAG_LENGTH=16,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Qn;t.ECIES_CONFIG=new function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16},t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var n={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in n)return n[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(Qh);var E1={},Wg={},Bv={},hO={},cS={},I0={};Object.defineProperty(I0,"__esModule",{value:!0}),I0.crypto=void 0,I0.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=o,t.managedNonce=function(d){return(0,n.number)(d.nonceLength),(h,...m)=>({encrypt(g,...b){const{nonceLength:w}=d,E=i(w),y=d(h,E,...m).encrypt(g,...b),_=(0,r.concatBytes)(E,y);return y.fill(0),_},decrypt(g,...b){const{nonceLength:w}=d,E=g.subarray(0,w),y=g.subarray(w);return d(h,E,...m).decrypt(y,...b)}})};const e=I0,n=_r,r=Oi;function i(d=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(d));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(d);throw new Error("crypto.getRandomValues must be defined")}function o(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(d,h,m,g){const b=o(),w=await b.importKey("raw",d,h,!0,["encrypt"]),E=await b.encrypt(m,w,g);return new Uint8Array(E)},async decrypt(d,h,m,g){const b=o(),w=await b.importKey("raw",d,h,!0,["decrypt"]),E=await b.decrypt(m,w,g);return new Uint8Array(E)}};const s="AES-CBC",a="AES-CTR",l="AES-GCM";function u(d){return(h,m,g)=>{(0,n.bytes)(h),(0,n.bytes)(m);const b={name:d,length:8*h.length},w=function(E,y,_){if(E===s)return{name:s,iv:y};if(E===a)return{name:a,counter:y,length:64};if(E===l)return _?{name:l,iv:y,additionalData:_}:{name:l,iv:y};throw new Error("unknown aes block mode")}(d,m,g);return{encrypt:E=>((0,n.bytes)(E),t.utils.encrypt(h,b,w,E)),decrypt:E=>((0,n.bytes)(E),t.utils.decrypt(h,b,w,E))}}}t.cbc=u(s),t.ctr=u(a),t.gcm=u(l)}(cS);var pO={},Zn={},na={},Si={};function Yg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function mO(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function gO(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function uS(t,...e){if(!gO(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function yO(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yg(t.outputLen),Yg(t.blockLen)}function vO(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wO(t,e){uS(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Si,"__esModule",{value:!0}),Si.isBytes=gO,Si.number=Yg,Si.bool=mO,Si.bytes=uS,Si.hash=yO,Si.exists=vO,Si.output=wO;const Ej={number:Yg,bool:mO,bytes:uS,hash:yO,exists:vO,output:wO};Si.default=Ej;var wa={},P0={};Object.defineProperty(P0,"__esModule",{value:!0}),P0.crypto=void 0,P0.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(u){return u instanceof Uint8Array||u!=null&&typeof u=="object"&&u.constructor.name==="Uint8Array"},t.byteSwap32=function(u){for(let d=0;d<u.length;d++)u[d]=(0,t.byteSwap)(u[d])},t.bytesToHex=function(u){(0,n.bytes)(u);let d="";for(let h=0;h<u.length;h++)d+=r[u[h]];return d},t.hexToBytes=function(u){if(typeof u!="string")throw new Error("hex string expected, got "+typeof u);const d=u.length,h=d/2;if(d%2)throw new Error("padded hex string expected, got unpadded hex of length "+d);const m=new Uint8Array(h);for(let g=0,b=0;g<h;g++,b+=2){const w=o(u.charCodeAt(b)),E=o(u.charCodeAt(b+1));if(w===void 0||E===void 0){const y=u[b]+u[b+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+b)}m[g]=16*w+E}return m},t.asyncLoop=async function(u,d,h){let m=Date.now();for(let g=0;g<u;g++){h(g);const b=Date.now()-m;b>=0&&b<d||(await(0,t.nextTick)(),m+=b)}},t.utf8ToBytes=s,t.toBytes=a,t.concatBytes=function(...u){let d=0;for(let m=0;m<u.length;m++){const g=u[m];(0,n.bytes)(g),d+=g.length}const h=new Uint8Array(d);for(let m=0,g=0;m<u.length;m++){const b=u[m];h.set(b,g),g+=b.length}return h},t.checkOpts=function(u,d){if(d!==void 0&&l.call(d)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(u,d)},t.wrapConstructor=function(u){const d=m=>u().update(a(m)).digest(),h=u();return d.outputLen=h.outputLen,d.blockLen=h.blockLen,d.create=()=>u(),d},t.wrapConstructorWithOpts=function(u){const d=(m,g)=>u(g).update(a(m)).digest(),h=u({});return d.outputLen=h.outputLen,d.blockLen=h.blockLen,d.create=m=>u(m),d},t.wrapXOFConstructorWithOpts=function(u){const d=(m,g)=>u(g).update(a(m)).digest(),h=u({});return d.outputLen=h.outputLen,d.blockLen=h.blockLen,d.create=m=>u(m),d},t.randomBytes=function(u=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(u));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(u);throw new Error("crypto.getRandomValues must be defined")};const e=P0,n=Si;t.u8=u=>new Uint8Array(u.buffer,u.byteOffset,u.byteLength),t.u32=u=>new Uint32Array(u.buffer,u.byteOffset,Math.floor(u.byteLength/4)),t.createView=u=>new DataView(u.buffer,u.byteOffset,u.byteLength),t.rotr=(u,d)=>u<<32-d|u>>>d,t.rotl=(u,d)=>u<<d|u>>>32-d>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=u=>u<<24&4278190080|u<<8&16711680|u>>>8&65280|u>>>24&255,t.byteSwapIfBE=t.isLE?u=>u:u=>(0,t.byteSwap)(u);const r=Array.from({length:256},(u,d)=>d.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(u){return u>=i._0&&u<=i._9?u-i._0:u>=i._A&&u<=i._F?u-(i._A-10):u>=i._a&&u<=i._f?u-(i._a-10):void 0}function s(u){if(typeof u!="string")throw new Error("utf8ToBytes expected string, got "+typeof u);return new Uint8Array(new TextEncoder().encode(u))}function a(u){return typeof u=="string"&&(u=s(u)),(0,n.bytes)(u),u}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString}(wa),Object.defineProperty(na,"__esModule",{value:!0}),na.HashMD=na.Maj=na.Chi=void 0;const _1=Si,Wf=wa;na.Chi=(t,e,n)=>t&e^~t&n,na.Maj=(t,e,n)=>t&e^t&n^e&n,na.HashMD=class extends Wf.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Wf.createView)(this.buffer)}update(t){(0,_1.exists)(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=(0,Wf.toBytes)(t)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const a=(0,Wf.createView)(t);for(;r<=i-o;o+=r)this.process(a,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,_1.exists)(this),(0,_1.output)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let d=o;d<r;d++)e[d]=0;(function(d,h,m,g){if(typeof d.setBigUint64=="function")return d.setBigUint64(h,m,g);const b=BigInt(32),w=BigInt(4294967295),E=Number(m>>b&w),y=Number(m&w),_=g?4:0,x=g?0:4;d.setUint32(h+_,E,g),d.setUint32(h+x,y,g)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,Wf.createView)(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,u[d],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}};var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.add5L=_t.add5H=_t.add4H=_t.add4L=_t.add3H=_t.add3L=_t.rotlBL=_t.rotlBH=_t.rotlSL=_t.rotlSH=_t.rotr32L=_t.rotr32H=_t.rotrBL=_t.rotrBH=_t.rotrSL=_t.rotrSH=_t.shrSL=_t.shrSH=_t.toBig=void 0,_t.fromBig=dS,_t.split=bO,_t.add=NO;const R0=BigInt(2**32-1),p_=BigInt(32);function dS(t,e=!1){return e?{h:Number(t&R0),l:Number(t>>p_&R0)}:{h:0|Number(t>>p_&R0),l:0|Number(t&R0)}}function bO(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=dS(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const EO=(t,e)=>BigInt(t>>>0)<<p_|BigInt(e>>>0);_t.toBig=EO;const _O=(t,e,n)=>t>>>n;_t.shrSH=_O;const xO=(t,e,n)=>t<<32-n|e>>>n;_t.shrSL=xO;const SO=(t,e,n)=>t>>>n|e<<32-n;_t.rotrSH=SO;const AO=(t,e,n)=>t<<32-n|e>>>n;_t.rotrSL=AO;const CO=(t,e,n)=>t<<64-n|e>>>n-32;_t.rotrBH=CO;const kO=(t,e,n)=>t>>>n-32|e<<64-n;_t.rotrBL=kO;const TO=(t,e)=>e;_t.rotr32H=TO;const IO=(t,e)=>t;_t.rotr32L=IO;const PO=(t,e,n)=>t<<n|e>>>32-n;_t.rotlSH=PO;const RO=(t,e,n)=>e<<n|t>>>32-n;_t.rotlSL=RO;const MO=(t,e,n)=>e<<n-32|t>>>64-n;_t.rotlBH=MO;const OO=(t,e,n)=>t<<n-32|e>>>64-n;function NO(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}_t.rotlBL=OO;const LO=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);_t.add3L=LO;const BO=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;_t.add3H=BO;const DO=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);_t.add4L=DO;const FO=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;_t.add4H=FO;const jO=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);_t.add5L=jO;const UO=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0;_t.add5H=UO;const _j={fromBig:dS,split:bO,toBig:EO,shrSH:_O,shrSL:xO,rotrSH:SO,rotrSL:AO,rotrBH:CO,rotrBL:kO,rotr32H:TO,rotr32L:IO,rotlSH:PO,rotlSL:RO,rotlBH:MO,rotlBL:OO,add:NO,add3L:LO,add3H:BO,add4L:DO,add4H:FO,add5H:UO,add5L:jO};_t.default=_j,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.sha384=Zn.sha512_256=Zn.sha512_224=Zn.sha512=Zn.SHA384=Zn.SHA512_256=Zn.SHA512_224=Zn.SHA512=void 0;const xj=na,Ct=_t,M0=wa,[Sj,Aj]=Ct.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ga=new Uint32Array(80),Wa=new Uint32Array(80);class Qp extends xj.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:u,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:w,Hl:E}=this;return[e,n,r,i,o,s,a,l,u,d,h,m,g,b,w,E]}set(e,n,r,i,o,s,a,l,u,d,h,m,g,b,w,E){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|o,this.Cl=0|s,this.Dh=0|a,this.Dl=0|l,this.Eh=0|u,this.El=0|d,this.Fh=0|h,this.Fl=0|m,this.Gh=0|g,this.Gl=0|b,this.Hh=0|w,this.Hl=0|E}process(e,n){for(let x=0;x<16;x++,n+=4)Ga[x]=e.getUint32(n),Wa[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const P=0|Ga[x-15],M=0|Wa[x-15],L=Ct.default.rotrSH(P,M,1)^Ct.default.rotrSH(P,M,8)^Ct.default.shrSH(P,M,7),K=Ct.default.rotrSL(P,M,1)^Ct.default.rotrSL(P,M,8)^Ct.default.shrSL(P,M,7),j=0|Ga[x-2],G=0|Wa[x-2],V=Ct.default.rotrSH(j,G,19)^Ct.default.rotrBH(j,G,61)^Ct.default.shrSH(j,G,6),W=Ct.default.rotrSL(j,G,19)^Ct.default.rotrBL(j,G,61)^Ct.default.shrSL(j,G,6),q=Ct.default.add4L(K,W,Wa[x-7],Wa[x-16]),k=Ct.default.add4H(q,L,V,Ga[x-7],Ga[x-16]);Ga[x]=0|k,Wa[x]=0|q}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:u,Dl:d,Eh:h,El:m,Fh:g,Fl:b,Gh:w,Gl:E,Hh:y,Hl:_}=this;for(let x=0;x<80;x++){const P=Ct.default.rotrSH(h,m,14)^Ct.default.rotrSH(h,m,18)^Ct.default.rotrBH(h,m,41),M=Ct.default.rotrSL(h,m,14)^Ct.default.rotrSL(h,m,18)^Ct.default.rotrBL(h,m,41),L=h&g^~h&w,K=m&b^~m&E,j=Ct.default.add5L(_,M,K,Aj[x],Wa[x]),G=Ct.default.add5H(j,y,P,L,Sj[x],Ga[x]),V=0|j,W=Ct.default.rotrSH(r,i,28)^Ct.default.rotrBH(r,i,34)^Ct.default.rotrBH(r,i,39),q=Ct.default.rotrSL(r,i,28)^Ct.default.rotrBL(r,i,34)^Ct.default.rotrBL(r,i,39),k=r&o^r&a^o&a,C=i&s^i&l^s&l;y=0|w,_=0|E,w=0|g,E=0|b,g=0|h,b=0|m,{h,l:m}=Ct.default.add(0|u,0|d,0|G,0|V),u=0|a,d=0|l,a=0|o,l=0|s,o=0|r,s=0|i;const S=Ct.default.add3L(V,q,C);r=Ct.default.add3H(S,G,W,k),i=0|S}({h:r,l:i}=Ct.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:o,l:s}=Ct.default.add(0|this.Bh,0|this.Bl,0|o,0|s),{h:a,l}=Ct.default.add(0|this.Ch,0|this.Cl,0|a,0|l),{h:u,l:d}=Ct.default.add(0|this.Dh,0|this.Dl,0|u,0|d),{h,l:m}=Ct.default.add(0|this.Eh,0|this.El,0|h,0|m),{h:g,l:b}=Ct.default.add(0|this.Fh,0|this.Fl,0|g,0|b),{h:w,l:E}=Ct.default.add(0|this.Gh,0|this.Gl,0|w,0|E),{h:y,l:_}=Ct.default.add(0|this.Hh,0|this.Hl,0|y,0|_),this.set(r,i,o,s,a,l,u,d,h,m,g,b,w,E,y,_)}roundClean(){Ga.fill(0),Wa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Zn.SHA512=Qp;class $O extends Qp{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Zn.SHA512_224=$O;class HO extends Qp{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Zn.SHA512_256=HO;class VT extends Qp{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Zn.SHA384=VT,Zn.sha512=(0,M0.wrapConstructor)(()=>new Qp),Zn.sha512_224=(0,M0.wrapConstructor)(()=>new $O),Zn.sha512_256=(0,M0.wrapConstructor)(()=>new HO),Zn.sha384=(0,M0.wrapConstructor)(()=>new VT);var m_={},rd={},Qt={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.notImplemented=Tt.bitMask=void 0,Tt.isBytes=Qg,Tt.abytes=Zg,Tt.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},Tt.bytesToHex=x1,Tt.numberToHexUnpadded=zT,Tt.hexToNumber=S1,Tt.hexToBytes=dg,Tt.bytesToNumberBE=function(t){return S1(x1(t))},Tt.bytesToNumberLE=function(t){return Zg(t),S1(x1(Uint8Array.from(t).reverse()))},Tt.numberToBytesBE=qT,Tt.numberToBytesLE=function(t,e){return qT(t,e).reverse()},Tt.numberToVarBytesBE=function(t){return dg(zT(t))},Tt.ensureBytes=function(t,e,n){let r;if(typeof e=="string")try{r=dg(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!Qg(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},Tt.concatBytes=GT,Tt.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},Tt.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},Tt.inRange=WT,Tt.aInRange=function(t,e,n,r){if(!WT(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},Tt.bitLen=function(t){let e;for(e=0;t>g_;t>>=ug,e+=1);return e},Tt.bitGet=function(t,e){return t>>BigInt(e)&ug},Tt.bitSet=function(t,e,n){return t|(n?ug:g_)<<BigInt(e)},Tt.createHmacDrbg=function(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=C1(t),i=C1(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),l=(d=C1())=>{i=a(YT([0]),d),r=a(),d.length!==0&&(i=a(YT([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const m=r.slice();h.push(m),d+=r.length}return GT(...h)};return(d,h)=>{let m;for(s(),l(d);!(m=h(u()));)l();return s(),m}},Tt.validateObject=function(t,e,n={}){const r=(i,o,s)=>{const a=Tj[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0||a(l,t)))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t},Tt.memoized=function(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}};const g_=BigInt(0),ug=BigInt(1),Cj=BigInt(2);function Qg(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Zg(t){if(!Qg(t))throw new Error("Uint8Array expected")}const kj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x1(t){Zg(t);let e="";for(let n=0;n<t.length;n++)e+=kj[t[n]];return e}function zT(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function S1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Ls={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function KT(t){return t>=Ls._0&&t<=Ls._9?t-Ls._0:t>=Ls._A&&t<=Ls._F?t-(Ls._A-10):t>=Ls._a&&t<=Ls._f?t-(Ls._a-10):void 0}function dg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=KT(t.charCodeAt(o)),a=KT(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=16*s+a}return r}function qT(t,e){return dg(t.toString(16).padStart(2*e,"0"))}function GT(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Zg(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const A1=t=>typeof t=="bigint"&&g_<=t;function WT(t,e,n){return A1(t)&&A1(e)&&A1(n)&&e<=t&&t<n}Tt.bitMask=t=>(Cj<<BigInt(t-1))-ug;const C1=t=>new Uint8Array(t),YT=t=>Uint8Array.from(t),Tj={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Qg(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};Tt.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.isNegativeLE=void 0,Qt.mod=_i,Qt.pow=VO,Qt.pow2=function(t,e,n){let r=t;for(;e-- >Jn;)r*=r,r%=n;return r},Qt.invert=O0,Qt.tonelliShanks=zO,Qt.FpSqrt=JT,Qt.validateField=function(t){const e=Pj.reduce((n,r)=>(n[r]="function",n),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,bi.validateObject)(t,e)},Qt.FpPow=XT,Qt.FpInvertBatch=e3,Qt.FpDiv=function(t,e,n){return t.mul(e,typeof n=="bigint"?O0(n,t.ORDER):t.inv(n))},Qt.FpLegendre=t3,Qt.FpIsSquare=function(t){const e=t3(t.ORDER);return n=>{const r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},Qt.nLength=k1,Qt.Field=function(t,e,n=!1,r={}){if(t<=Jn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=k1(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=JT(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:(0,bi.bitMask)(i),ZERO:Jn,ONE:rn,create:l=>_i(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof l);return Jn<=l&&l<t},is0:l=>l===Jn,isOdd:l=>(l&rn)===rn,neg:l=>_i(-l,t),eql:(l,u)=>l===u,sqr:l=>_i(l*l,t),add:(l,u)=>_i(l+u,t),sub:(l,u)=>_i(l-u,t),mul:(l,u)=>_i(l*u,t),pow:(l,u)=>XT(a,l,u),div:(l,u)=>_i(l*O0(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>O0(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>e3(a,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?(0,bi.numberToBytesLE)(l,o):(0,bi.numberToBytesBE)(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?(0,bi.bytesToNumberLE)(l):(0,bi.bytesToNumberBE)(l)}});return Object.freeze(a)},Qt.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},Qt.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},Qt.hashToPrivateScalar=function(t,e,n=!1){const r=(t=(0,bi.ensureBytes)("privateHash",t)).length,i=k1(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return _i(n?(0,bi.bytesToNumberLE)(t):(0,bi.bytesToNumberBE)(t),e-rn)+rn},Qt.getFieldBytesLength=v_,Qt.getMinHashLength=n3,Qt.mapHashToField=function(t,e,n=!1){const r=t.length,i=v_(e),o=n3(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=_i(n?(0,bi.bytesToNumberBE)(t):(0,bi.bytesToNumberLE)(t),e-rn)+rn;return n?(0,bi.numberToBytesLE)(s,i):(0,bi.numberToBytesBE)(s,i)};const bi=Tt,Jn=BigInt(0),rn=BigInt(1),fl=BigInt(2),Ij=BigInt(3),y_=BigInt(4),QT=BigInt(5),ZT=BigInt(8);function _i(t,e){const n=t%e;return n>=Jn?n:e+n}function VO(t,e,n){if(n<=Jn||e<Jn)throw new Error("Expected power/modulo > 0");if(n===rn)return Jn;let r=rn;for(;e>Jn;)e&rn&&(r=r*t%n),t=t*t%n,e>>=rn;return r}function O0(t,e){if(t===Jn||e<=Jn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=_i(t,e),r=e,i=Jn,o=rn;for(;n!==Jn;){const s=r%n,a=i-o*(r/n);r=n,n=s,i=o,o=a}if(r!==rn)throw new Error("invert: does not exist");return _i(i,e)}function zO(t){const e=(t-rn)/fl;let n,r,i;for(n=t-rn,r=0;n%fl===Jn;n/=fl,r++);for(i=fl;i<t&&VO(i,e,t)!==t-rn;i++);if(r===1){const s=(t+rn)/y_;return function(a,l){const u=a.pow(l,s);if(!a.eql(a.sqr(u),l))throw new Error("Cannot find square root");return u}}const o=(n+rn)/fl;return function(s,a){if(s.pow(a,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,u=s.pow(s.mul(s.ONE,i),n),d=s.pow(a,o),h=s.pow(a,n);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let m=1;for(let b=s.sqr(h);m<l&&!s.eql(b,s.ONE);m++)b=s.sqr(b);const g=s.pow(u,rn<<BigInt(l-m-1));u=s.sqr(g),d=s.mul(d,g),h=s.mul(h,u),l=m}return d}}function JT(t){if(t%y_===Ij){const e=(t+rn)/y_;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%ZT===QT){const e=(t-QT)/ZT;return function(n,r){const i=n.mul(r,fl),o=n.pow(i,e),s=n.mul(r,o),a=n.mul(n.mul(s,fl),o),l=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return zO(t)}BigInt(9),BigInt(16),Qt.isNegativeLE=(t,e)=>(_i(t,e)&rn)===rn;const Pj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XT(t,e,n){if(n<Jn)throw new Error("Expected power > 0");if(n===Jn)return t.ONE;if(n===rn)return e;let r=t.ONE,i=e;for(;n>Jn;)n&rn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=rn;return r}function e3(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function t3(t){const e=(t-rn)/fl;return(n,r)=>n.pow(r,e)}function k1(t,e){const n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function v_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function n3(t){const e=v_(t);return e+Math.ceil(e/2)}Object.defineProperty(rd,"__esModule",{value:!0}),rd.wNAF=function(t,e){const n=(o,s)=>{const a=s.negate();return o?a:s},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>(r(o),{windows:Math.ceil(e/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,s){let a=t.ZERO,l=o;for(;s>Rj;)s&T1&&(a=a.add(l)),l=l.double(),s>>=T1;return a},precomputeWindow(o,s){const{windows:a,windowSize:l}=i(s),u=[];let d=o,h=d;for(let m=0;m<a;m++){h=d,u.push(h);for(let g=1;g<l;g++)h=h.add(d),u.push(h);d=h.double()}return u},wNAF(o,s,a){const{windows:l,windowSize:u}=i(o);let d=t.ZERO,h=t.BASE;const m=BigInt(2**o-1),g=2**o,b=BigInt(o);for(let w=0;w<l;w++){const E=w*u;let y=Number(a&m);a>>=b,y>u&&(y-=g,a+=T1);const _=E,x=E+Math.abs(y)-1,P=w%2!=0,M=y<0;y===0?h=h.add(n(P,s[_])):d=d.add(n(M,s[x]))}return{p:d,f:h}},wNAFCached(o,s,a){const l=o3.get(o)||1;let u=I1.get(o);return u||(u=this.precomputeWindow(o,l),l!==1&&I1.set(o,a(u))),this.wNAF(l,u,s)},setWindowSize(o,s){r(s),o3.set(o,s),I1.delete(o)}}},rd.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((d,h)=>{if(!e.isValid(d))throw new Error(`wrong scalar at index ${h}`)}),n.forEach((d,h)=>{if(!(d instanceof t))throw new Error(`wrong point at index ${h}`)});const i=(0,i3.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/o)*o;let u=t.ZERO;for(let d=l;d>=0;d-=o){a.fill(t.ZERO);for(let m=0;m<r.length;m++){const g=r[m],b=Number(g>>BigInt(d)&BigInt(s));a[b]=a[b].add(n[m])}let h=t.ZERO;for(let m=a.length-1,g=t.ZERO;m>0;m--)g=g.add(a[m]),h=h.add(g);if(u=u.add(h),d!==0)for(let m=0;m<o;m++)u=u.double()}return u},rd.validateBasic=function(t){return(0,r3.validateField)(t.Fp),(0,i3.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r3.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const r3=Qt,i3=Tt,Rj=BigInt(0),T1=BigInt(1),I1=new WeakMap,o3=new WeakMap;Object.defineProperty(m_,"__esModule",{value:!0}),m_.twistedEdwards=function(t){const e=function(k){const C=(0,P1.validateBasic)(k);return ii.validateObject(k,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...C})}(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=e,u=N0<<BigInt(8*a)-oi,d=n.create,h=(0,s3.Field)(e.n,e.nBitLength),m=e.uvRatio||((k,C)=>{try{return{isValid:!0,value:n.sqrt(k*n.inv(C))}}catch{return{isValid:!1,value:Eo}}}),g=e.adjustScalarBytes||(k=>k),b=e.domain||((k,C,S)=>{if((0,Ei.abool)("phflag",S),C.length||S)throw new Error("Contexts/pre-hash are not supported");return k});function w(k,C){ii.aInRange("coordinate "+k,C,Eo,u)}function E(k){if(!(k instanceof x))throw new Error("ExtendedPoint expected")}const y=(0,Ei.memoized)((k,C)=>{const{ex:S,ey:T,ez:R}=k,B=k.is0();C==null&&(C=B?Mj:n.inv(R));const F=d(S*C),U=d(T*C),D=d(R*C);if(B)return{x:Eo,y:oi};if(D!==oi)throw new Error("invZ was invalid");return{x:F,y:U}}),_=(0,Ei.memoized)(k=>{const{a:C,d:S}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:T,ey:R,ez:B,et:F}=k,U=d(T*T),D=d(R*R),O=d(B*B),N=d(O*O),H=d(U*C);if(d(O*d(H+D))!==d(N+d(S*d(U*D))))throw new Error("bad point: equation left != right (1)");if(d(T*R)!==d(B*F))throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(C,S,T,R){this.ex=C,this.ey=S,this.ez=T,this.et=R,w("x",C),w("y",S),w("z",T),w("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(C){if(C instanceof x)throw new Error("extended point not allowed");const{x:S,y:T}=C||{};return w("x",S),w("y",T),new x(S,T,oi,d(S*T))}static normalizeZ(C){const S=n.invertBatch(C.map(T=>T.ez));return C.map((T,R)=>T.toAffine(S[R])).map(x.fromAffine)}static msm(C,S){return(0,P1.pippenger)(x,h,C,S)}_setWindowSize(C){L.setWindowSize(this,C)}assertValidity(){_(this)}equals(C){E(C);const{ex:S,ey:T,ez:R}=this,{ex:B,ey:F,ez:U}=C,D=d(S*U),O=d(B*R),N=d(T*U),H=d(F*R);return D===O&&N===H}is0(){return this.equals(x.ZERO)}negate(){return new x(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:C}=e,{ex:S,ey:T,ez:R}=this,B=d(S*S),F=d(T*T),U=d(N0*d(R*R)),D=d(C*B),O=S+T,N=d(d(O*O)-B-F),H=D+F,z=H-U,Y=D-F,ee=d(N*z),J=d(H*Y),oe=d(N*Y),se=d(z*H);return new x(ee,J,se,oe)}add(C){E(C);const{a:S,d:T}=e,{ex:R,ey:B,ez:F,et:U}=this,{ex:D,ey:O,ez:N,et:H}=C;if(S===BigInt(-1)){const Ee=d((B-R)*(O+D)),Ae=d((B+R)*(O-D)),Re=d(Ae-Ee);if(Re===Eo)return this.double();const $e=d(F*N0*H),Ke=d(U*N0*N),Q=Ke+$e,re=Ae+Ee,le=Ke-$e,Ce=d(Q*Re),Ie=d(re*le),Te=d(Q*le),ze=d(Re*re);return new x(Ce,Ie,ze,Te)}const z=d(R*D),Y=d(B*O),ee=d(U*T*H),J=d(F*N),oe=d((R+B)*(D+O)-z-Y),se=J-ee,ve=J+ee,de=d(Y-S*z),Oe=d(oe*se),je=d(ve*de),we=d(oe*de),_e=d(se*ve);return new x(Oe,je,_e,we)}subtract(C){return this.add(C.negate())}wNAF(C){return L.wNAFCached(this,C,x.normalizeZ)}multiply(C){const S=C;ii.aInRange("scalar",S,oi,r);const{p:T,f:R}=this.wNAF(S);return x.normalizeZ([T,R])[0]}multiplyUnsafe(C){const S=C;return ii.aInRange("scalar",S,Eo,r),S===Eo?M:this.equals(M)||S===oi?this:this.equals(P)?this.wNAF(S).p:L.unsafeLadder(this,S)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return L.unsafeLadder(this,r).is0()}toAffine(C){return y(this,C)}clearCofactor(){const{h:C}=e;return C===oi?this:this.multiplyUnsafe(C)}static fromHex(C,S=!1){const{d:T,a:R}=e,B=n.BYTES;C=(0,Ei.ensureBytes)("pointHex",C,B),(0,Ei.abool)("zip215",S);const F=C.slice(),U=C[B-1];F[B-1]=-129&U;const D=ii.bytesToNumberLE(F),O=S?u:n.ORDER;ii.aInRange("pointHex.y",D,Eo,O);const N=d(D*D),H=d(N-oi),z=d(T*N-R);let{isValid:Y,value:ee}=m(H,z);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const J=(ee&oi)===oi,oe=(128&U)!=0;if(!S&&ee===Eo&&oe)throw new Error("Point.fromHex: x=0 and x_0=1");return oe!==J&&(ee=d(-ee)),x.fromAffine({x:ee,y:D})}static fromPrivateKey(C){return G(C).point}toRawBytes(){const{x:C,y:S}=this.toAffine(),T=ii.numberToBytesLE(S,n.BYTES);return T[T.length-1]|=C&oi?128:0,T}toHex(){return ii.bytesToHex(this.toRawBytes())}}x.BASE=new x(e.Gx,e.Gy,oi,d(e.Gx*e.Gy)),x.ZERO=new x(Eo,oi,oi,Eo);const{BASE:P,ZERO:M}=x,L=(0,P1.wNAF)(x,8*a);function K(k){return(0,s3.mod)(k,r)}function j(k){return K(ii.bytesToNumberLE(k))}function G(k){const C=a;k=(0,Ei.ensureBytes)("private key",k,C);const S=(0,Ei.ensureBytes)("hashed private key",o(k),2*C),T=g(S.slice(0,C)),R=S.slice(C,2*C),B=j(T),F=P.multiply(B),U=F.toRawBytes();return{head:T,prefix:R,scalar:B,point:F,pointBytes:U}}function V(k=new Uint8Array,...C){const S=ii.concatBytes(...C);return j(o(b(S,(0,Ei.ensureBytes)("context",k),!!i)))}const W=Oj;return P._setWindowSize(8),{CURVE:e,getPublicKey:function(k){return G(k).pointBytes},sign:function(k,C,S={}){k=(0,Ei.ensureBytes)("message",k),i&&(k=i(k));const{prefix:T,scalar:R,pointBytes:B}=G(C),F=V(S.context,T,k),U=P.multiply(F).toRawBytes(),D=K(F+V(S.context,U,B,k)*R);ii.aInRange("signature.s",D,Eo,r);const O=ii.concatBytes(U,ii.numberToBytesLE(D,n.BYTES));return(0,Ei.ensureBytes)("result",O,2*a)},verify:function(k,C,S,T=W){const{context:R,zip215:B}=T,F=n.BYTES;k=(0,Ei.ensureBytes)("signature",k,2*F),C=(0,Ei.ensureBytes)("message",C),B!==void 0&&(0,Ei.abool)("zip215",B),i&&(C=i(C));const U=ii.bytesToNumberLE(k.slice(F,2*F));let D,O,N;try{D=x.fromHex(S,B),O=x.fromHex(k.slice(0,F),B),N=P.multiplyUnsafe(U)}catch{return!1}if(!B&&D.isSmallOrder())return!1;const H=V(R,O.toRawBytes(),D.toRawBytes(),C);return O.add(D.multiplyUnsafe(H)).subtract(N).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:G,randomPrivateKey:()=>s(n.BYTES),precompute:(k=8,C=x.BASE)=>(C._setWindowSize(k),C.multiply(BigInt(3)),C)}}};const P1=rd,s3=Qt,ii=Tt,Ei=Tt,Eo=BigInt(0),oi=BigInt(1),N0=BigInt(2),Mj=BigInt(8),Oj={zip215:!0};var ll={};Object.defineProperty(ll,"__esModule",{value:!0}),ll.expand_message_xmd=KO,ll.expand_message_xof=qO,ll.hash_to_field=R1,ll.isogenyMap=function(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,s,a,l]=n.map(u=>u.reduce((d,h)=>t.add(t.mul(d,r),h)));return r=t.div(o,s),i=t.mul(i,t.div(a,l)),{x:r,y:i}}},ll.createHasher=function(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=R1(r,2,{...n,DST:n.DST,...i}),s=t.fromAffine(e(o[0])),a=t.fromAffine(e(o[1])),l=s.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const o=R1(r,1,{...n,DST:n.encodeDST,...i}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const o of r)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};const Nj=Qt,Er=Tt,Lj=Er.bytesToNumberBE;function cl(t,e){if(Zh(t),Zh(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function Bj(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Zh(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function KO(t,e,n,r){(0,Er.abytes)(t),(0,Er.abytes)(e),Zh(n),e.length>255&&(e=r((0,Er.concatBytes)((0,Er.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,Er.concatBytes)(e,cl(e.length,1)),l=cl(0,o),u=cl(n,2),d=new Array(s),h=r((0,Er.concatBytes)(l,t,u,cl(0,1),a));d[0]=r((0,Er.concatBytes)(h,cl(1,1),a));for(let m=1;m<=s;m++){const g=[Bj(h,d[m-1]),cl(m+1,1),a];d[m]=r((0,Er.concatBytes)(...g))}return(0,Er.concatBytes)(...d).slice(0,n)}function qO(t,e,n,r,i){if((0,Er.abytes)(t),(0,Er.abytes)(e),Zh(n),e.length>255){const o=Math.ceil(2*r/8);e=i.create({dkLen:o}).update((0,Er.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(cl(n,2)).update(e).update(cl(e.length,1)).digest()}function R1(t,e,n){(0,Er.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:s,expand:a,DST:l}=n;(0,Er.abytes)(t),Zh(e);const u=typeof l=="string"?(0,Er.utf8ToBytes)(l):l,d=r.toString(2).length,h=Math.ceil((d+i)/8),m=e*o*h;let g;if(a==="xmd")g=KO(t,u,m,s);else if(a==="xof")g=qO(t,u,m,i,s);else{if(a!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');g=t}const b=new Array(e);for(let w=0;w<e;w++){const E=new Array(o);for(let y=0;y<o;y++){const _=h*(y+w*o),x=g.subarray(_,_+h);E[y]=(0,Nj.mod)(Lj(x),r)}b[w]=E}return b}var w_={};Object.defineProperty(w_,"__esModule",{value:!0}),w_.montgomery=function(t){const e=function(w){return(0,Ya.validateObject)(w,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...w})}(t),{P:n}=e,r=w=>(0,a3.mod)(w,n),i=e.montgomeryBits,o=Math.ceil(i/8),s=e.nByteLength,a=e.adjustScalarBytes||(w=>w),l=e.powPminus2||(w=>(0,a3.pow)(w,n-BigInt(2),n));function u(w,E,y){const _=r(w*(E-y));return[E=r(E-_),y=r(y+_)]}const d=(e.a-BigInt(2))/BigInt(4);function h(w){return(0,Ya.numberToBytesLE)(r(w),o)}function m(w,E){const y=function(P){const M=(0,Ya.ensureBytes)("u coordinate",P,o);return s===32&&(M[31]&=127),(0,Ya.bytesToNumberLE)(M)}(E),_=function(P){const M=(0,Ya.ensureBytes)("scalar",P),L=M.length;if(L!==o&&L!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${L}`);return(0,Ya.bytesToNumberLE)(a(M))}(w),x=function(P,M){(0,Ya.aInRange)("u",P,Du,n),(0,Ya.aInRange)("scalar",M,Du,n);const L=M,K=P;let j,G=M1,V=Du,W=P,q=M1,k=Du;for(let S=BigInt(i-1);S>=Du;S--){const T=L>>S&M1;k^=T,j=u(k,G,W),G=j[0],W=j[1],j=u(k,V,q),V=j[0],q=j[1],k=T;const R=G+V,B=r(R*R),F=G-V,U=r(F*F),D=B-U,O=W+q,N=r((W-q)*R),H=r(O*F),z=N+H,Y=N-H;W=r(z*z),q=r(K*r(Y*Y)),G=r(B*U),V=r(D*(B+r(d*D)))}j=u(k,G,W),G=j[0],W=j[1],j=u(k,V,q),V=j[0],q=j[1];const C=l(V);return r(G*C)}(y,_);if(x===Du)throw new Error("Invalid private or public key received");return h(x)}const g=h(e.Gu);function b(w){return m(w,g)}return{scalarMult:m,scalarMultBase:b,getSharedSecret:(w,E)=>m(w,E),getPublicKey:w=>b(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}};const a3=Qt,Ya=Tt,Du=BigInt(0),M1=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=L,t.edwardsToMontgomeryPriv=function(N){const H=P.hash(N.subarray(0,32));return P.adjustScalarBytes(H).subarray(0,32)};const e=Zn,n=wa,r=m_,i=ll,o=Qt,s=w_,a=Tt,l=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),d=BigInt(0),h=BigInt(1),m=BigInt(2),g=BigInt(3),b=BigInt(5),w=BigInt(8);function E(N){const H=BigInt(10),z=BigInt(20),Y=BigInt(40),ee=BigInt(80),J=l,oe=N*N%J*N%J,se=(0,o.pow2)(oe,m,J)*oe%J,ve=(0,o.pow2)(se,h,J)*N%J,de=(0,o.pow2)(ve,b,J)*ve%J,Oe=(0,o.pow2)(de,H,J)*de%J,je=(0,o.pow2)(Oe,z,J)*Oe%J,we=(0,o.pow2)(je,Y,J)*je%J,_e=(0,o.pow2)(we,ee,J)*we%J,Ee=(0,o.pow2)(_e,ee,J)*we%J,Ae=(0,o.pow2)(Ee,H,J)*de%J;return{pow_p_5_8:(0,o.pow2)(Ae,m,J)*N%J,b2:oe}}function y(N){return N[0]&=248,N[31]&=127,N[31]|=64,N}function _(N,H){const z=l,Y=(0,o.mod)(H*H*H,z),ee=E(N*(0,o.mod)(Y*Y*H,z)).pow_p_5_8;let J=(0,o.mod)(N*Y*ee,z);const oe=(0,o.mod)(H*J*J,z),se=J,ve=(0,o.mod)(J*u,z),de=oe===N,Oe=oe===(0,o.mod)(-N,z),je=oe===(0,o.mod)(-N*u,z);return de&&(J=se),(Oe||je)&&(J=ve),(0,o.isNegativeLE)(J,z)&&(J=(0,o.mod)(-J,z)),{isValid:de||Oe,value:J}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const x=(0,o.Field)(l,void 0,!0),P={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:x,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:w,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:y,uvRatio:_};function M(N,H,z){if(H.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([z?1:0,H.length]),H,N)}function L(N){const{y:H}=t.ed25519.ExtendedPoint.fromHex(N),z=BigInt(1);return x.toBytes(x.create((z+H)*x.inv(z-H)))}t.ed25519=(0,r.twistedEdwards)(P),t.ed25519ctx=(0,r.twistedEdwards)({...P,domain:M}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},P,{domain:M,prehash:e.sha512})),t.x25519=(0,s.montgomery)({P:l,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:N=>{const H=l,{pow_p_5_8:z,b2:Y}=E(N);return(0,o.mod)((0,o.pow2)(z,g,H)*Y,H)},adjustScalarBytes:y,randomBytes:n.randomBytes}),t.edwardsToMontgomery=L;const K=(x.ORDER+g)/w,j=x.pow(m,K),G=x.sqrt(x.neg(x.ONE)),V=(0,o.FpSqrtEven)(x,x.neg(BigInt(486664))),W=(0,i.createHasher)(t.ed25519.ExtendedPoint,N=>function(H){const{xMn:z,xMd:Y,yMn:ee,yMd:J}=function(_e){const Ee=(x.ORDER-b)/w,Ae=BigInt(486662);let Re=x.sqr(_e);Re=x.mul(Re,m);let $e=x.add(Re,x.ONE),Ke=x.neg(Ae),Q=x.sqr($e),re=x.mul(Q,$e),le=x.mul(Re,Ae);le=x.mul(le,Ke),le=x.add(le,Q),le=x.mul(le,Ke);let Ce=x.sqr(re);Q=x.sqr(Ce),Ce=x.mul(Ce,re),Ce=x.mul(Ce,le),Q=x.mul(Q,Ce);let Ie=x.pow(Q,Ee);Ie=x.mul(Ie,Ce);let Te=x.mul(Ie,G);Q=x.sqr(Ie),Q=x.mul(Q,re);let ze=x.eql(Q,le),xt=x.cmov(Te,Ie,ze),Gt=x.mul(Ke,Re),Mt=x.mul(Ie,_e);Mt=x.mul(Mt,j);let Sa=x.mul(Mt,G),uo=x.mul(le,Re);Q=x.sqr(Mt),Q=x.mul(Q,re);let fo=x.eql(Q,uo),Kl=x.cmov(Sa,Mt,fo);Q=x.sqr(xt),Q=x.mul(Q,re);let mi=x.eql(Q,le),Li=x.cmov(Gt,Ke,mi),Ir=x.cmov(Kl,xt,mi),Ss=x.isOdd(Ir);return Ir=x.cmov(Ir,x.neg(Ir),mi!==Ss),{xMn:Li,xMd:$e,yMn:Ir,yMd:h}}(H);let oe=x.mul(z,J);oe=x.mul(oe,V);let se=x.mul(Y,ee),ve=x.sub(z,Y),de=x.add(z,Y),Oe=x.mul(se,de),je=x.eql(Oe,x.ZERO);oe=x.cmov(oe,x.ZERO,je),se=x.cmov(se,x.ONE,je),ve=x.cmov(ve,x.ONE,je),de=x.cmov(de,x.ONE,je);const we=x.invertBatch([se,de]);return{x:x.mul(oe,we[0]),y:x.mul(ve,we[1])}}(N[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:x.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function q(N){if(!(N instanceof O))throw new Error("RistrettoPoint expected")}t.hashToCurve=W.hashToCurve,t.encodeToCurve=W.encodeToCurve;const k=u,C=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),S=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),T=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),R=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),B=N=>_(h,N),F=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),U=N=>t.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(N)&F);function D(N){const{d:H}=t.ed25519.CURVE,z=t.ed25519.CURVE.Fp.ORDER,Y=t.ed25519.CURVE.Fp.create,ee=Y(k*N*N),J=Y((ee+h)*T);let oe=BigInt(-1);const se=Y((oe-H*ee)*Y(ee+H));let{isValid:ve,value:de}=_(J,se),Oe=Y(de*N);(0,o.isNegativeLE)(Oe,z)||(Oe=Y(-Oe)),ve||(de=Oe),ve||(oe=ee);const je=Y(oe*(ee-h)*R-se),we=de*de,_e=Y((de+de)*se),Ee=Y(je*C),Ae=Y(h-we),Re=Y(h+we);return new t.ed25519.ExtendedPoint(Y(_e*Re),Y(Ae*Ee),Y(Ee*Re),Y(_e*Ae))}class O{constructor(H){this.ep=H}static fromAffine(H){return new O(t.ed25519.ExtendedPoint.fromAffine(H))}static hashToCurve(H){H=(0,a.ensureBytes)("ristrettoHash",H,64);const z=D(U(H.slice(0,32))),Y=D(U(H.slice(32,64)));return new O(z.add(Y))}static fromHex(H){H=(0,a.ensureBytes)("ristrettoHex",H,32);const{a:z,d:Y}=t.ed25519.CURVE,ee=t.ed25519.CURVE.Fp.ORDER,J=t.ed25519.CURVE.Fp.create,oe="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",se=U(H);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(se,32),H)||(0,o.isNegativeLE)(se,ee))throw new Error(oe);const ve=J(se*se),de=J(h+z*ve),Oe=J(h-z*ve),je=J(de*de),we=J(Oe*Oe),_e=J(z*Y*je-we),{isValid:Ee,value:Ae}=B(J(_e*we)),Re=J(Ae*Oe),$e=J(Ae*Re*_e);let Ke=J((se+se)*Re);(0,o.isNegativeLE)(Ke,ee)&&(Ke=J(-Ke));const Q=J(de*$e),re=J(Ke*Q);if(!Ee||(0,o.isNegativeLE)(re,ee)||Q===d)throw new Error(oe);return new O(new t.ed25519.ExtendedPoint(Ke,Q,h,re))}toRawBytes(){let{ex:H,ey:z,ez:Y,et:ee}=this.ep;const J=t.ed25519.CURVE.Fp.ORDER,oe=t.ed25519.CURVE.Fp.create,se=oe(oe(Y+z)*oe(Y-z)),ve=oe(H*z),de=oe(ve*ve),{value:Oe}=B(oe(se*de)),je=oe(Oe*se),we=oe(Oe*ve),_e=oe(je*we*ee);let Ee;if((0,o.isNegativeLE)(ee*_e,J)){let Re=oe(z*k),$e=oe(H*k);H=Re,z=$e,Ee=oe(je*S)}else Ee=we;(0,o.isNegativeLE)(H*_e,J)&&(z=oe(-z));let Ae=oe((Y-z)*Ee);return(0,o.isNegativeLE)(Ae,J)&&(Ae=oe(-Ae)),(0,a.numberToBytesLE)(Ae,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(H){q(H);const{ex:z,ey:Y}=this.ep,{ex:ee,ey:J}=H.ep,oe=t.ed25519.CURVE.Fp.create,se=oe(z*J)===oe(Y*ee),ve=oe(Y*J)===oe(z*ee);return se||ve}add(H){return q(H),new O(this.ep.add(H.ep))}subtract(H){return q(H),new O(this.ep.subtract(H.ep))}multiply(H){return new O(this.ep.multiply(H))}multiplyUnsafe(H){return new O(this.ep.multiplyUnsafe(H))}double(){return new O(this.ep.double())}negate(){return new O(this.ep.negate())}}t.RistrettoPoint=(O.BASE||(O.BASE=new O(t.ed25519.ExtendedPoint.BASE)),O.ZERO||(O.ZERO=new O(t.ed25519.ExtendedPoint.ZERO)),O),t.hashToRistretto255=(N,H)=>{const z=H.DST,Y=typeof z=="string"?(0,n.utf8ToBytes)(z):z,ee=(0,i.expand_message_xmd)(N,Y,64,e.sha512);return O.hashToCurve(ee)},t.hash_to_ristretto255=t.hashToRistretto255})(pO);var GO={},ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.sha224=ra.sha256=ra.SHA256=void 0;const O1=na,Gi=wa,Dj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Za=new Uint32Array(64);class fS extends O1.HashMD{constructor(){super(64,32,8,!1),this.A=0|Qa[0],this.B=0|Qa[1],this.C=0|Qa[2],this.D=0|Qa[3],this.E=0|Qa[4],this.F=0|Qa[5],this.G=0|Qa[6],this.H=0|Qa[7]}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|o,this.F=0|s,this.G=0|a,this.H=0|l}process(e,n){for(let h=0;h<16;h++,n+=4)Za[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=Za[h-15],g=Za[h-2],b=(0,Gi.rotr)(m,7)^(0,Gi.rotr)(m,18)^m>>>3,w=(0,Gi.rotr)(g,17)^(0,Gi.rotr)(g,19)^g>>>10;Za[h]=w+Za[h-7]+b+Za[h-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:d}=this;for(let h=0;h<64;h++){const m=d+((0,Gi.rotr)(a,6)^(0,Gi.rotr)(a,11)^(0,Gi.rotr)(a,25))+(0,O1.Chi)(a,l,u)+Dj[h]+Za[h]|0,g=((0,Gi.rotr)(r,2)^(0,Gi.rotr)(r,13)^(0,Gi.rotr)(r,22))+(0,O1.Maj)(r,i,o)|0;d=u,u=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+g|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,u,d)}roundClean(){Za.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}ra.SHA256=fS;class Fj extends fS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ra.sha256=(0,Gi.wrapConstructor)(()=>new fS),ra.sha224=(0,Gi.wrapConstructor)(()=>new Fj);var fg={},hS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Si,n=wa;class r extends n.Hash{constructor(o,s){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);const a=(0,n.toBytes)(s);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,u=new Uint8Array(l);u.set(a.length>l?o.create().update(a).digest():a);for(let d=0;d<u.length;d++)u[d]^=54;this.iHash.update(u),this.oHash=o.create();for(let d=0;d<u.length;d++)u[d]^=106;this.oHash.update(u),u.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:a,finished:l,destroyed:u,blockLen:d,outputLen:h}=this;return o.finished=l,o.destroyed=u,o.blockLen=d,o.outputLen=h,o.oHash=s._cloneInto(o.oHash),o.iHash=a._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,o,s)=>new r(i,o).update(s).digest(),t.hmac.create=(i,o)=>new r(i,o)})(hS);var pS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=g,t.weierstrass=function(w){const E=function(H){const z=(0,e.validateBasic)(H);return r.validateObject(z,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...z})}(w),{Fp:y,n:_}=E,x=y.BYTES+1,P=2*y.BYTES+1;function M(H){return n.mod(H,_)}function L(H){return n.invert(H,_)}const{ProjectivePoint:K,normPrivateKeyToScalar:j,weierstrassEquation:G,isWithinCurveOrder:V}=g({...E,toBytes(H,z,Y){const ee=z.toAffine(),J=y.toBytes(ee.x),oe=r.concatBytes;return(0,i.abool)("isCompressed",Y),Y?oe(Uint8Array.from([z.hasEvenY()?2:3]),J):oe(Uint8Array.from([4]),J,y.toBytes(ee.y))},fromBytes(H){const z=H.length,Y=H[0],ee=H.subarray(1);if(z!==x||Y!==2&&Y!==3){if(z===P&&Y===4)return{x:y.fromBytes(ee.subarray(0,y.BYTES)),y:y.fromBytes(ee.subarray(y.BYTES,2*y.BYTES))};throw new Error(`Point of length ${z} was invalid. Expected ${x} compressed bytes or ${P} uncompressed bytes`)}{const J=r.bytesToNumberBE(ee);if(!r.inRange(J,u,y.ORDER))throw new Error("Point is not on curve");const oe=G(J);let se;try{se=y.sqrt(oe)}catch(ve){const de=ve instanceof Error?": "+ve.message:"";throw new Error("Point is not on curve"+de)}return(1&Y)==1!=((se&u)===u)&&(se=y.neg(se)),{x:J,y:se}}}}),W=H=>r.bytesToHex(r.numberToBytesBE(H,E.nByteLength));function q(H){return H>_>>u}const k=(H,z,Y)=>r.bytesToNumberBE(H.slice(z,Y));class C{constructor(z,Y,ee){this.r=z,this.s=Y,this.recovery=ee,this.assertValidity()}static fromCompact(z){const Y=E.nByteLength;return z=(0,i.ensureBytes)("compactSignature",z,2*Y),new C(k(z,0,Y),k(z,Y,2*Y))}static fromDER(z){const{r:Y,s:ee}=t.DER.toSig((0,i.ensureBytes)("DER",z));return new C(Y,ee)}assertValidity(){r.aInRange("r",this.r,u,_),r.aInRange("s",this.s,u,_)}addRecoveryBit(z){return new C(this.r,this.s,z)}recoverPublicKey(z){const{r:Y,s:ee,recovery:J}=this,oe=B((0,i.ensureBytes)("msgHash",z));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const se=J===2||J===3?Y+E.n:Y;if(se>=y.ORDER)throw new Error("recovery id 2 or 3 invalid");const ve=(1&J)==0?"02":"03",de=K.fromHex(ve+W(se)),Oe=L(se),je=M(-oe*Oe),we=M(ee*Oe),_e=K.BASE.multiplyAndAddUnsafe(de,je,we);if(!_e)throw new Error("point at infinify");return _e.assertValidity(),_e}hasHighS(){return q(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,M(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return W(this.r)+W(this.s)}}const S={isValidPrivateKey(H){try{return j(H),!0}catch{return!1}},normPrivateKeyToScalar:j,randomPrivateKey:()=>{const H=n.getMinHashLength(E.n);return n.mapHashToField(E.randomBytes(H),E.n)},precompute:(H=8,z=K.BASE)=>(z._setWindowSize(H),z.multiply(BigInt(3)),z)};function T(H){const z=r.isBytes(H),Y=typeof H=="string",ee=(z||Y)&&H.length;return z?ee===x||ee===P:Y?ee===2*x||ee===2*P:H instanceof K}const R=E.bits2int||function(H){const z=r.bytesToNumberBE(H),Y=8*H.length-E.nBitLength;return Y>0?z>>BigInt(Y):z},B=E.bits2int_modN||function(H){return M(R(H))},F=r.bitMask(E.nBitLength);function U(H){return r.aInRange(`num < 2^${E.nBitLength}`,H,l,F),r.numberToBytesBE(H,E.nByteLength)}function D(H,z,Y=O){if(["recovered","canonical"].some(Ee=>Ee in Y))throw new Error("sign() legacy options not supported");const{hash:ee,randomBytes:J}=E;let{lowS:oe,prehash:se,extraEntropy:ve}=Y;oe==null&&(oe=!0),H=(0,i.ensureBytes)("msgHash",H),o(Y),se&&(H=(0,i.ensureBytes)("prehashed msgHash",ee(H)));const de=B(H),Oe=j(z),je=[U(Oe),U(de)];if(ve!=null&&ve!==!1){const Ee=ve===!0?J(y.BYTES):ve;je.push((0,i.ensureBytes)("extraEntropy",Ee))}const we=r.concatBytes(...je),_e=de;return{seed:we,k2sig:function(Ee){const Ae=R(Ee);if(!V(Ae))return;const Re=L(Ae),$e=K.BASE.multiply(Ae).toAffine(),Ke=M($e.x);if(Ke===l)return;const Q=M(Re*M(_e+Ke*Oe));if(Q===l)return;let re=($e.x===Ke?0:2)|Number($e.y&u),le=Q;return oe&&q(Q)&&(le=function(Ce){return q(Ce)?M(-Ce):Ce}(Q),re^=1),new C(Ke,le,re)}}}const O={lowS:E.lowS,prehash:!1},N={lowS:E.lowS,prehash:!1};return K.BASE._setWindowSize(8),{CURVE:E,getPublicKey:function(H,z=!0){return K.fromPrivateKey(H).toRawBytes(z)},getSharedSecret:function(H,z,Y=!0){if(T(H))throw new Error("first arg must be private key");if(!T(z))throw new Error("second arg must be public key");return K.fromHex(z).multiply(j(H)).toRawBytes(Y)},sign:function(H,z,Y=O){const{seed:ee,k2sig:J}=D(H,z,Y),oe=E;return r.createHmacDrbg(oe.hash.outputLen,oe.nByteLength,oe.hmac)(ee,J)},verify:function(H,z,Y,ee=N){var $e;const J=H;if(z=(0,i.ensureBytes)("msgHash",z),Y=(0,i.ensureBytes)("publicKey",Y),"strict"in ee)throw new Error("options.strict was renamed to lowS");o(ee);const{lowS:oe,prehash:se}=ee;let ve,de;try{if(typeof J=="string"||r.isBytes(J))try{ve=C.fromDER(J)}catch(Ke){if(!(Ke instanceof t.DER.Err))throw Ke;ve=C.fromCompact(J)}else{if(typeof J!="object"||typeof J.r!="bigint"||typeof J.s!="bigint")throw new Error("PARSE");{const{r:Ke,s:Q}=J;ve=new C(Ke,Q)}}de=K.fromHex(Y)}catch(Ke){if(Ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(oe&&ve.hasHighS())return!1;se&&(z=E.hash(z));const{r:Oe,s:je}=ve,we=B(z),_e=L(je),Ee=M(we*_e),Ae=M(Oe*_e),Re=($e=K.BASE.multiplyAndAddUnsafe(de,Ee,Ae))==null?void 0:$e.toAffine();return Re?M(Re.x)===Oe:!1},ProjectivePoint:K,Signature:C,utils:S}},t.SWUFpSqrtRatio=b,t.mapToCurveSimpleSWU=function(w,E){if(n.validateField(w),!w.isValid(E.A)||!w.isValid(E.B)||!w.isValid(E.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const y=b(w,E.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return _=>{let x,P,M,L,K,j,G,V;x=w.sqr(_),x=w.mul(x,E.Z),P=w.sqr(x),P=w.add(P,x),M=w.add(P,w.ONE),M=w.mul(M,E.B),L=w.cmov(E.Z,w.neg(P),!w.eql(P,w.ZERO)),L=w.mul(L,E.A),P=w.sqr(M),j=w.sqr(L),K=w.mul(j,E.A),P=w.add(P,K),P=w.mul(P,M),j=w.mul(j,L),K=w.mul(j,E.B),P=w.add(P,K),G=w.mul(x,M);const{isValid:W,value:q}=y(P,j);V=w.mul(x,_),V=w.mul(V,q),G=w.cmov(G,M,W),V=w.cmov(V,q,W);const k=w.isOdd(_)===w.isOdd(V);return V=w.cmov(w.neg(V),V,k),G=w.div(G,L),{x:G,y:V}}};const e=rd,n=Qt,r=Tt,i=Tt;function o(w){w.lowS!==void 0&&(0,i.abool)("lowS",w.lowS),w.prehash!==void 0&&(0,i.abool)("prehash",w.prehash)}const{bytesToNumberBE:s,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(w=""){super(w)}},_tlv:{encode:(w,E)=>{const{Err:y}=t.DER;if(w<0||w>256)throw new y("tlv.encode: wrong tag");if(1&E.length)throw new y("tlv.encode: unpadded data");const _=E.length/2,x=r.numberToHexUnpadded(_);if(x.length/2&128)throw new y("tlv.encode: long form length too big");const P=_>127?r.numberToHexUnpadded(x.length/2|128):"";return`${r.numberToHexUnpadded(w)}${P}${x}${E}`},decode(w,E){const{Err:y}=t.DER;let _=0;if(w<0||w>256)throw new y("tlv.encode: wrong tag");if(E.length<2||E[_++]!==w)throw new y("tlv.decode: wrong tlv");const x=E[_++];let P=0;if(128&x){const L=127&x;if(!L)throw new y("tlv.decode(long): indefinite length not supported");if(L>4)throw new y("tlv.decode(long): byte length is too big");const K=E.subarray(_,_+L);if(K.length!==L)throw new y("tlv.decode: length bytes not complete");if(K[0]===0)throw new y("tlv.decode(long): zero leftmost byte");for(const j of K)P=P<<8|j;if(_+=L,P<128)throw new y("tlv.decode(long): not minimal encoding")}else P=x;const M=E.subarray(_,_+P);if(M.length!==P)throw new y("tlv.decode: wrong value length");return{v:M,l:E.subarray(_+P)}}},_int:{encode(w){const{Err:E}=t.DER;if(w<l)throw new E("integer: negative integers are not allowed");let y=r.numberToHexUnpadded(w);if(8&Number.parseInt(y[0],16)&&(y="00"+y),1&y.length)throw new E("unexpected assertion");return y},decode(w){const{Err:E}=t.DER;if(128&w[0])throw new E("Invalid signature integer: negative");if(w[0]===0&&!(128&w[1]))throw new E("Invalid signature integer: unnecessary leading zero");return s(w)}},toSig(w){const{Err:E,_int:y,_tlv:_}=t.DER,x=typeof w=="string"?a(w):w;r.abytes(x);const{v:P,l:M}=_.decode(48,x);if(M.length)throw new E("Invalid signature: left bytes after parsing");const{v:L,l:K}=_.decode(2,P),{v:j,l:G}=_.decode(2,K);if(G.length)throw new E("Invalid signature: left bytes after parsing");return{r:y.decode(L),s:y.decode(j)}},hexFromSig(w){const{_tlv:E,_int:y}=t.DER,_=`${E.encode(2,y.encode(w.r))}${E.encode(2,y.encode(w.s))}`;return E.encode(48,_)}};const l=BigInt(0),u=BigInt(1),d=BigInt(2),h=BigInt(3),m=BigInt(4);function g(w){const E=function(k){const C=(0,e.validateBasic)(k);r.validateObject(C,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:S,Fp:T,a:R}=C;if(S){if(!T.eql(R,T.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof S!="object"||typeof S.beta!="bigint"||typeof S.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...C})}(w),{Fp:y}=E,_=n.Field(E.n,E.nBitLength),x=E.toBytes||((k,C,S)=>{const T=C.toAffine();return r.concatBytes(Uint8Array.from([4]),y.toBytes(T.x),y.toBytes(T.y))}),P=E.fromBytes||(k=>{const C=k.subarray(1);return{x:y.fromBytes(C.subarray(0,y.BYTES)),y:y.fromBytes(C.subarray(y.BYTES,2*y.BYTES))}});function M(k){const{a:C,b:S}=E,T=y.sqr(k),R=y.mul(T,k);return y.add(y.add(R,y.mul(k,C)),S)}if(!y.eql(y.sqr(E.Gy),M(E.Gx)))throw new Error("bad generator point: equation left != right");function L(k){const{allowedPrivateKeyLengths:C,nByteLength:S,wrapPrivateKey:T,n:R}=E;if(C&&typeof k!="bigint"){if(r.isBytes(k)&&(k=r.bytesToHex(k)),typeof k!="string"||!C.includes(k.length))throw new Error("Invalid key");k=k.padStart(2*S,"0")}let B;try{B=typeof k=="bigint"?k:r.bytesToNumberBE((0,i.ensureBytes)("private key",k,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof k}`)}return T&&(B=n.mod(B,R)),r.aInRange("private key",B,u,R),B}function K(k){if(!(k instanceof V))throw new Error("ProjectivePoint expected")}const j=(0,i.memoized)((k,C)=>{const{px:S,py:T,pz:R}=k;if(y.eql(R,y.ONE))return{x:S,y:T};const B=k.is0();C==null&&(C=B?y.ONE:y.inv(R));const F=y.mul(S,C),U=y.mul(T,C),D=y.mul(R,C);if(B)return{x:y.ZERO,y:y.ZERO};if(!y.eql(D,y.ONE))throw new Error("invZ was invalid");return{x:F,y:U}}),G=(0,i.memoized)(k=>{if(k.is0()){if(E.allowInfinityPoint&&!y.is0(k.py))return;throw new Error("bad point: ZERO")}const{x:C,y:S}=k.toAffine();if(!y.isValid(C)||!y.isValid(S))throw new Error("bad point: x or y not FE");const T=y.sqr(S),R=M(C);if(!y.eql(T,R))throw new Error("bad point: equation left != right");if(!k.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class V{constructor(C,S,T){if(this.px=C,this.py=S,this.pz=T,C==null||!y.isValid(C))throw new Error("x required");if(S==null||!y.isValid(S))throw new Error("y required");if(T==null||!y.isValid(T))throw new Error("z required");Object.freeze(this)}static fromAffine(C){const{x:S,y:T}=C||{};if(!C||!y.isValid(S)||!y.isValid(T))throw new Error("invalid affine point");if(C instanceof V)throw new Error("projective point not allowed");const R=B=>y.eql(B,y.ZERO);return R(S)&&R(T)?V.ZERO:new V(S,T,y.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const S=y.invertBatch(C.map(T=>T.pz));return C.map((T,R)=>T.toAffine(S[R])).map(V.fromAffine)}static fromHex(C){const S=V.fromAffine(P((0,i.ensureBytes)("pointHex",C)));return S.assertValidity(),S}static fromPrivateKey(C){return V.BASE.multiply(L(C))}static msm(C,S){return(0,e.pippenger)(V,_,C,S)}_setWindowSize(C){q.setWindowSize(this,C)}assertValidity(){G(this)}hasEvenY(){const{y:C}=this.toAffine();if(y.isOdd)return!y.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){K(C);const{px:S,py:T,pz:R}=this,{px:B,py:F,pz:U}=C,D=y.eql(y.mul(S,U),y.mul(B,R)),O=y.eql(y.mul(T,U),y.mul(F,R));return D&&O}negate(){return new V(this.px,y.neg(this.py),this.pz)}double(){const{a:C,b:S}=E,T=y.mul(S,h),{px:R,py:B,pz:F}=this;let U=y.ZERO,D=y.ZERO,O=y.ZERO,N=y.mul(R,R),H=y.mul(B,B),z=y.mul(F,F),Y=y.mul(R,B);return Y=y.add(Y,Y),O=y.mul(R,F),O=y.add(O,O),U=y.mul(C,O),D=y.mul(T,z),D=y.add(U,D),U=y.sub(H,D),D=y.add(H,D),D=y.mul(U,D),U=y.mul(Y,U),O=y.mul(T,O),z=y.mul(C,z),Y=y.sub(N,z),Y=y.mul(C,Y),Y=y.add(Y,O),O=y.add(N,N),N=y.add(O,N),N=y.add(N,z),N=y.mul(N,Y),D=y.add(D,N),z=y.mul(B,F),z=y.add(z,z),N=y.mul(z,Y),U=y.sub(U,N),O=y.mul(z,H),O=y.add(O,O),O=y.add(O,O),new V(U,D,O)}add(C){K(C);const{px:S,py:T,pz:R}=this,{px:B,py:F,pz:U}=C;let D=y.ZERO,O=y.ZERO,N=y.ZERO;const H=E.a,z=y.mul(E.b,h);let Y=y.mul(S,B),ee=y.mul(T,F),J=y.mul(R,U),oe=y.add(S,T),se=y.add(B,F);oe=y.mul(oe,se),se=y.add(Y,ee),oe=y.sub(oe,se),se=y.add(S,R);let ve=y.add(B,U);return se=y.mul(se,ve),ve=y.add(Y,J),se=y.sub(se,ve),ve=y.add(T,R),D=y.add(F,U),ve=y.mul(ve,D),D=y.add(ee,J),ve=y.sub(ve,D),N=y.mul(H,se),D=y.mul(z,J),N=y.add(D,N),D=y.sub(ee,N),N=y.add(ee,N),O=y.mul(D,N),ee=y.add(Y,Y),ee=y.add(ee,Y),J=y.mul(H,J),se=y.mul(z,se),ee=y.add(ee,J),J=y.sub(Y,J),J=y.mul(H,J),se=y.add(se,J),Y=y.mul(ee,se),O=y.add(O,Y),Y=y.mul(ve,se),D=y.mul(oe,D),D=y.sub(D,Y),Y=y.mul(oe,ee),N=y.mul(ve,N),N=y.add(N,Y),new V(D,O,N)}subtract(C){return this.add(C.negate())}is0(){return this.equals(V.ZERO)}wNAF(C){return q.wNAFCached(this,C,V.normalizeZ)}multiplyUnsafe(C){r.aInRange("scalar",C,l,E.n);const S=V.ZERO;if(C===l)return S;if(C===u)return this;const{endo:T}=E;if(!T)return q.unsafeLadder(this,C);let{k1neg:R,k1:B,k2neg:F,k2:U}=T.splitScalar(C),D=S,O=S,N=this;for(;B>l||U>l;)B&u&&(D=D.add(N)),U&u&&(O=O.add(N)),N=N.double(),B>>=u,U>>=u;return R&&(D=D.negate()),F&&(O=O.negate()),O=new V(y.mul(O.px,T.beta),O.py,O.pz),D.add(O)}multiply(C){const{endo:S,n:T}=E;let R,B;if(r.aInRange("scalar",C,u,T),S){const{k1neg:F,k1:U,k2neg:D,k2:O}=S.splitScalar(C);let{p:N,f:H}=this.wNAF(U),{p:z,f:Y}=this.wNAF(O);N=q.constTimeNegate(F,N),z=q.constTimeNegate(D,z),z=new V(y.mul(z.px,S.beta),z.py,z.pz),R=N.add(z),B=H.add(Y)}else{const{p:F,f:U}=this.wNAF(C);R=F,B=U}return V.normalizeZ([R,B])[0]}multiplyAndAddUnsafe(C,S,T){const R=V.BASE,B=(U,D)=>D!==l&&D!==u&&U.equals(R)?U.multiply(D):U.multiplyUnsafe(D),F=B(this,S).add(B(C,T));return F.is0()?void 0:F}toAffine(C){return j(this,C)}isTorsionFree(){const{h:C,isTorsionFree:S}=E;if(C===u)return!0;if(S)return S(V,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:S}=E;return C===u?this:S?S(V,this):this.multiplyUnsafe(E.h)}toRawBytes(C=!0){return(0,i.abool)("isCompressed",C),this.assertValidity(),x(V,this,C)}toHex(C=!0){return(0,i.abool)("isCompressed",C),r.bytesToHex(this.toRawBytes(C))}}V.BASE=new V(E.Gx,E.Gy,y.ONE),V.ZERO=new V(y.ZERO,y.ONE,y.ZERO);const W=E.nBitLength,q=(0,e.wNAF)(V,E.endo?Math.ceil(W/2):W);return{CURVE:E,ProjectivePoint:V,normPrivateKeyToScalar:L,weierstrassEquation:M,isWithinCurveOrder:function(k){return r.inRange(k,u,E.n)}}}function b(w,E){const y=w.ORDER;let _=l;for(let k=y-u;k%d===l;k/=d)_+=u;const x=_,P=d<<x-u-u,M=P*d,L=(y-u)/M,K=(L-u)/d,j=M-u,G=P,V=w.pow(E,L),W=w.pow(E,(L+u)/d);let q=(k,C)=>{let S=V,T=w.pow(C,j),R=w.sqr(T);R=w.mul(R,C);let B=w.mul(k,R);B=w.pow(B,K),B=w.mul(B,T),T=w.mul(B,C),R=w.mul(B,k);let F=w.mul(R,T);B=w.pow(F,G);let U=w.eql(B,w.ONE);T=w.mul(R,W),B=w.mul(F,S),R=w.cmov(T,R,U),F=w.cmov(B,F,U);for(let D=x;D>u;D--){let O=D-d;O=d<<O-u;let N=w.pow(F,O);const H=w.eql(N,w.ONE);T=w.mul(R,S),S=w.mul(S,S),N=w.mul(F,S),R=w.cmov(T,R,H),F=w.cmov(N,F,H)}return{isValid:U,value:R}};if(w.ORDER%m===h){const k=(w.ORDER-h)/m,C=w.sqrt(w.neg(E));q=(S,T)=>{let R=w.sqr(T);const B=w.mul(S,T);R=w.mul(R,B);let F=w.pow(R,k);F=w.mul(F,B);const U=w.mul(F,C),D=w.mul(w.sqr(F),T),O=w.eql(D,S);return{isValid:O,value:w.cmov(U,F,O)}}}return q}})(pS),Object.defineProperty(fg,"__esModule",{value:!0}),fg.getHash=c3,fg.createCurve=function(t,e){const n=r=>(0,Uj.weierstrass)({...t,...c3(r)});return Object.freeze({...n(e),create:n})};const jj=hS,l3=wa,Uj=pS;function c3(t){return{hash:t,hmac:(e,...n)=>(0,jj.hmac)(t,e,(0,l3.concatBytes)(...n)),randomBytes:l3.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=ra,n=wa,r=fg,i=ll,o=Qt,s=Tt,a=pS,l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d=BigInt(1),h=BigInt(2),m=(T,R)=>(T+R/h)/R;function g(T){const R=l,B=BigInt(3),F=BigInt(6),U=BigInt(11),D=BigInt(22),O=BigInt(23),N=BigInt(44),H=BigInt(88),z=T*T*T%R,Y=z*z*T%R,ee=(0,o.pow2)(Y,B,R)*Y%R,J=(0,o.pow2)(ee,B,R)*Y%R,oe=(0,o.pow2)(J,h,R)*z%R,se=(0,o.pow2)(oe,U,R)*oe%R,ve=(0,o.pow2)(se,D,R)*se%R,de=(0,o.pow2)(ve,N,R)*ve%R,Oe=(0,o.pow2)(de,H,R)*de%R,je=(0,o.pow2)(Oe,N,R)*ve%R,we=(0,o.pow2)(je,B,R)*Y%R,_e=(0,o.pow2)(we,O,R)*se%R,Ee=(0,o.pow2)(_e,F,R)*z%R,Ae=(0,o.pow2)(Ee,h,R);if(!b.eql(b.sqr(Ae),T))throw new Error("Cannot find square root");return Ae}const b=(0,o.Field)(l,void 0,void 0,{sqrt:g});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:b,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:T=>{const R=u,B=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),F=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),U=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),D=B,O=BigInt("0x100000000000000000000000000000000"),N=m(D*T,R),H=m(-F*T,R);let z=(0,o.mod)(T-N*B-H*U,R),Y=(0,o.mod)(-N*F-H*D,R);const ee=z>O,J=Y>O;if(ee&&(z=R-z),J&&(Y=R-Y),z>O||Y>O)throw new Error("splitScalar: Endomorphism failed, k="+T);return{k1neg:ee,k1:z,k2neg:J,k2:Y}}}},e.sha256);const w=BigInt(0),E={};function y(T,...R){let B=E[T];if(B===void 0){const F=(0,e.sha256)(Uint8Array.from(T,U=>U.charCodeAt(0)));B=(0,s.concatBytes)(F,F),E[T]=B}return(0,e.sha256)((0,s.concatBytes)(B,...R))}const _=T=>T.toRawBytes(!0).slice(1),x=T=>(0,s.numberToBytesBE)(T,32),P=T=>(0,o.mod)(T,l),M=T=>(0,o.mod)(T,u),L=t.secp256k1.ProjectivePoint,K=(T,R,B)=>L.BASE.multiplyAndAddUnsafe(T,R,B);function j(T){let R=t.secp256k1.utils.normPrivateKeyToScalar(T),B=L.fromPrivateKey(R);return{scalar:B.hasEvenY()?R:M(-R),bytes:_(B)}}function G(T){(0,s.aInRange)("x",T,d,l);const R=P(T*T);let B=g(P(R*T+BigInt(7)));B%h!==w&&(B=P(-B));const F=new L(T,B,d);return F.assertValidity(),F}const V=s.bytesToNumberBE;function W(...T){return M(V(y("BIP0340/challenge",...T)))}function q(T,R,B){const F=(0,s.ensureBytes)("signature",T,64),U=(0,s.ensureBytes)("message",R),D=(0,s.ensureBytes)("publicKey",B,32);try{const O=G(V(D)),N=V(F.subarray(0,32));if(!(0,s.inRange)(N,d,l))return!1;const H=V(F.subarray(32,64));if(!(0,s.inRange)(H,d,u))return!1;const z=W(x(N),_(O),U),Y=K(O,H,M(-z));return!(!Y||!Y.hasEvenY()||Y.toAffine().x!==N)}catch{return!1}}t.schnorr={getPublicKey:function(T){return j(T).bytes},sign:function(T,R,B=(0,n.randomBytes)(32)){const F=(0,s.ensureBytes)("message",T),{bytes:U,scalar:D}=j(R),O=(0,s.ensureBytes)("auxRand",B,32),N=x(D^V(y("BIP0340/aux",O))),H=y("BIP0340/nonce",N,U,F),z=M(V(H));if(z===w)throw new Error("sign failed: k is zero");const{bytes:Y,scalar:ee}=j(z),J=W(Y,U,F),oe=new Uint8Array(64);if(oe.set(Y,0),oe.set(x(M(ee+J*D)),32),!q(oe,F,U))throw new Error("sign: Invalid signature produced");return oe},verify:q,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:G,pointToBytes:_,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:y,mod:o.mod}};const k=(0,i.isogenyMap)(b,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(T=>T.map(R=>BigInt(R)))),C=(0,a.mapToCurveSimpleSWU)(b,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:b.create(BigInt("-11"))}),S=(0,i.createHasher)(t.secp256k1.ProjectivePoint,T=>{const{x:R,y:B}=C(b.create(T[0]));return k(R,B)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:b.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=S.hashToCurve,t.encodeToCurve=S.encodeToCurve})(GO);var b_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Oi;t.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(b_),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=cS,n=pO,r=GO,i=Qh,o=Qn,s=b_;function a(d,h,m,g){if(d==="secp256k1")return h(r.secp256k1);if(d==="x25519")return m(n.x25519);if(d==="ed25519")return g(n.ed25519);throw new Error("Not implemented")}t.getValidSecret=function(){var d;do d=(0,e.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(d));return d},t.isValidPrivateKey=function(d){return a((0,i.ellipticCurve)(),function(h){return h.utils.isValidPrivateKey(d)},function(){return!0},function(){return!0})},t.getPublicKey=function(d){return a((0,i.ellipticCurve)(),function(h){return h.getPublicKey(d)},function(h){return h.getPublicKey(d)},function(h){return h.getPublicKey(d)})},t.getSharedPoint=function(d,h,m){return a((0,i.ellipticCurve)(),function(g){return g.getSharedSecret(d,h,m)},function(g){return g.getSharedSecret(d,h)},function(g){return u(g,d,h)})},t.convertPublicKeyFormat=function(d,h){return a((0,i.ellipticCurve)(),function(m){return m.getSharedSecret(BigInt(1),d,h)},function(){return d},function(){return d})},t.hexToPublicKey=function(d){var h=(0,s.decodeHex)(d);return a((0,i.ellipticCurve)(),function(){return l(h)},function(){return h},function(){return h})};var l=function(d){if(d.length===o.ETH_PUBLIC_KEY_SIZE){var h=new Uint8Array(1+d.length);return h.set([4]),h.set(d,1),h}return d},u=function(d,h,m){var g=d.utils.getExtendedPublicKey(h).scalar;return d.ExtendedPoint.fromHex(m).multiply(g).toRawBytes()}}(hO);var WO={},id={};Object.defineProperty(id,"__esModule",{value:!0}),id.hkdf=void 0,id.extract=QO,id.expand=ZO;const E_=Si,u3=wa,YO=hS;function QO(t,e,n){return(0,E_.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,YO.hmac)(t,(0,u3.toBytes)(n),(0,u3.toBytes)(e))}const N1=new Uint8Array([0]),d3=new Uint8Array;function ZO(t,e,n,r=32){if((0,E_.hash)(t),(0,E_.number)(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=d3);const o=new Uint8Array(i*t.outputLen),s=YO.hmac.create(t,e),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<i;u++)N1[0]=u+1,a.update(u===0?d3:l).update(n).update(N1).digestInto(l),o.set(l,t.outputLen*u),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),N1.fill(0),o.slice(0,r)}id.hkdf=(t,e,n,r,i)=>ZO(t,QO(t,e,n),r,i),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Oi,n=id,r=ra;t.deriveKey=function(i,o,s){return(0,n.hkdf)(r.sha256,i,o,s,32)},t.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}}(WO);var f3={},vd={},_n={},Ec={};Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.polyval=Ec.ghash=void 0,Ec._toGHASHKey=JO;const _c=_r,Br=Oi,qs=16,mS=new Uint8Array(16),Xo=(0,Br.u32)(mS),Zi=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function JO(t){t.reverse();const e=1&t[15];let n=0;for(let r=0;r<t.length;r++){const i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}let XO=class{constructor(e,n){this.blockLen=qs,this.outputLen=qs,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,Br.toBytes)(e),(0,_c.bytes)(e,16);const r=(0,Br.createView)(e);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const l=[];for(let y=0;y<128;y++)l.push({s0:Zi(i),s1:Zi(o),s2:Zi(s),s3:Zi(a)}),{s0:i,s1:o,s2:s,s3:a}={s3:(h=s)<<31|(m=a)>>>1,s2:(d=o)<<31|h>>>1,s1:(u=i)<<31|d>>>1,s0:u>>>1^225<<24&-(1&m)};var u,d,h,m;const g=(y=>y>65536?8:y>1024?4:2)(n||1024);if(![1,2,4,8].includes(g))throw new Error(`ghash: wrong window size=${g}, should be 2, 4 or 8`);this.W=g;const b=128/g,w=this.windowSize=2**g,E=[];for(let y=0;y<b;y++)for(let _=0;_<w;_++){let x=0,P=0,M=0,L=0;for(let K=0;K<g;K++){if(!(_>>>g-K-1&1))continue;const{s0:j,s1:G,s2:V,s3:W}=l[g*y+K];x^=j,P^=G,M^=V,L^=W}E.push({s0:x,s1:P,s2:M,s3:L})}this.t=E}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:s,windowSize:a}=this;let l=0,u=0,d=0,h=0;const m=(1<<o)-1;let g=0;for(const b of[e,n,r,i])for(let w=0;w<4;w++){const E=b>>>8*w&255;for(let y=8/o-1;y>=0;y--){const _=E>>>o*y&m,{s0:x,s1:P,s2:M,s3:L}=s[g*a+_];l^=x,u^=P,d^=M,h^=L,g+=1}}this.s0=l,this.s1=u,this.s2=d,this.s3=h}update(e){e=(0,Br.toBytes)(e),(0,_c.exists)(this);const n=(0,Br.u32)(e),r=Math.floor(e.length/qs),i=e.length%qs;for(let o=0;o<r;o++)this._updateBlock(n[4*o+0],n[4*o+1],n[4*o+2],n[4*o+3]);return i&&(mS.set(e.subarray(r*qs)),this._updateBlock(Xo[0],Xo[1],Xo[2],Xo[3]),(0,Br.clean)(Xo)),this}destroy(){const{t:e}=this;for(const n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,_c.exists)(this),(0,_c.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,Br.u32)(e);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,e}digest(){const e=new Uint8Array(qs);return this.digestInto(e),this.destroy(),e}};class $j extends XO{constructor(e,n){e=(0,Br.toBytes)(e);const r=JO((0,Br.copyBytes)(e));super(r,n),(0,Br.clean)(r)}update(e){e=(0,Br.toBytes)(e),(0,_c.exists)(this);const n=(0,Br.u32)(e),r=e.length%qs,i=Math.floor(e.length/qs);for(let o=0;o<i;o++)this._updateBlock(Zi(n[4*o+3]),Zi(n[4*o+2]),Zi(n[4*o+1]),Zi(n[4*o+0]));return r&&(mS.set(e.subarray(i*qs)),this._updateBlock(Zi(Xo[3]),Zi(Xo[2]),Zi(Xo[1]),Zi(Xo[0])),(0,Br.clean)(Xo)),this}digestInto(e){(0,_c.exists)(this),(0,_c.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,Br.u32)(e);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,e.reverse()}}function h3(t){const e=(r,i)=>t(i,r.length).update((0,Br.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}Ec.ghash=h3((t,e)=>new XO(t,e)),Ec.polyval=h3((t,e)=>new $j(t,e)),Object.defineProperty(_n,"__esModule",{value:!0}),_n.unsafe=_n.aeskwp=_n.aeskw=_n.siv=_n.gcm=_n.cfb=_n.cbc=_n.ecb=_n.ctr=void 0,_n.expandKeyLE=To,_n.expandKeyDecLE=Jh;const Ft=_r,__=Ec,Pe=Oi,hi=16,L0=new Uint8Array(hi),Hj=283;function gS(t){return t<<1^Hj&-(t>>7)}function od(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=gS(t);return n}const x_=(()=>{const t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=gS(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,Pe.clean)(t),e})(),Vj=x_.map((t,e)=>x_.indexOf(e)),zj=t=>t<<24|t>>>8,L1=t=>t<<8|t>>>24,Jg=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function e4(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((u,d)=>e(t[d])),r=n.map(L1),i=r.map(L1),o=i.map(L1),s=new Uint32Array(65536),a=new Uint32Array(65536),l=new Uint16Array(65536);for(let u=0;u<256;u++)for(let d=0;d<256;d++){const h=256*u+d;s[h]=n[u]^r[d],a[h]=i[u]^o[d],l[h]=t[u]<<8|t[d]}return{sbox:t,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const yS=e4(x_,t=>od(t,3)<<24|t<<16|t<<8|od(t,2)),t4=e4(Vj,t=>od(t,11)<<24|od(t,13)<<16|od(t,9)<<8|od(t,14)),Kj=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=gS(n))t[e]=n;return t})();function To(t){(0,Ft.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=yS,r=[];(0,Pe.isAligned32)(t)||r.push(t=(0,Pe.copyBytes)(t));const i=(0,Pe.u32)(t),o=i.length,s=l=>is(n,l,l,l,l),a=new Uint32Array(e+28);a.set(i);for(let l=o;l<a.length;l++){let u=a[l-1];l%o==0?u=s(zj(u))^Kj[l/o-1]:o>6&&l%o==4&&(u=s(u)),a[l]=a[l-o]^u}return(0,Pe.clean)(...r),a}function Jh(t){const e=To(t),n=e.slice(),r=e.length,{sbox2:i}=yS,{T0:o,T1:s,T2:a,T3:l}=t4;for(let u=0;u<r;u+=4)for(let d=0;d<4;d++)n[u+d]=e[r-u-4+d];(0,Pe.clean)(e);for(let u=4;u<r-4;u++){const d=n[u],h=is(i,d,d,d,d);n[u]=o[255&h]^s[h>>>8&255]^a[h>>>16&255]^l[h>>>24]}return n}function vl(t,e,n,r,i,o){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|o>>>24&255]}function is(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function Dr(t,e,n,r,i){const{sbox2:o,T01:s,T23:a}=yS;let l=0;e^=t[l++],n^=t[l++],r^=t[l++],i^=t[l++];const u=t.length/4-2;for(let d=0;d<u;d++){const h=t[l++]^vl(s,a,e,n,r,i),m=t[l++]^vl(s,a,n,r,i,e),g=t[l++]^vl(s,a,r,i,e,n),b=t[l++]^vl(s,a,i,e,n,r);e=h,n=m,r=g,i=b}return{s0:t[l++]^is(o,e,n,r,i),s1:t[l++]^is(o,n,r,i,e),s2:t[l++]^is(o,r,i,e,n),s3:t[l++]^is(o,i,e,n,r)}}function Xh(t,e,n,r,i){const{sbox2:o,T01:s,T23:a}=t4;let l=0;e^=t[l++],n^=t[l++],r^=t[l++],i^=t[l++];const u=t.length/4-2;for(let d=0;d<u;d++){const h=t[l++]^vl(s,a,e,i,r,n),m=t[l++]^vl(s,a,n,e,i,r),g=t[l++]^vl(s,a,r,n,e,i),b=t[l++]^vl(s,a,i,r,n,e);e=h,n=m,r=g,i=b}return{s0:t[l++]^is(o,e,i,r,n),s1:t[l++]^is(o,n,e,i,r),s2:t[l++]^is(o,r,n,e,i),s3:t[l++]^is(o,i,r,n,e)}}function wd(t,e){if(e===void 0)return new Uint8Array(t);if((0,Ft.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,Pe.isAligned32)(e))throw new Error("unaligned dst");return e}function n4(t,e,n,r){(0,Ft.bytes)(e,hi),(0,Ft.bytes)(n);const i=n.length;r=wd(i,r);const o=e,s=(0,Pe.u32)(o);let{s0:a,s1:l,s2:u,s3:d}=Dr(t,s[0],s[1],s[2],s[3]);const h=(0,Pe.u32)(n),m=(0,Pe.u32)(r);for(let b=0;b+4<=h.length;b+=4){m[b+0]=h[b+0]^a,m[b+1]=h[b+1]^l,m[b+2]=h[b+2]^u,m[b+3]=h[b+3]^d;let w=1;for(let E=o.length-1;E>=0;E--)w=w+(255&o[E])|0,o[E]=255&w,w>>>=8;({s0:a,s1:l,s2:u,s3:d}=Dr(t,s[0],s[1],s[2],s[3]))}const g=hi*Math.floor(h.length/4);if(g<i){const b=new Uint32Array([a,l,u,d]),w=(0,Pe.u8)(b);for(let E=g,y=0;E<i;E++,y++)r[E]=n[E]^w[y];(0,Pe.clean)(b)}return r}function sd(t,e,n,r,i){(0,Ft.bytes)(n,hi),(0,Ft.bytes)(r),i=wd(r.length,i);const o=n,s=(0,Pe.u32)(o),a=(0,Pe.createView)(o),l=(0,Pe.u32)(r),u=(0,Pe.u32)(i),d=e?0:12,h=r.length;let m=a.getUint32(d,e),{s0:g,s1:b,s2:w,s3:E}=Dr(t,s[0],s[1],s[2],s[3]);for(let _=0;_+4<=l.length;_+=4)u[_+0]=l[_+0]^g,u[_+1]=l[_+1]^b,u[_+2]=l[_+2]^w,u[_+3]=l[_+3]^E,m=m+1>>>0,a.setUint32(d,m,e),{s0:g,s1:b,s2:w,s3:E}=Dr(t,s[0],s[1],s[2],s[3]);const y=hi*Math.floor(l.length/4);if(y<h){const _=new Uint32Array([g,b,w,E]),x=(0,Pe.u8)(_);for(let P=y,M=0;P<h;P++,M++)i[P]=r[P]^x[M];(0,Pe.clean)(_)}return i}function p3(t){if((0,Ft.bytes)(t),t.length%hi!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function m3(t,e,n){(0,Ft.bytes)(t);let r=t.length;const i=r%hi;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Pe.isAligned32)(t)||(t=(0,Pe.copyBytes)(t));const o=(0,Pe.u32)(t);if(e){let a=hi-i;a||(a=hi),r+=a}const s=wd(r,n);return{b:o,o:(0,Pe.u32)(s),out:s}}function g3(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=t.subarray(0,-r);for(let o=0;o<r;o++)if(t[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function y3(t){const e=new Uint8Array(16),n=(0,Pe.u32)(e);e.set(t);const r=hi-t.length;for(let i=hi-r;i<hi;i++)e[i]=r;return n}function r4(t,e,n,r,i){const o=i==null?0:i.length,s=t.create(n,r.length+o);i&&s.update(i),s.update(r);const a=new Uint8Array(16),l=(0,Pe.createView)(a);i&&(0,Pe.setBigUint64)(l,0,BigInt(8*o),e),(0,Pe.setBigUint64)(l,8,BigInt(8*r.length),e),s.update(a);const u=s.digest();return(0,Pe.clean)(a),u}_n.ctr=(0,Pe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i){if((0,Ft.bytes)(r),i!==void 0&&((0,Ft.bytes)(i),!(0,Pe.isAligned32)(i)))throw new Error("unaligned destination");const o=To(t),s=(0,Pe.copyBytes)(e),a=[o,s];(0,Pe.isAligned32)(r)||a.push(r=(0,Pe.copyBytes)(r));const l=n4(o,s,r,i);return(0,Pe.clean)(...a),l}return(0,Ft.bytes)(t),(0,Ft.bytes)(e,hi),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}}),_n.ecb=(0,Pe.wrapCipher)({blockSize:16},function(t,e={}){(0,Ft.bytes)(t);const n=!e.disablePadding;return{encrypt(r,i){const{b:o,o:s,out:a}=m3(r,n,i),l=To(t);let u=0;for(;u+4<=o.length;){const{s0:d,s1:h,s2:m,s3:g}=Dr(l,o[u+0],o[u+1],o[u+2],o[u+3]);s[u++]=d,s[u++]=h,s[u++]=m,s[u++]=g}if(n){const d=y3(r.subarray(4*u)),{s0:h,s1:m,s2:g,s3:b}=Dr(l,d[0],d[1],d[2],d[3]);s[u++]=h,s[u++]=m,s[u++]=g,s[u++]=b}return(0,Pe.clean)(l),a},decrypt(r,i){p3(r);const o=Jh(t),s=wd(r.length,i),a=[o];(0,Pe.isAligned32)(r)||a.push(r=(0,Pe.copyBytes)(r));const l=(0,Pe.u32)(r),u=(0,Pe.u32)(s);for(let d=0;d+4<=l.length;){const{s0:h,s1:m,s2:g,s3:b}=Xh(o,l[d+0],l[d+1],l[d+2],l[d+3]);u[d++]=h,u[d++]=m,u[d++]=g,u[d++]=b}return(0,Pe.clean)(...a),g3(s,n)}}}),_n.cbc=(0,Pe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e,n={}){(0,Ft.bytes)(t),(0,Ft.bytes)(e,16);const r=!n.disablePadding;return{encrypt(i,o){const s=To(t),{b:a,o:l,out:u}=m3(i,r,o);let d=e;const h=[s];(0,Pe.isAligned32)(d)||h.push(d=(0,Pe.copyBytes)(d));const m=(0,Pe.u32)(d);let g=m[0],b=m[1],w=m[2],E=m[3],y=0;for(;y+4<=a.length;)g^=a[y+0],b^=a[y+1],w^=a[y+2],E^=a[y+3],{s0:g,s1:b,s2:w,s3:E}=Dr(s,g,b,w,E),l[y++]=g,l[y++]=b,l[y++]=w,l[y++]=E;if(r){const _=y3(i.subarray(4*y));g^=_[0],b^=_[1],w^=_[2],E^=_[3],{s0:g,s1:b,s2:w,s3:E}=Dr(s,g,b,w,E),l[y++]=g,l[y++]=b,l[y++]=w,l[y++]=E}return(0,Pe.clean)(...h),u},decrypt(i,o){p3(i);const s=Jh(t);let a=e;const l=[s];(0,Pe.isAligned32)(a)||l.push(a=(0,Pe.copyBytes)(a));const u=(0,Pe.u32)(a),d=wd(i.length,o);(0,Pe.isAligned32)(i)||l.push(i=(0,Pe.copyBytes)(i));const h=(0,Pe.u32)(i),m=(0,Pe.u32)(d);let g=u[0],b=u[1],w=u[2],E=u[3];for(let y=0;y+4<=h.length;){const _=g,x=b,P=w,M=E;g=h[y+0],b=h[y+1],w=h[y+2],E=h[y+3];const{s0:L,s1:K,s2:j,s3:G}=Xh(s,g,b,w,E);m[y++]=L^_,m[y++]=K^x,m[y++]=j^P,m[y++]=G^M}return(0,Pe.clean)(...l),g3(d,r)}}}),_n.cfb=(0,Pe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i,o){(0,Ft.bytes)(r);const s=r.length;o=wd(s,o);const a=To(t);let l=e;const u=[a];(0,Pe.isAligned32)(l)||u.push(l=(0,Pe.copyBytes)(l)),(0,Pe.isAligned32)(r)||u.push(r=(0,Pe.copyBytes)(r));const d=(0,Pe.u32)(r),h=(0,Pe.u32)(o),m=i?h:d,g=(0,Pe.u32)(l);let b=g[0],w=g[1],E=g[2],y=g[3];for(let x=0;x+4<=d.length;){const{s0:P,s1:M,s2:L,s3:K}=Dr(a,b,w,E,y);h[x+0]=d[x+0]^P,h[x+1]=d[x+1]^M,h[x+2]=d[x+2]^L,h[x+3]=d[x+3]^K,b=m[x++],w=m[x++],E=m[x++],y=m[x++]}const _=hi*Math.floor(d.length/4);if(_<s){({s0:b,s1:w,s2:E,s3:y}=Dr(a,b,w,E,y));const x=(0,Pe.u8)(new Uint32Array([b,w,E,y]));for(let P=_,M=0;P<s;P++,M++)o[P]=r[P]^x[M];(0,Pe.clean)(x)}return(0,Pe.clean)(...u),o}return(0,Ft.bytes)(t),(0,Ft.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}}),_n.gcm=(0,Pe.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){if((0,Ft.bytes)(t),(0,Ft.bytes)(e),n!==void 0&&(0,Ft.bytes)(n),e.length<8)throw new Error("aes/gcm: invalid nonce length");function r(o,s,a){const l=r4(__.ghash,!1,o,a,n);for(let u=0;u<s.length;u++)l[u]^=s[u];return l}function i(){const o=To(t),s=L0.slice(),a=L0.slice();if(sd(o,!1,a,a,s),e.length===12)a.set(e);else{const l=L0.slice(),u=(0,Pe.createView)(l);(0,Pe.setBigUint64)(u,8,BigInt(8*e.length),!1);const d=__.ghash.create(s).update(e).update(l);d.digestInto(a),d.destroy()}return{xk:o,authKey:s,counter:a,tagMask:sd(o,!1,a,L0)}}return{encrypt(o){(0,Ft.bytes)(o);const{xk:s,authKey:a,counter:l,tagMask:u}=i(),d=new Uint8Array(o.length+16),h=[s,a,l,u];(0,Pe.isAligned32)(o)||h.push(o=(0,Pe.copyBytes)(o)),sd(s,!1,l,o,d);const m=r(a,u,d.subarray(0,d.length-16));return h.push(m),d.set(m,o.length),(0,Pe.clean)(...h),d},decrypt(o){if((0,Ft.bytes)(o),o.length<16)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:s,authKey:a,counter:l,tagMask:u}=i(),d=[s,a,u,l];(0,Pe.isAligned32)(o)||d.push(o=(0,Pe.copyBytes)(o));const h=o.subarray(0,-16),m=o.subarray(-16),g=r(a,u,h);if(d.push(g),!(0,Pe.equalBytes)(g,m))throw new Error("aes/gcm: invalid ghash tag");const b=sd(s,!1,l,h);return(0,Pe.clean)(...d),b}}});const B0=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function i4(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function o4(t,e){if((0,Ft.bytes)(e,16),!i4(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,Pe.u32)(e);let{s0:r,s1:i,s2:o,s3:s}=Dr(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,e}function s4(t,e){if((0,Ft.bytes)(e,16),!i4(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,Pe.u32)(e);let{s0:r,s1:i,s2:o,s3:s}=Xh(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,e}_n.siv=(0,Pe.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){const r=B0("AAD",0,68719476736),i=B0("plaintext",0,2**36),o=B0("nonce",12,12),s=B0("ciphertext",16,2**36+16);function a(){const d=To(t),h=new Uint8Array(t.length),m=new Uint8Array(16),g=[d,h];let b=e;(0,Pe.isAligned32)(b)||g.push(b=(0,Pe.copyBytes)(b));const w=(0,Pe.u32)(b);let E=0,y=w[0],_=w[1],x=w[2],P=0;for(const L of[m,h].map(Pe.u32)){const K=(0,Pe.u32)(L);for(let j=0;j<K.length;j+=2){const{s0:G,s1:V}=Dr(d,E,y,_,x);K[j+0]=G,K[j+1]=V,E=++P}}const M={authKey:m,encKey:To(h)};return(0,Pe.clean)(...g),M}function l(d,h,m){const g=r4(__.polyval,!0,h,m,n);for(let x=0;x<12;x++)g[x]^=e[x];g[15]&=127;const b=(0,Pe.u32)(g);let w=b[0],E=b[1],y=b[2],_=b[3];return{s0:w,s1:E,s2:y,s3:_}=Dr(d,w,E,y,_),b[0]=w,b[1]=E,b[2]=y,b[3]=_,g}function u(d,h,m){let g=(0,Pe.copyBytes)(h);g[15]|=128;const b=sd(d,!0,g,m);return(0,Pe.clean)(g),b}return(0,Ft.bytes)(t,16,24,32),(0,Ft.bytes)(e),o(e.length),n!==void 0&&((0,Ft.bytes)(n),r(n.length)),{encrypt(d){(0,Ft.bytes)(d),i(d.length);const{encKey:h,authKey:m}=a(),g=l(h,m,d),b=[h,m,g];(0,Pe.isAligned32)(d)||b.push(d=(0,Pe.copyBytes)(d));const w=new Uint8Array(d.length+16);return w.set(g,d.length),w.set(u(h,g,d)),(0,Pe.clean)(...b),w},decrypt(d){(0,Ft.bytes)(d),s(d.length);const h=d.subarray(-16),{encKey:m,authKey:g}=a(),b=[m,g];(0,Pe.isAligned32)(d)||b.push(d=(0,Pe.copyBytes)(d));const w=u(m,h,d.subarray(0,-16)),E=l(m,g,w);if(b.push(E),!(0,Pe.equalBytes)(h,E))throw(0,Pe.clean)(...b),new Error("invalid polyval tag");return(0,Pe.clean)(...b),w}}});const Xg={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=To(t);if(e.length===16)o4(n,e);else{const r=(0,Pe.u32)(e);let i=r[0],o=r[1];for(let s=0,a=1;s<6;s++)for(let l=2;l<r.length;l+=2,a++){const{s0:u,s1:d,s2:h,s3:m}=Dr(n,i,o,r[l],r[l+1]);i=u,o=d^Jg(a),r[l]=h,r[l+1]=m}r[0]=i,r[1]=o}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=Jh(t),r=e.length/8-1;if(r===1)s4(n,e);else{const i=(0,Pe.u32)(e);let o=i[0],s=i[1];for(let a=0,l=6*r;a<6;a++)for(let u=2*r;u>=1;u-=2,l--){s^=Jg(l);const{s0:d,s1:h,s2:m,s3:g}=Xh(n,o,s,i[u],i[u+1]);o=d,s=h,i[u]=m,i[u+1]=g}i[0]=o,i[1]=s}n.fill(0)}},v3=new Uint8Array(8).fill(166);_n.aeskw=(0,Pe.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,Ft.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,Pe.concatBytes)(v3,e);return Xg.encrypt(t,n),n},decrypt(e){if((0,Ft.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const n=(0,Pe.copyBytes)(e);if(Xg.decrypt(t,n),!(0,Pe.equalBytes)(n.subarray(0,8),v3))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const w3=2790873510;_n.aeskwp=(0,Pe.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,Ft.bytes)(e),!e.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);const i=(0,Pe.u32)(r);return i[0]=w3,i[1]=Jg(e.length),Xg.encrypt(t,r),r},decrypt(e){if((0,Ft.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");const n=(0,Pe.copyBytes)(e),r=(0,Pe.u32)(n);Xg.decrypt(t,n);const i=Jg(r[1])>>>0,o=8*Math.ceil(i/8);if(r[0]!==w3||n.length-8!==o)throw new Error("integrity check failed");for(let s=i;s<o;s++)if(n[8+s]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),_n.unsafe={expandKeyLE:To,expandKeyDecLE:Jh,encrypt:Dr,decrypt:Xh,encryptBlock:o4,decryptBlock:s4,ctrCounter:n4,ctr32:sd},Object.defineProperty(vd,"__esModule",{value:!0}),vd.aes256cbc=vd.aes256gcm=void 0;var b3=_n;vd.aes256gcm=function(t,e,n){return(0,b3.gcm)(t,e,n)},vd.aes256cbc=function(t,e,n){return(0,b3.cbc)(t,e)};var ey={},a4={},ad={};Object.defineProperty(ad,"__esModule",{value:!0}),ad.sigma=void 0,ad.rotl=function(t,e){return t<<e|t>>>32-e},ad.createCipher=function(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=(0,Wi.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,Bs.number)(i),(0,Bs.number)(s),(0,Bs.bool)(o),(0,Bs.bool)(n),(a,l,u,d,h=0)=>{(0,Bs.bytes)(a),(0,Bs.bytes)(l),(0,Bs.bytes)(u);const m=u.length;if(d===void 0&&(d=new Uint8Array(m)),(0,Bs.bytes)(d),(0,Bs.number)(h),h<0||h>=E3)throw new Error("arx: counter overflow");if(d.length<m)throw new Error(`arx: output (${d.length}) is shorter than data (${m})`);const g=[];let b,w,E=a.length;if(E===32)g.push(b=(0,Wi.copyBytes)(a)),w=c4;else{if(E!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${E}`);b=new Uint8Array(32),b.set(a),b.set(a,16),w=Wj,g.push(b)}B1(l)||g.push(l=(0,Wi.copyBytes)(l));const y=(0,Wi.u32)(b);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,(0,Wi.u32)(l.subarray(0,16)),y),l=l.subarray(16)}const _=16-i;if(_!==l.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const P=new Uint8Array(12);P.set(l,o?0:12-l.length),l=P,g.push(l)}const x=(0,Wi.u32)(l);return function(P,M,L,K,j,G,V,W){const q=j.length,k=new Uint8Array(D0),C=(0,Wi.u32)(k),S=B1(j)&&B1(G),T=S?(0,Wi.u32)(j):_3,R=S?(0,Wi.u32)(G):_3;for(let B=0;B<q;V++){if(P(M,L,K,C,V,W),V>=E3)throw new Error("arx: counter overflow");const F=Math.min(D0,q-B);if(S&&F===D0){const U=B/4;if(B%4!=0)throw new Error("arx: invalid block position");for(let D,O=0;O<Yj;O++)D=U+O,R[D]=T[D]^C[O];B+=D0}else{for(let U,D=0;D<F;D++)U=B+D,G[U]=j[U]^k[D];B+=F}}}(t,w,y,x,u,d,h,s),(0,Wi.clean)(...g),d}};const Bs=_r,Wi=Oi,l4=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),qj=l4("expand 16-byte k"),Gj=l4("expand 32-byte k"),Wj=(0,Wi.u32)(qj),c4=(0,Wi.u32)(Gj);function B1(t){return t.byteOffset%4==0}ad.sigma=c4.slice();const D0=64,Yj=16,E3=2**32-1,_3=new Uint32Array;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.poly1305=void 0,Ch.wrapConstructorWithKey=u4;const F0=_r,fh=Oi,rr=(t,e)=>255&t[e++]|(255&t[e++])<<8;class Qj{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,fh.toBytes)(e),(0,F0.bytes)(e,32);const n=rr(e,0),r=rr(e,2),i=rr(e,4),o=rr(e,6),s=rr(e,8),a=rr(e,10),l=rr(e,12),u=rr(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|a<<2),this.r[7]=8065&(a>>>11|l<<5),this.r[8]=8191&(l>>>8|u<<8),this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=rr(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],u=s[2],d=s[3],h=s[4],m=s[5],g=s[6],b=s[7],w=s[8],E=s[9],y=rr(e,n+0),_=rr(e,n+2),x=rr(e,n+4),P=rr(e,n+6),M=rr(e,n+8),L=rr(e,n+10),K=rr(e,n+12),j=rr(e,n+14);let G=o[0]+(8191&y),V=o[1]+(8191&(y>>>13|_<<3)),W=o[2]+(8191&(_>>>10|x<<6)),q=o[3]+(8191&(x>>>7|P<<9)),k=o[4]+(8191&(P>>>4|M<<12)),C=o[5]+(M>>>1&8191),S=o[6]+(8191&(M>>>14|L<<2)),T=o[7]+(8191&(L>>>11|K<<5)),R=o[8]+(8191&(K>>>8|j<<8)),B=o[9]+(j>>>5|i),F=0,U=F+G*a+V*(5*E)+W*(5*w)+q*(5*b)+k*(5*g);F=U>>>13,U&=8191,U+=C*(5*m)+S*(5*h)+T*(5*d)+R*(5*u)+B*(5*l),F+=U>>>13,U&=8191;let D=F+G*l+V*a+W*(5*E)+q*(5*w)+k*(5*b);F=D>>>13,D&=8191,D+=C*(5*g)+S*(5*m)+T*(5*h)+R*(5*d)+B*(5*u),F+=D>>>13,D&=8191;let O=F+G*u+V*l+W*a+q*(5*E)+k*(5*w);F=O>>>13,O&=8191,O+=C*(5*b)+S*(5*g)+T*(5*m)+R*(5*h)+B*(5*d),F+=O>>>13,O&=8191;let N=F+G*d+V*u+W*l+q*a+k*(5*E);F=N>>>13,N&=8191,N+=C*(5*w)+S*(5*b)+T*(5*g)+R*(5*m)+B*(5*h),F+=N>>>13,N&=8191;let H=F+G*h+V*d+W*u+q*l+k*a;F=H>>>13,H&=8191,H+=C*(5*E)+S*(5*w)+T*(5*b)+R*(5*g)+B*(5*m),F+=H>>>13,H&=8191;let z=F+G*m+V*h+W*d+q*u+k*l;F=z>>>13,z&=8191,z+=C*a+S*(5*E)+T*(5*w)+R*(5*b)+B*(5*g),F+=z>>>13,z&=8191;let Y=F+G*g+V*m+W*h+q*d+k*u;F=Y>>>13,Y&=8191,Y+=C*l+S*a+T*(5*E)+R*(5*w)+B*(5*b),F+=Y>>>13,Y&=8191;let ee=F+G*b+V*g+W*m+q*h+k*d;F=ee>>>13,ee&=8191,ee+=C*u+S*l+T*a+R*(5*E)+B*(5*w),F+=ee>>>13,ee&=8191;let J=F+G*w+V*b+W*g+q*m+k*h;F=J>>>13,J&=8191,J+=C*d+S*u+T*l+R*a+B*(5*E),F+=J>>>13,J&=8191;let oe=F+G*E+V*w+W*b+q*g+k*m;F=oe>>>13,oe&=8191,oe+=C*h+S*d+T*u+R*l+B*a,F+=oe>>>13,oe&=8191,F=(F<<2)+F|0,F=F+U|0,U=8191&F,F>>>=13,D+=F,o[0]=U,o[1]=D,o[2]=O,o[3]=N,o[4]=H,o[5]=z,o[6]=Y,o[7]=ee,o[8]=J,o[9]=oe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(1^i)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)e[a]=e[a]&o|r[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+n[0];e[0]=65535&s;for(let a=1;a<8;a++)s=(e[a]+n[a]|0)+(s>>>16)|0,e[a]=65535&s;(0,fh.clean)(r)}update(e){(0,F0.exists)(this);const{buffer:n,blockLen:r}=this,i=(e=(0,fh.toBytes)(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-o;o+=r)this.process(e,o)}return this}destroy(){(0,fh.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,F0.exists)(this),(0,F0.output)(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=r[s]>>>0,e[o++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function u4(t){const e=(r,i)=>t(i).update((0,fh.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}Ch.poly1305=u4(t=>new Qj(t)),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=s;const e=ad,n=_r,r=Ch,i=Oi;function o(h,m,g,b,w,E=20){let y=h[0],_=h[1],x=h[2],P=h[3],M=m[0],L=m[1],K=m[2],j=m[3],G=m[4],V=m[5],W=m[6],q=m[7],k=w,C=g[0],S=g[1],T=g[2],R=y,B=_,F=x,U=P,D=M,O=L,N=K,H=j,z=G,Y=V,ee=W,J=q,oe=k,se=C,ve=S,de=T;for(let je=0;je<E;je+=2)R=R+D|0,oe=(0,e.rotl)(oe^R,16),z=z+oe|0,D=(0,e.rotl)(D^z,12),R=R+D|0,oe=(0,e.rotl)(oe^R,8),z=z+oe|0,D=(0,e.rotl)(D^z,7),B=B+O|0,se=(0,e.rotl)(se^B,16),Y=Y+se|0,O=(0,e.rotl)(O^Y,12),B=B+O|0,se=(0,e.rotl)(se^B,8),Y=Y+se|0,O=(0,e.rotl)(O^Y,7),F=F+N|0,ve=(0,e.rotl)(ve^F,16),ee=ee+ve|0,N=(0,e.rotl)(N^ee,12),F=F+N|0,ve=(0,e.rotl)(ve^F,8),ee=ee+ve|0,N=(0,e.rotl)(N^ee,7),U=U+H|0,de=(0,e.rotl)(de^U,16),J=J+de|0,H=(0,e.rotl)(H^J,12),U=U+H|0,de=(0,e.rotl)(de^U,8),J=J+de|0,H=(0,e.rotl)(H^J,7),R=R+O|0,de=(0,e.rotl)(de^R,16),ee=ee+de|0,O=(0,e.rotl)(O^ee,12),R=R+O|0,de=(0,e.rotl)(de^R,8),ee=ee+de|0,O=(0,e.rotl)(O^ee,7),B=B+N|0,oe=(0,e.rotl)(oe^B,16),J=J+oe|0,N=(0,e.rotl)(N^J,12),B=B+N|0,oe=(0,e.rotl)(oe^B,8),J=J+oe|0,N=(0,e.rotl)(N^J,7),F=F+H|0,se=(0,e.rotl)(se^F,16),z=z+se|0,H=(0,e.rotl)(H^z,12),F=F+H|0,se=(0,e.rotl)(se^F,8),z=z+se|0,H=(0,e.rotl)(H^z,7),U=U+D|0,ve=(0,e.rotl)(ve^U,16),Y=Y+ve|0,D=(0,e.rotl)(D^Y,12),U=U+D|0,ve=(0,e.rotl)(ve^U,8),Y=Y+ve|0,D=(0,e.rotl)(D^Y,7);let Oe=0;b[Oe++]=y+R|0,b[Oe++]=_+B|0,b[Oe++]=x+F|0,b[Oe++]=P+U|0,b[Oe++]=M+D|0,b[Oe++]=L+O|0,b[Oe++]=K+N|0,b[Oe++]=j+H|0,b[Oe++]=G+z|0,b[Oe++]=V+Y|0,b[Oe++]=W+ee|0,b[Oe++]=q+J|0,b[Oe++]=k+oe|0,b[Oe++]=C+se|0,b[Oe++]=S+ve|0,b[Oe++]=T+de|0}function s(h,m,g,b){let w=h[0],E=h[1],y=h[2],_=h[3],x=m[0],P=m[1],M=m[2],L=m[3],K=m[4],j=m[5],G=m[6],V=m[7],W=g[0],q=g[1],k=g[2],C=g[3];for(let T=0;T<20;T+=2)w=w+x|0,W=(0,e.rotl)(W^w,16),K=K+W|0,x=(0,e.rotl)(x^K,12),w=w+x|0,W=(0,e.rotl)(W^w,8),K=K+W|0,x=(0,e.rotl)(x^K,7),E=E+P|0,q=(0,e.rotl)(q^E,16),j=j+q|0,P=(0,e.rotl)(P^j,12),E=E+P|0,q=(0,e.rotl)(q^E,8),j=j+q|0,P=(0,e.rotl)(P^j,7),y=y+M|0,k=(0,e.rotl)(k^y,16),G=G+k|0,M=(0,e.rotl)(M^G,12),y=y+M|0,k=(0,e.rotl)(k^y,8),G=G+k|0,M=(0,e.rotl)(M^G,7),_=_+L|0,C=(0,e.rotl)(C^_,16),V=V+C|0,L=(0,e.rotl)(L^V,12),_=_+L|0,C=(0,e.rotl)(C^_,8),V=V+C|0,L=(0,e.rotl)(L^V,7),w=w+P|0,C=(0,e.rotl)(C^w,16),G=G+C|0,P=(0,e.rotl)(P^G,12),w=w+P|0,C=(0,e.rotl)(C^w,8),G=G+C|0,P=(0,e.rotl)(P^G,7),E=E+M|0,W=(0,e.rotl)(W^E,16),V=V+W|0,M=(0,e.rotl)(M^V,12),E=E+M|0,W=(0,e.rotl)(W^E,8),V=V+W|0,M=(0,e.rotl)(M^V,7),y=y+L|0,q=(0,e.rotl)(q^y,16),K=K+q|0,L=(0,e.rotl)(L^K,12),y=y+L|0,q=(0,e.rotl)(q^y,8),K=K+q|0,L=(0,e.rotl)(L^K,7),_=_+x|0,k=(0,e.rotl)(k^_,16),j=j+k|0,x=(0,e.rotl)(x^j,12),_=_+x|0,k=(0,e.rotl)(k^_,8),j=j+k|0,x=(0,e.rotl)(x^j,7);let S=0;b[S++]=w,b[S++]=E,b[S++]=y,b[S++]=_,b[S++]=W,b[S++]=q,b[S++]=k,b[S++]=C}t.chacha20orig=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:s,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});const a=new Uint8Array(16),l=(h,m)=>{h.update(m);const g=m.length%16;g&&h.update(a.subarray(g))},u=new Uint8Array(32);function d(h,m,g,b,w){const E=h(m,g,u),y=r.poly1305.create(E);w&&l(y,w),l(y,b);const _=new Uint8Array(16),x=(0,i.createView)(_);(0,i.setBigUint64)(x,0,BigInt(w?w.length:0),!0),(0,i.setBigUint64)(x,8,BigInt(b.length),!0),y.update(_);const P=y.digest();return(0,i.clean)(E,_),P}t._poly1305_aead=h=>(m,g,b)=>((0,n.bytes)(m,32),(0,n.bytes)(g),{encrypt(w,E){const y=w.length,_=y+16;E?(0,n.bytes)(E,_):E=new Uint8Array(_),h(m,g,w,E,1);const x=d(h,m,g,E.subarray(0,-16),b);return E.set(x,y),(0,i.clean)(x),E},decrypt(w,E){const y=w.length,_=y-16;if(y<16)throw new Error("encrypted data must be at least 16 bytes");E?(0,n.bytes)(E,_):E=new Uint8Array(_);const x=w.subarray(0,-16),P=w.subarray(-16),M=d(h,m,g,x,b);if(!(0,i.equalBytes)(P,M))throw new Error("invalid tag");return h(m,g,x,E,1),(0,i.clean)(M),E}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))}(a4),Object.defineProperty(ey,"__esModule",{value:!0}),ey.xchacha20=void 0;var Fu,x3,Yf,Zj=a4;ey.xchacha20=function(t,e,n){return(0,Zj.xchacha20poly1305)(t,e,n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Oi,n=cS,r=vd,i=ey,o=Qh,s=Qn;function a(d,h,m,g){var b=(0,o.symmetricAlgorithm)();if(b==="aes-256-gcm")return d(r.aes256gcm,h,m,(0,o.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,g);if(b==="xchacha20")return d(i.xchacha20,h,m,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,g);if(b==="aes-256-cbc")return d(r.aes256cbc,h,m,16,0);throw new Error("Not implemented")}function l(d,h,m,g,b,w){var E=(0,n.randomBytes)(g),y=d(h,E,w).encrypt(m);if(b===0)return(0,e.concatBytes)(E,y);var _=y.length-b,x=y.subarray(0,_),P=y.subarray(_);return(0,e.concatBytes)(E,P,x)}function u(d,h,m,g,b,w){var E=m.subarray(0,g),y=d(h,Uint8Array.from(E),w),_=m.subarray(g);if(b===0)return y.decrypt(_);var x=_.subarray(0,b),P=_.subarray(b);return y.decrypt((0,e.concatBytes)(P,x))}t.symEncrypt=function(d,h,m){return a(l,d,h,m)},t.symDecrypt=function(d,h,m){return a(u,d,h,m)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt}(f3),Fu=Bv,x3=oo&&oo.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yf=oo&&oo.__exportStar||function(t,e){for(var n in t)n==="default"||Object.prototype.hasOwnProperty.call(e,n)||x3(e,t,n)},Object.defineProperty(Fu,"__esModule",{value:!0}),Yf(hO,Fu),Yf(WO,Fu),Yf(b_,Fu),Yf(f3,Fu);var ep={};Object.defineProperty(ep,"__esModule",{value:!0}),ep.PublicKey=void 0;var S3=Oi,j0=Bv,Jj=function(){function t(e){this.data=(0,j0.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,j0.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return xe.from((0,j0.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return xe.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,S3.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,j0.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,S3.equalBytes)(this.data,e.data)},t}();ep.PublicKey=Jj,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.PrivateKey=void 0;var A3=Oi,ju=Bv,Xj=ep,eU=function(){function t(e){if(e===void 0)this.data=(0,ju.getValidSecret)();else{if(!(0,ju.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new Xj.PublicKey((0,ju.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,ju.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return xe.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,A3.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,ju.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,ju.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,A3.equalBytes)(this.data,e.data)},t}();Wg.PrivateKey=eU,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=Wg;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var n=ep;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(E1),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(a,l){var u=new r.PrivateKey,d=a instanceof Uint8Array?new r.PublicKey(a):r.PublicKey.fromHex(a),h=u.encapsulate(d,(0,n.isHkdfKeyCompressed)()),m=(0,n.isEphemeralKeyCompressed)()?u.publicKey.compressed:u.publicKey.uncompressed,g=(0,i.symEncrypt)(h,l);return xe.from((0,e.concatBytes)(m,g))},t.decrypt=function(a,l){var u=a instanceof Uint8Array?new r.PrivateKey(a):r.PrivateKey.fromHex(a),d=(0,n.ephemeralKeySize)(),h=new r.PublicKey(l.subarray(0,d)),m=l.subarray(d),g=h.decapsulate(u,(0,n.isHkdfKeyCompressed)());return xe.from((0,i.symDecrypt)(g,m))};var e=Oi,n=Qh,r=E1,i=Bv,o=Qh;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var s=E1;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return s.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(Yu);const d4=jr("KeyExchange:Layer"),f4=jr("SocketService:Layer"),h4=jr("Ecies:Layer"),p4=jr("RemoteCommunication:Layer");d4.color="##95c44e",f4.color="#f638d7",h4.color="#465b9c",p4.color="#47a2be";const fe={KeyExchange:d4,SocketService:f4,Ecies:h4,RemoteCommunication:p4};let Qf,U0=[],D1=[];const ua=(t,e)=>Se(void 0,void 0,void 0,function*(){Qf=e,D1.push(t),function(n){return Se(this,void 0,void 0,function*(){if(!Qf||!n)return;(function(){const s=D1;D1=U0,U0=s})();const r=Qf.endsWith("/")?`${Qf}evt`:`${Qf}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[s,a]of Object.entries(n.params))i[s]=a;const o=JSON.stringify(i);fe.RemoteCommunication(`[sendBufferedEvents] Sending ${U0.length} analytics events to ${r}`);try{const s=yield O5(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),a=yield s.text();fe.RemoteCommunication(`[sendBufferedEvents] Response: ${a}`),U0.length=0}catch{}})}(t).catch(()=>{})});class F1{constructor(e){this.enabled=!0,e!=null&&e.debug&&jr.enable("Ecies:Layer"),this.ecies=e!=null&&e.privateKey?Yu.PrivateKey.fromHex(e.privateKey):new Yu.PrivateKey,fe.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),fe.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),fe.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new Yu.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{fe.Ecies("[ECIES: encrypt()] using otherPublicKey",n);const i=xe.from(e),o=Yu.encrypt(n,i);r=xe.from(o).toString("base64")}catch(i){throw fe.Ecies("[ECIES: encrypt()] error encrypt:",i),fe.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),fe.Ecies("[ECIES: encrypt()] data: ",e),fe.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{fe.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const r=xe.from(e.toString(),"base64");n=Yu.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw fe.Ecies("[ECIES: decrypt()] error decrypt",r),fe.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),fe.Ecies("[ECIES: decrypt()] encryptedData: ",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){fe.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var Cl={version:"0.32.0"};const Kc="https://metamask-sdk.api.cx.metamask.io/",tU=["websocket"],Pd=6048e5,nU=3e3,rU={ETH_REQUESTACCOUNTS:"eth_requestAccounts"};function m4(t){const{context:e}=t;fe.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var Bn,ke,ty,Yt,gn,Pn,Uu;(Uu=Bn||(Bn={})).DISCONNECTED="disconnected",Uu.WAITING="waiting",Uu.TIMEOUT="timeout",Uu.LINKED="linked",Uu.PAUSED="paused",Uu.TERMINATED="terminated",function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"}(ke||(ke={})),(ty||(ty={})).KEY_EXCHANGE="key_exchange",function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"}(Yt||(Yt={}));class iU extends Wp.exports.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=Yt.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i!=null&&i.privateKey&&n&&(fe.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new F1(Object.assign(Object.assign({},i),{debug:o==null?void 0:o.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(o==null?void 0:o.keyExchangeLayer)===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(ty.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:n}=this.communicationLayer.remote.state;if(fe.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void fe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:r}=e;this.keysExchanged&&fe.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(ke.KEY_INFO,r.type),r.type===Yt.KEY_HANDSHAKE_SYN?(this.checkStep([Yt.KEY_HANDSHAKE_NONE,Yt.KEY_HANDSHAKE_ACK]),fe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:Yt.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(i=>{fe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)}),this.setStep(Yt.KEY_HANDSHAKE_ACK)):r.type===Yt.KEY_HANDSHAKE_SYNACK?(this.checkStep([Yt.KEY_HANDSHAKE_SYNACK,Yt.KEY_HANDSHAKE_ACK,Yt.KEY_HANDSHAKE_NONE]),fe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:Yt.KEY_HANDSHAKE_ACK}).catch(i=>{fe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)}),this.keysExchanged=!0,this.setStep(Yt.KEY_HANDSHAKE_ACK),this.emit(ke.KEYS_EXCHANGED)):r.type===Yt.KEY_HANDSHAKE_ACK&&(fe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Yt.KEY_HANDSHAKE_ACK,Yt.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Yt.KEY_HANDSHAKE_ACK),this.emit(ke.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new F1(e)}clean(){fe.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Yt.KEY_HANDSHAKE_NONE),this.emit(ke.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;r?fe.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(fe.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==Yt.KEY_HANDSHAKE_NONE&&this.step!==Yt.KEY_HANDSHAKE_SYNACK)||n?(fe.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Yt.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Yt.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(s=>{fe.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",s)})):fe.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?fe.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:Yt.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(s=>{fe.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",s)}):(this.communicationLayer.sendMessage({type:Yt.KEY_HANDSHAKE_START}).catch(s=>{fe.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",s)}),this.clean()))}setStep(e){this.step=e,this.emit(ke.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new F1({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){fe.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(gn||(gn={})),function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(Pn||(Pn={}));const hg=(t,e,n)=>Se(void 0,void 0,void 0,function*(){var r,i,o,s,a,l;const{remote:u,state:d}=t,{channelId:h,isOriginator:m}=d;if(e==="error_terminated")return fe.SocketService(`handleJoinChannelResults: Channel ${h} terminated`),void t.emit(ke.TERMINATE);if(!n)return void fe.SocketService(`handleJoinChannelResults: No result for channel ${h}`);const{persistence:g,walletKey:b,rejected:w}=n;if(fe.SocketService(`handleJoinChannelResults: Channel ${h} persistence=${g} walletKey=${b} rejected=${w}`),w)return fe.SocketService(`handleJoinChannelResults: Channel ${h} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(ke.REJECTED,{channelId:h}),void t.remote.emitServiceStatusEvent();if(b&&!(!((r=u.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(b),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),u.state.ready=!0,u.state.authorized=!0,u.emit(ke.AUTHORIZED);const{communicationLayer:E,storageManager:y}=u.state,_=Object.assign(Object.assign({},u.state.channelConfig),{channelId:(o=u.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+Pd,localKey:E==null?void 0:E.getKeyInfo().ecies.private,otherKey:b});t.sendMessage({type:Yt.KEY_HANDSHAKE_ACK}).catch(x=>{}),(s=t.state.socket)===null||s===void 0||s.emit(gn.PING,{id:h,clientType:m?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield y==null?void 0:y.persistChannelConfig(_),u.emitServiceStatusEvent(),u.setConnectionStatus(Bn.LINKED)}g&&(t.emit(ke.CHANNEL_PERSISTENCE),(a=t.state.keyExchange)===null||a===void 0||a.setKeysExchanged(!0),u.state.ready=!0,u.state.authorized=!0,u.emit(ke.AUTHORIZED),ua(Object.assign(Object.assign({id:h??"",event:m?Pn.CONNECTED:Pn.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Cl.version,walletVersion:(l=t.remote.state.walletInfo)===null||l===void 0?void 0:l.version}),d.communicationServerUrl).catch(E=>{}))}),bd=t=>new Promise(e=>{setTimeout(e,t)}),C3=(t,e,...n)=>Se(void 0,[t,e,...n],void 0,function*(r,i,o=200){let s;const a=Date.now();let l=!1;for(;!l;){if(l=Date.now()-a>3e5,s=i[r],s.elapsedTime!==void 0)return s;yield bd(o)}throw new Error(`RPC ${r} timed out`)}),S_=t=>Se(void 0,void 0,void 0,function*(){const{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:s}=e;if(s)return fe.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!n)return fe.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!r)return!1;const{connected:a}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,fe.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(fe.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield bd(200),n.connected)return fe.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(gn.PING,{id:r,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,n.connect(),t.emit(ke.SOCKET_RECONNECT);try{if(yield new Promise((l,u)=>{n.emit(ke.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},(d,h)=>Se(void 0,void 0,void 0,function*(){try{yield hg(t,d,h),l()}catch(m){u(m)}}))}),yield bd(100),n.connected)return fe.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(l){fe.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,l)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield bd(200))}return fe.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}});function g4(t,e){return Se(this,void 0,void 0,function*(){var n;const r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return fe.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===gn.TERMINATE&&(t.state.manualDisconnect=!0),new Promise((o,s)=>{var a;(a=t.state.socket)===null||a===void 0||a.emit(ke.MESSAGE,i,(l,u)=>{var d;l&&(fe.SocketService(`[SocketService: encryptAndSendMessage()] error=${l}`),s(l)),fe.SocketService("[encryptAndSendMessage] response",u),o((d=u==null?void 0:u.success)!==null&&d!==void 0&&d)})})})}var ld;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(ld||(ld={}));const y4=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(t=>t.toLowerCase()),oU=[{event:ke.CLIENTS_CONNECTED,handler:function(t,e){return n=>Se(this,void 0,void 0,function*(){var r,i,o,s,a,l,u,d,h,m,g;const b=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(fe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${b} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(ke.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(fe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} -- backward compatibility`),(l=t.state.keyExchange)===null||l===void 0||l.start({isOriginator:(u=t.state.isOriginator)!==null&&u!==void 0&&u})),t.state.resumed=!1;else if(t.state.clientsPaused)fe.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){const w=!b;fe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(d=t.state.keyExchange)===null||d===void 0?void 0:d.areKeysExchanged()} -- force=${w} -- backward compatibility`),fe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(h=t.state.keyExchange)===null||h===void 0?void 0:h.areKeysExchanged()} -- force=${w} -- backward compatibility`),(m=t.state.keyExchange)===null||m===void 0||m.start({isOriginator:(g=t.state.isOriginator)!==null&&g!==void 0&&g,force:w})}t.state.clientsConnected=!0,t.state.clientsPaused=!1})}},{event:ke.CHANNEL_CREATED,handler:function(t,e){return n=>{fe.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(ke.CHANNEL_CREATED,n)}}},{event:ke.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,fe.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?fe.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(ke.CLIENTS_DISCONNECTED,e))}}},{event:ke.CONFIG,handler:function(t,e){return n=>Se(this,void 0,void 0,function*(){var r,i,o;fe.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);const{persistence:s,walletKey:a}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(fe.SocketService(`Setting wallet key ${a}`),t.remote.state.channelConfig.otherKey=a,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:Yt.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:gn.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),s!==!0||t.remote.state.channelConfig.relayPersistence||(fe.SocketService(`Setting relay persistence ${s}`),t.remote.state.channelConfig.relayPersistence=s,t.remote.state.relayPersistence=!0,t.remote.emit(ke.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(ke.AUTHORIZED),yield(o=t.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(ke.CHANNEL_PERSISTENCE))})}},{event:ke.MESSAGE,handler:function(t,e){return n=>{var r,i,o,s,a,l,u,d,h,m,g,b,w,E,y,_,x,P;const{ackId:M,message:L,error:K}=n,j=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(fe.SocketService(`[SocketService handleMessage()]  relayPersistence=${j}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),K)throw fe.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${K}`),new Error(K);const G=typeof L=="string";if(!G&&(L==null?void 0:L.type)===Yt.KEY_HANDSHAKE_START)return j?void 0:(fe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,L),void((o=t.state.keyExchange)===null||o===void 0||o.start({isOriginator:(s=t.state.isOriginator)!==null&&s!==void 0&&s,force:!0})));if(!G&&(!((a=L==null?void 0:L.type)===null||a===void 0)&&a.startsWith("key_handshake")))return j?void 0:(fe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,L),void t.emit(ty.KEY_EXCHANGE,{message:L,context:t.state.context}));if(G&&!(!((l=t.state.keyExchange)===null||l===void 0)&&l.areKeysExchanged())){let q=!1;try{fe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(u=t.state.keyExchange)===null||u===void 0||u.decryptMessage(L),q=!0}catch(k){fe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,k)}if(!q)return t.state.isOriginator?(h=t.state.keyExchange)===null||h===void 0||h.start({isOriginator:(m=t.state.isOriginator)!==null&&m!==void 0&&m}):t.sendMessage({type:Yt.KEY_HANDSHAKE_START}).catch(k=>{}),void fe.SocketService(`Message ignored because invalid key exchange status. step=${(g=t.state.keyExchange)===null||g===void 0?void 0:g.getKeyInfo().step}`,(b=t.state.keyExchange)===null||b===void 0?void 0:b.getKeyInfo(),L);fe.SocketService("Invalid key exchange status detected --- updating it."),(d=t.state.keyExchange)===null||d===void 0||d.setKeysExchanged(!0)}else if(!G&&(L!=null&&L.type))return void t.emit(ke.MESSAGE,L);if(!G)return void t.emit(ke.MESSAGE,L);const V=(w=t.state.keyExchange)===null||w===void 0?void 0:w.decryptMessage(L),W=JSON.parse(V??"{}");if(M&&(M==null?void 0:M.length)>0&&(fe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${M} channelId=${e}`),(E=t.state.socket)===null||E===void 0||E.emit(ke.MESSAGE_ACK,{ackId:M,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=(W==null?void 0:W.type)===gn.PAUSE,t.state.isOriginator&&W.data){const q=W.data,k=t.state.rpcMethodTracker[q.id];if(k){const C=Date.now()-k.timestamp;fe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${q.id} method=${k.method} responseTime=${C}`,W),t.remote.state.analytics&&y4.includes(k.method.toLowerCase())&&ua(Object.assign(Object.assign({id:(y=t.remote.state.channelId)!==null&&y!==void 0?y:"",event:Pn.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:Cl.version},t.remote.state.originatorInfo),{walletVersion:(_=t.remote.state.walletInfo)===null||_===void 0?void 0:_.version,params:{method:k.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch(T=>{});const S=Object.assign(Object.assign({},k),{result:q.result,error:q.error?{code:(x=q.error)===null||x===void 0?void 0:x.code,message:(P=q.error)===null||P===void 0?void 0:P.message}:void 0,elapsedTime:C});t.state.rpcMethodTracker[q.id]=S,t.emit(ke.RPC_UPDATE,S)}}t.emit(ke.MESSAGE,{message:W})}}},{event:ke.REJECTED,handler:function(t,e){return n=>Se(this,void 0,void 0,function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(fe.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),ua(Object.assign(Object.assign({id:e,event:Pn.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Cl.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch(i=>{}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(ke.REJECTED,{channelId:e}),t.remote.setConnectionStatus(Bn.DISCONNECTED)):fe.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(t,e){return n=>{fe.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(ke.CLIENTS_WAITING,n)}}}],sU=[{event:ke.KEY_INFO,handler:function(t){return e=>{fe.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(ke.KEY_INFO,e)}}},{event:ke.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;fe.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const s=t.getKeyExchange().getKeyInfo().ecies;i.localKey=s.private,i.otherKey=s.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch(a=>{})}t.emit(ke.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});const o={keyInfo:t.getKeyInfo()};t.emit(ke.SERVICE_STATUS,o)}}}];function k3(t,e){fe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n==null||n.io.on("error",i=>{fe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)}),n==null||n.io.on("reconnect",i=>{fe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),S_(t).catch(o=>{})}),n==null||n.io.on("reconnect_error",i=>{fe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)}),n==null||n.io.on("reconnect_failed",()=>{fe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)})),n==null||n.on("disconnect",i=>(fe.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),function(o){return s=>{fe.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,s),o.state.manualDisconnect||(o.emit(ke.SOCKET_DISCONNECTED),S_(o).catch(a=>{}))}}(t)(i)))),oU.forEach(({event:i,handler:o})=>{n==null||n.on(`${i}-${e}`,o(t,e))}),sU.forEach(({event:i,handler:o})=>{r==null||r.on(i,o(t))}),t.state.setupChannelListeners=!0}class aU extends Wp.exports.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:s,logging:a}=e;this.state.resumed=n,this.state.context=o,this.state.isOriginator=s.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=(a==null?void 0:a.serviceLayer)===!0,this.remote=s,(a==null?void 0:a.serviceLayer)===!0&&jr.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==Kc&&(a==null?void 0:a.plaintext)===!0,fe.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:n,ecies:r,logging:i}=this.options,o={autoConnect:!1,transports:tU,withCredentials:!0},s=this.state.communicationServerUrl;fe.SocketService(`[SocketService: initSocket()] Socket IO url: ${s}`),this.state.socket=cg(s,o),function(l){if(typeof window<"u"&&typeof document<"u"&&(fe.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,l),!l.state.focusListenerAdded)){const u=()=>{fe.SocketService("Document has focus --- reconnecting socket"),S_(l).catch(d=>{})};window.addEventListener("focus",u),l.state.focusListenerAdded=!0,l.state.removeFocusListener=()=>{window.removeEventListener("focus",u),l.state.focusListenerAdded=!1}}}(this);const a={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:r,logging:i};this.state.keyExchange=new iU(a)}resetKeys(){return fe.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return Se(this,void 0,void 0,function*(){return function(e){return Se(this,void 0,void 0,function*(){var n,r,i;if(fe.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const o=rS();e.state.channelId=o,k3(e,o),yield new Promise((a,l)=>{var u;(u=e.state.socket)===null||u===void 0||u.emit(ke.JOIN_CHANNEL,{channelId:o,context:`${e.state.context}createChannel`,clientType:"dapp"},(d,h)=>Se(this,void 0,void 0,function*(){try{yield hg(e,d,h),a()}catch(m){l(m)}}))});const s=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:(s==null?void 0:s.ecies.public)||"",privKey:(s==null?void 0:s.ecies.private)||""}})}(this)})}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return function(i){return Se(this,arguments,void 0,function*({options:o,instance:s}){const{channelId:a,authorized:l,withKeyExchange:u}=o,{state:d,remote:h}=s,{isOriginator:m=!1,socket:g,keyExchange:b}=d,{channelConfig:w}=h.state;if(g!=null&&g.connected)throw new Error("socket already connected");if(m&&(w!=null&&w.relayPersistence)){const{localKey:E,otherKey:y}=w;E&&y&&(b==null||b.setRelayPersistence({localKey:E,otherKey:y}))}return Object.assign(d,{manualDisconnect:!1,withKeyExchange:u,isOriginator:m,channelId:a}),g==null||g.connect(),k3(s,a),!m&&l&&(b==null||b.setKeysExchanged(!0),Object.assign(h.state,{ready:!0,authorized:!0})),new Promise(E=>{var y;const _=(y=b==null?void 0:b.getKeyInfo())===null||y===void 0?void 0:y.ecies.public;g==null||g.emit(ke.JOIN_CHANNEL,{channelId:a,context:`${d.context}_connectToChannel`,clientType:m?"dapp":"wallet",publicKey:l&&!m?_:void 0},(x,P)=>Se(this,void 0,void 0,function*(){yield hg(s,x,P),E()}))})})}({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(ke.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:Yt.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return Se(this,void 0,void 0,function*(){return function(n,r){return Se(this,void 0,void 0,function*(){var i,o,s;if(!n.state.channelId)throw fe.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(fe.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(o=r==null?void 0:r.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return function(l,u){var d;fe.SocketService(`[SocketService: handleKeyHandshake()] context=${l.state.context}`,u),(d=l.state.socket)===null||d===void 0||d.emit(ke.MESSAGE,{id:l.state.channelId,context:l.state.context,clientType:l.state.isOriginator?"dapp":"wallet",message:u})}(n,r),!0;(function(l,u){var d;if(!(!((d=l.state.keyExchange)===null||d===void 0)&&d.areKeysExchanged())&&!l.remote.state.relayPersistence)throw fe.SocketService(`[SocketService: validateKeyExchange()] context=${l.state.context} ERROR keys not exchanged`,u),new Error("Keys not exchanged BBB")})(n,r),function(l,u){var d;const h=(d=u==null?void 0:u.method)!==null&&d!==void 0?d:"",m=u==null?void 0:u.id;l.state.isOriginator&&m&&(l.state.rpcMethodTracker[m]={id:m,timestamp:Date.now(),method:h},l.emit(ke.RPC_UPDATE,l.state.rpcMethodTracker[m]))}(n,r);const a=yield g4(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&y4.includes(r.method.toLowerCase())&&ua({id:(s=n.remote.state.channelId)!==null&&s!==void 0?s:"",event:Pn.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch(l=>{}),function(l,u){return Se(this,void 0,void 0,function*(){var d;const h=u==null?void 0:u.id,m=(d=u==null?void 0:u.method)!==null&&d!==void 0?d:"";if(l.state.isOriginator&&h)try{const g=C3(h,l.state.rpcMethodTracker,200).then(E=>({type:ld.RPC_CHECK,result:E})),b=Se(this,void 0,void 0,function*(){const E=yield(_=>Se(void 0,[_],void 0,function*({rpcId:x,instance:P}){for(;P.state.lastRpcId===x||P.state.lastRpcId===void 0;)yield bd(200);return P.state.lastRpcId}))({instance:l,rpcId:h}),y=yield C3(E,l.state.rpcMethodTracker,200);return{type:ld.SKIPPED_RPC,result:y}}),w=yield Promise.race([g,b]);if(w.type===ld.RPC_CHECK){const E=w.result;fe.SocketService(`[SocketService:handleRpcReplies()] id=${u.id} ${m} ( ${E.elapsedTime} ms)`,E.result)}else{if(w.type!==ld.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${h}`);{const E=Object.assign(Object.assign({},l.state.rpcMethodTracker[h]),{error:new Error("SDK_CONNECTION_ISSUE")});l.emit(ke.RPC_UPDATE,E);const y={data:Object.assign(Object.assign({},E),{jsonrpc:"2.0"}),name:"metamask-provider"};l.emit(ke.MESSAGE,{message:y})}}}catch(g){throw g}})}(n,r).catch(l=>{}),a})}(this,e)})}ping(){return function(e){return Se(this,void 0,void 0,function*(){var n,r;fe.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(gn.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(e){return Se(this,void 0,void 0,function*(){var n,r;fe.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:gn.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()})}(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return function(e){return Se(this,void 0,void 0,function*(){const{state:n,remote:r}=e,{socket:i,channelId:o,context:s,keyExchange:a,isOriginator:l}=n,{isOriginator:u}=r.state;if(fe.SocketService(`[SocketService: resume()] channelId=${o} context=${s} connected=${i==null?void 0:i.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${a==null?void 0:a.areKeysExchanged()}`),!o)throw fe.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i!=null&&i.connected?(fe.SocketService("[SocketService: resume()] already connected."),i.emit(gn.PING,{id:o,clientType:u?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||a!=null&&a.areKeysExchanged()||(l?yield e.sendMessage({type:gn.READY}):a==null||a.start({isOriginator:!1}))):(i==null||i.connect(),fe.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(ke.JOIN_CHANNEL,{channelId:o,context:`${s}_resume`,clientType:u?"dapp":"wallet"},(d,h)=>Se(this,void 0,void 0,function*(){try{yield hg(e,d,h)}catch{}}))),n.manualDisconnect=!1,n.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(n,r){var i,o,s,a,l;fe.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r!=null&&r.terminate&&((o=(i=n.state).removeFocusListener)===null||o===void 0||o.call(i),n.state.channelId=r.channelId,(s=n.state.socket)===null||s===void 0||s.removeAllListeners(),(a=n.state.keyExchange)===null||a===void 0||a.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(l=n.state.socket)===null||l===void 0||l.disconnect()}(this,e)}}var Lc,xr,T3;function lU(t){return()=>Se(this,void 0,void 0,function*(){var e,n,r;const{state:i}=t;if(i.authorized)return;yield Se(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield bd(500)});const o="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(fe.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${o}`),o!==1)return;const s=i.platformType===xr.MobileWeb||i.platformType===xr.ReactNative||i.platformType===xr.MetaMaskMobileWebview;fe.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),s&&(i.authorized=!0,t.emit(ke.AUTHORIZED))})}function cU(t){return e=>{const{state:n}=t;fe.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(ke.CHANNEL_CREATED,e)}}function uU(t,e){return()=>{var n,r,i,o;const{state:s}=t;fe.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${s.channelId} keysExchanged=${(r=(n=s.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),s.analytics&&ua(Object.assign(Object.assign({id:(i=s.channelId)!==null&&i!==void 0?i:"",event:s.reconnection?Pn.RECONNECT:s.isOriginator?Pn.REQUEST:Pn.REQUEST_MOBILE},s.originatorInfo),{commLayer:e,sdkVersion:s.sdkVersion,walletVersion:(o=s.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:Cl.version}),s.communicationServerUrl).catch(a=>{}),s.clientsConnected=!0,s.originatorInfoSent=!1,t.emit(ke.CLIENTS_CONNECTED)}}function dU(t){return e=>{const{state:n}=t;fe.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(ke.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus(Bn.DISCONNECTED)}}function fU(t){return e=>{var n;const{state:r}=t;if(fe.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus(Bn.WAITING),t.emit(ke.CLIENTS_WAITING,e),r.originatorConnectStarted){fe.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,o=setTimeout(()=>{fe.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus(Bn.TIMEOUT),clearTimeout(o)},i)}}}function hU(t,e){return n=>{var r,i,o,s,a,l,u,d;const{state:h}=t;if(fe.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${h.context} on commLayer.'keys_exchanged' channel=${h.channelId}`,n),(i=(r=h.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const m=Object.assign(Object.assign({},h.channelConfig),{channelId:(o=h.channelId)!==null&&o!==void 0?o:"",validUntil:((s=h.channelConfig)===null||s===void 0?void 0:s.validUntil)||Pd,localKey:h.communicationLayer.getKeyInfo().ecies.private,otherKey:h.communicationLayer.getKeyInfo().ecies.otherPubKey});(a=h.storageManager)===null||a===void 0||a.persistChannelConfig(m).catch(g=>{}),t.setConnectionStatus(Bn.LINKED)}(function(m,g){var b,w,E,y,_,x,P,M;const{state:L}=m;fe.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${L.channelId}`,g);const K=Object.assign(Object.assign({},L.channelConfig),{channelId:(b=L.channelId)!==null&&b!==void 0?b:"",validUntil:(E=(w=L.channelConfig)===null||w===void 0?void 0:w.validUntil)!==null&&E!==void 0?E:0,relayPersistence:L.relayPersistence,localKey:(_=(y=L.communicationLayer)===null||y===void 0?void 0:y.state.keyExchange)===null||_===void 0?void 0:_.getKeyInfo().ecies.private,otherKey:(P=(x=L.communicationLayer)===null||x===void 0?void 0:x.state.keyExchange)===null||P===void 0?void 0:P.getKeyInfo().ecies.otherPubKey,lastActive:g.getTime()});(M=L.storageManager)===null||M===void 0||M.persistChannelConfig(K)})(t,new Date),h.analytics&&h.channelId&&ua(Object.assign(Object.assign({id:h.channelId,event:n.isOriginator?Pn.CONNECTED:Pn.CONNECTED_MOBILE},h.originatorInfo),{sdkVersion:h.sdkVersion,commLayer:e,commLayerVersion:Cl.version,walletVersion:(l=h.walletInfo)===null||l===void 0?void 0:l.version}),h.communicationServerUrl).catch(m=>{}),h.isOriginator=n.isOriginator,n.isOriginator||((u=h.communicationLayer)===null||u===void 0||u.sendMessage({type:gn.READY}),h.ready=!0,h.paused=!1),n.isOriginator&&!h.originatorInfoSent&&((d=h.communicationLayer)===null||d===void 0||d.sendMessage({type:gn.ORIGINATOR_INFO,originatorInfo:h.originatorInfo,originator:h.originatorInfo}),h.originatorInfoSent=!0)}}function pU(t){return e=>{let n=e;e.message&&(n=n.message),function(r,i){const{state:o}=i;if(fe.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,o.isOriginator||r.type!==gn.ORIGINATOR_INFO)if(o.isOriginator&&r.type===gn.WALLET_INFO)(function(s,a){const{state:l}=s;l.walletInfo=a.walletInfo,l.paused=!1})(i,r);else{if(o.isOriginator&&r.type===gn.WALLET_INIT)(function(s,a){return Se(this,void 0,void 0,function*(){var l,u,d;const{state:h}=s;if(h.isOriginator){const m=a.data||{};if(typeof m=="object"&&"accounts"in m&&"chainId"in m&&"walletKey"in m)try{const{channelConfig:g}=s.state;if(fe.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(g,null,2)),g){const b=m.accounts,w=m.chainId,E=m.walletKey;let y,_=!1;"deeplinkProtocol"in m&&(_=!!m.deeplinkProtocol,s.state.deeplinkProtocolAvailable=_),"walletVersion"in m&&(y=m.walletVersion),yield(l=s.state.storageManager)===null||l===void 0?void 0:l.persistChannelConfig(Object.assign(Object.assign({},g),{otherKey:E,walletVersion:y,deeplinkProtocolAvailable:_,relayPersistence:!0})),yield(u=s.state.storageManager)===null||u===void 0?void 0:u.persistAccounts(b),yield(d=s.state.storageManager)===null||d===void 0?void 0:d.persistChainId(w)}s.emit(ke.WALLET_INIT,{accounts:m.accounts,chainId:m.chainId})}catch{}}})})(i,r).catch(s=>{fe.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===gn.TERMINATE)(function(s){return Se(this,void 0,void 0,function*(){const{state:a}=s;a.isOriginator&&(yield v4({options:{terminate:!0,sendMessage:!1},instance:s}),s.emit(ke.TERMINATE))})})(i).catch(s=>{fe.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===gn.PAUSE)(function(s){const{state:a}=s;a.paused=!0,s.setConnectionStatus(Bn.PAUSED)})(i);else if(r.type===gn.READY&&o.isOriginator)(function(s){const{state:a}=s;s.setConnectionStatus(Bn.LINKED);const l=a.paused;a.paused=!1,s.emit(ke.CLIENTS_READY,{isOriginator:a.isOriginator,walletInfo:a.walletInfo}),l&&(a.authorized=!0,s.emit(ke.AUTHORIZED))})(i);else{if(r.type===gn.OTP&&o.isOriginator)return void function(s,a){var l;const{state:u}=s;s.emit(ke.OTP,a.otpAnswer),"6.6".localeCompare(((l=u.walletInfo)===null||l===void 0?void 0:l.version)||"")===1&&s.emit(ke.SDK_RPC_CALL,{method:rU.ETH_REQUESTACCOUNTS,params:[]})}(i,r);r.type===gn.AUTHORIZED&&o.isOriginator&&function(s){const{state:a}=s;a.authorized=!0,s.emit(ke.AUTHORIZED)}(i)}i.emit(ke.MESSAGE,r)}else(function(s,a){var l;const{state:u}=s;(l=u.communicationLayer)===null||l===void 0||l.sendMessage({type:gn.WALLET_INFO,walletInfo:u.walletInfo}),u.originatorInfo=a.originatorInfo||a.originator,s.emit(ke.CLIENTS_READY,{isOriginator:u.isOriginator,originatorInfo:u.originatorInfo}),u.paused=!1})(i,r)}(n,t)}}function mU(t){return()=>{const{state:e}=t;fe.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,m4(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function gU(t){return()=>{const{state:e}=t;fe.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function yU(t){return()=>Se(this,void 0,void 0,function*(){var e,n,r,i,o,s,a;const{state:l}=t;fe.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${l.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(ke.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(ke.AUTHORIZED),t.emit(ke.CLIENTS_READY),t.emit(ke.CHANNEL_PERSISTENCE);try{l.channelConfig=Object.assign(Object.assign({},l.channelConfig),{localKey:(n=l.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=l.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=l.channelId)!==null&&i!==void 0?i:"",validUntil:(s=(o=l.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&s!==void 0?s:Pd,relayPersistence:!0}),yield(a=l.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(l.channelConfig)}catch{}})}function I3({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=Kc,instance:o}){var s,a,l,u,d,h,m,g,b,w,E;const{state:y}=o;if(fe.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(y,null,2)),t!==Lc.SOCKET)throw new Error("Invalid communication protocol");y.communicationLayer=new aU({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:y.transports,communicationServerUrl:i,context:y.context,ecies:r,logging:y.logging,remote:o});let _=typeof document<"u"&&document.URL||"",x=typeof document<"u"&&document.title||"";!((s=y.dappMetadata)===null||s===void 0)&&s.url&&(_=y.dappMetadata.url),!((a=y.dappMetadata)===null||a===void 0)&&a.name&&(x=y.dappMetadata.name);const P=(h=(u=(l=y.dappMetadata)===null||l===void 0?void 0:l.name)!==null&&u!==void 0?u:(d=y.dappMetadata)===null||d===void 0?void 0:d.url)!==null&&h!==void 0?h:"N/A",M=typeof window<"u"&&window.location!==void 0&&(m=window.location.hostname)!==null&&m!==void 0?m:P,L={url:_,title:x,source:(g=y.dappMetadata)===null||g===void 0?void 0:g.source,dappId:M,icon:((b=y.dappMetadata)===null||b===void 0?void 0:b.iconUrl)||((w=y.dappMetadata)===null||w===void 0?void 0:w.base64Icon),platform:y.platformType,apiVersion:Cl.version,connector:(E=y.dappMetadata)===null||E===void 0?void 0:E.connector};y.originatorInfo=L;const K={[ke.AUTHORIZED]:lU(o),[ke.MESSAGE]:pU(o),[ke.CHANNEL_PERSISTENCE]:yU(o),[ke.CLIENTS_CONNECTED]:uU(o,t),[ke.KEYS_EXCHANGED]:hU(o,t),[ke.SOCKET_DISCONNECTED]:gU(o),[ke.SOCKET_RECONNECT]:mU(o),[ke.CLIENTS_DISCONNECTED]:dU(o),[ke.KEY_INFO]:()=>{},[ke.CHANNEL_CREATED]:cU(o),[ke.CLIENTS_WAITING]:fU(o),[ke.RPC_UPDATE]:j=>{o.emit(ke.RPC_UPDATE,j)}};for(const[j,G]of Object.entries(K))try{y.communicationLayer.on(j,G)}catch{}}function v4(t){return Se(this,arguments,void 0,function*({options:e,instance:n}){const{state:r}=n;return fe.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise((i,o)=>{var s,a,l,u,d,h;e!=null&&e.terminate?(n.state.ready&&ua({id:(s=n.state.channelId)!==null&&s!==void 0?s:"",event:Pn.TERMINATED},n.state.communicationServerUrl).catch(m=>{}),r.ready=!1,r.paused=!1,(a=r.storageManager)===null||a===void 0||a.terminate((l=r.channelId)!==null&&l!==void 0?l:""),n.state.terminated=!0,e.sendMessage?!((u=r.communicationLayer)===null||u===void 0)&&u.getKeyInfo().keysExchanged&&n.state.communicationLayer&&g4(n.state.communicationLayer,{type:gn.TERMINATE}).then(()=>{i(!0)}).catch(m=>{o(m)}):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=rS(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(d=r.communicationLayer)===null||d===void 0||d.disconnect(e),n.setConnectionStatus(Bn.TERMINATED)):((h=r.communicationLayer)===null||h===void 0||h.disconnect(e),n.setConnectionStatus(Bn.DISCONNECTED),i(!0))})})}(Lc||(Lc={})).SOCKET="socket",function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"}(xr||(xr={}));class vU extends Wp.exports.EventEmitter2{constructor(e){super(),this.state={ready:!1,authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:Kc,context:"",persist:!1,clientsConnected:!1,sessionDuration:Pd,originatorConnectStarted:!1,debug:!1,_connectionStatus:Bn.DISCONNECTED},this._options=e;const{platformType:n,communicationLayerPreference:r,otherPublicKey:i,reconnect:o,walletInfo:s,dappMetadata:a,protocolVersion:l,transports:u,context:d,relayPersistence:h,ecies:m,analytics:g=!1,storage:b,sdkVersion:w,communicationServerUrl:E=Kc,logging:y,autoConnect:_={timeout:nU}}=e;this.state.otherPublicKey=i,this.state.dappMetadata=a,this.state.walletInfo=s,this.state.transports=u,this.state.platformType=n,this.state.analytics=g,this.state.protocolVersion=l??1,this.state.isOriginator=!i,this.state.relayPersistence=h,this.state.communicationServerUrl=E,this.state.context=d,this.state.terminated=!1,this.state.sdkVersion=w,this.setMaxListeners(50),this.setConnectionStatus(Bn.DISCONNECTED),b!=null&&b.duration&&(this.state.sessionDuration=Pd),this.state.storageOptions=b,this.state.autoConnectOptions=_,this.state.debug=(y==null?void 0:y.remoteLayer)===!0,(y==null?void 0:y.remoteLayer)===!0&&jr.enable("RemoteCommunication:Layer"),(y==null?void 0:y.serviceLayer)===!0&&jr.enable("SocketService:Layer"),(y==null?void 0:y.eciesLayer)===!0&&jr.enable("ECIES:Layer"),(y==null?void 0:y.keyExchangeLayer)===!0&&jr.enable("KeyExchange:Layer"),this.state.logging=y,b!=null&&b.storageManager&&(this.state.storageManager=b.storageManager),fe.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${h} isOriginator=${this.state.isOriginator} communicationLayerPreference=${r} otherPublicKey=${i} reconnect=${o}`),this.state.isOriginator||I3({communicationLayerPreference:r,otherPublicKey:i,reconnect:o,ecies:m,communicationServerUrl:E,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return Se(this,void 0,void 0,function*(){var e;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(Bn.LINKED),yield this.connectToChannel({channelId:n.channelId})))}I3({communicationLayerPreference:Lc.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return Se(this,void 0,void 0,function*(){return yield function(e){return Se(this,void 0,void 0,function*(){var n;const{state:r}=e;if(!r.storageManager)return void fe.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield r.storageManager.getPersistedChannelConfig({});if(fe.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return fe.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i==null?void 0:i.channelId,r.reconnection=!0,i;fe.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return Se(this,void 0,void 0,function*(){return function(e){return Se(this,void 0,void 0,function*(){var n,r,i,o,s,a;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(o=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(a=(s=e.communicationLayer)===null||s===void 0?void 0:s.getKeyInfo())===null||a===void 0?void 0:a.ecies.public};fe.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const l=yield e.communicationLayer.createChannel();fe.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",l);const u=Object.assign(Object.assign({},e.channelConfig),{channelId:l.channelId,localKey:l.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=l.channelId,e.channelConfig=u,{channelId:e.channelId,pubKey:l.pubKey,privKey:l.privKey}})}(this.state)})}clean(){return m4(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return function(i){return Se(this,arguments,void 0,function*({channelId:o,withKeyExchange:s,authorized:a,state:l}){var u,d,h;if(!zg(o))throw fe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(fe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} channelId=${o} withKeyExchange=${s}`),(u=l.communicationLayer)===null||u===void 0?void 0:u.isConnected())return void fe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} already connected - interrupt connection.`);l.channelId=o,yield(d=l.communicationLayer)===null||d===void 0?void 0:d.connectToChannel({channelId:o,authorized:a,withKeyExchange:s});const m=Object.assign(Object.assign({},l.channelConfig),{channelId:o,validUntil:Date.now()+l.sessionDuration});l.channelConfig=m,(h=l.storageManager)===null||h===void 0||h.persistChannelConfig(m)})}({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return function(n,r){return Se(this,void 0,void 0,function*(){var i,o;const{state:s}=n;fe.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context} paused=${s.paused} ready=${s.ready} relayPersistence=${s.relayPersistence} authorized=${s.authorized} socket=${(i=s.communicationLayer)===null||i===void 0?void 0:i.isConnected()} clientsConnected=${s.clientsConnected} status=${s._connectionStatus}`,r),s.relayPersistence||s.ready&&(!((o=s.communicationLayer)===null||o===void 0)&&o.isConnected())&&s.clientsConnected||(fe.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(a=>{n.once(ke.CLIENTS_READY,a)}),fe.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(l,u){return Se(this,void 0,void 0,function*(){return new Promise(d=>{var h;const{state:m}=l;fe.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context} ready=${m.ready} authorized=${m.authorized} method=${u.method}`),!m.isOriginator||m.authorized||m.relayPersistence?(h=m.communicationLayer)===null||h===void 0||h.sendMessage(u).then(g=>{d(g)}).catch(g=>{d(!1)}):l.once(ke.AUTHORIZED,()=>{var g;fe.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(g=m.communicationLayer)===null||g===void 0||g.sendMessage(u).then(b=>{d(b)}).catch(b=>{d(!1)})})})})}(n,r)}catch(a){throw a}})}(this,e)}testStorage(){return Se(this,void 0,void 0,function*(){return function(e){return Se(this,void 0,void 0,function*(){var n;const r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();fe.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return Se(this,void 0,void 0,function*(){var e;fe.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()})}testLogger(){fe.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),fe.SocketService(`testLogger() channel=${this.state.channelId}`),fe.Ecies(`testLogger() channel=${this.state.channelId}`),fe.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;fe.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(ke.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(ke.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return Se(this,void 0,void 0,function*(){var e;fe.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(Bn.PAUSED)})}getVersion(){return Cl.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return Se(this,void 0,void 0,function*(){return function(e){return Se(this,void 0,void 0,function*(){var n;const{state:r}=e;fe.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus(Bn.LINKED)})}(this)})}encrypt(e){var n,r,i;const o=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),s=o==null?void 0:o.getOtherPublicKey();if(!s)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,s)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(n){return Se(this,arguments,void 0,function*({channelId:r,state:i}){var o,s,a;if(!zg(r))throw fe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void fe.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:l}=(s=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&s!==void 0?s:{};l!=null&&l.connected||(fe.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),l==null||l.connect()),ua(Object.assign(Object.assign({id:r,event:Pn.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:Cl.version,walletVersion:(a=i.walletInfo)===null||a===void 0?void 0:a.version}),i.communicationServerUrl).catch(u=>{}),yield new Promise((u,d)=>{l==null||l.emit(ke.REJECTED,{channelId:r},(h,m)=>{fe.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${l==null?void 0:l.id}`,{error:h,response:m}),h?d(h):u(m)})})})}({channelId:e,state:this.state})}disconnect(e){return Se(this,void 0,void 0,function*(){return v4({options:e,instance:this})})}}(function(t){t.RENEW="renew",t.LINK="link"})(T3||(T3={}));var wU="ERC721",bU="ERC1155",Sn={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function EU(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{var o;e.ethDecryptDeprecation||n.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[wU,bU].includes(((o=n.params)==null?void 0:o.type)||"")&&(t.warn(Sn.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(Sn.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(Sn.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var w4=4294967295,P3=Math.floor(Math.random()*w4),vS=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},hl=(t,e,n)=>(vS(t,e,"read from private field"),n?n.call(t):e.get(t)),ko=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},$0=(t,e,n,r)=>(vS(t,e,"write to private field"),e.set(t,n),n),Or=(t,e,n)=>(vS(t,e,"access private method"),n),pg=-32600,kh=-32603,R3={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function M3(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var ny=(t,e)=>Object.hasOwnProperty.call(t,e);class _U extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function aa(t){return typeof t=="object"&&t!=null}function ys(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function xU(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${ys(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*O3(t,e,n,r){(function(i){return aa(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(const i of t){const o=xU(i,e,n,r);o&&(yield o)}}function*wS(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&aa(e.schema)&&aa(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l="valid";for(const u of e.validator(t,a))u.explanation=n.message,l="not_valid",yield[u,void 0];for(let[u,d,h]of e.entries(t,a)){const m=wS(d,h,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const g of m)g[0]?(l=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):o&&(d=g[1],u===void 0?t=d:t instanceof Map?t.set(u,d):t instanceof Set?t.add(d):aa(t)&&(d!==void 0||u in t)&&(t[u]=d))}if(l!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,l="not_refined",yield[u,void 0];l==="valid"&&(yield[void 0,t])}class Do{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,this.validator=i?(l,u)=>O3(i(l,u),u,this,l):()=>[],this.refiner=o?(l,u)=>O3(o(l,u),u,this,l):()=>[]}assert(e,n){return b4(e,this,n)}create(e,n){return E4(e,this,n)}is(e){return Xd(e,this)}mask(e,n){return function(r,i,o){const s=tp(r,i,{coerce:!0,mask:!0,message:o});if(s[0])throw s[0];return s[1]}(e,this,n)}validate(e,n={}){return tp(e,this,n)}}function b4(t,e,n){const r=tp(t,e,{message:n});if(r[0])throw r[0]}function E4(t,e,n){const r=tp(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Xd(t,e){return!tp(t,e)[0]}function tp(t,e,n={}){const r=wS(t,e,n),i=function(o){const{done:s,value:a}=o.next();return s?void 0:a}(r);return i[0]?[new _U(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function kl(t,e){return new Do({type:t,schema:null,validator:e})}function N3(t){let e;return new Do({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function _4(t){return new Do({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${ys(e)}`})}function x4(t){const e=ys(t),n=typeof t;return new Do({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${ys(r)}`})}function S4(){return kl("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ys(t)}`)}function A4(t){const e=t?Object.keys(t):[],n=kl("never",()=>!1);return new Do({type:"object",schema:t||null,*entries(r){if(t&&aa(r)){const i=new Set(Object.keys(r));for(const o of e)i.delete(o),yield[o,r[o],t[o]];for(const o of i)yield[o,r[o],n]}},validator:r=>aa(r)||`Expected an object, but received: ${ys(r)}`,coercer:r=>aa(r)?{...r}:r})}function L3(t){return new Do({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function C4(t,e){return new Do({type:"record",schema:null,*entries(n){if(aa(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>aa(n)||`Expected an object, but received: ${ys(n)}`})}function Tl(){return kl("string",t=>typeof t=="string"||`Expected a string, but received: ${ys(t)}`)}function Dv(t){const e=t.map(n=>n.type).join(" | ");return new Do({type:"union",schema:null,coercer(n){for(const r of t){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of t){const[...s]=wS(n,o,r),[a]=s;if(!a[0])return[];for(const[l]of s)l&&i.push(l)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ys(n)}`,...i]}})}var SU=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function k4(){throw new Error("setTimeout has not been defined")}function T4(){throw new Error("clearTimeout has not been defined")}var nl=k4,rl=T4;function I4(t){if(nl===setTimeout)return setTimeout(t,0);if((nl===k4||!nl)&&setTimeout)return nl=setTimeout,setTimeout(t,0);try{return nl(t,0)}catch{try{return nl.call(null,t,0)}catch{return nl.call(this,t,0)}}}typeof Hr.setTimeout=="function"&&(nl=setTimeout),typeof Hr.clearTimeout=="function"&&(rl=clearTimeout);var xc,ia=[],Ed=!1,mg=-1;function AU(){Ed&&xc&&(Ed=!1,xc.length?ia=xc.concat(ia):mg=-1,ia.length&&P4())}function P4(){if(!Ed){var t=I4(AU);Ed=!0;for(var e=ia.length;e;){for(xc=ia,ia=[];++mg<e;)xc&&xc[mg].run();mg=-1,e=ia.length}xc=null,Ed=!1,function(n){if(rl===clearTimeout)return clearTimeout(n);if((rl===T4||!rl)&&clearTimeout)return rl=clearTimeout,clearTimeout(n);try{return rl(n)}catch{try{return rl.call(null,n)}catch{return rl.call(this,n)}}}(t)}}function R4(t,e){this.fun=t,this.array=e}function su(){}R4.prototype.run=function(){this.fun.apply(null,this.array)};var CU=su,kU=su,TU=su,IU=su,PU=su,RU=su,MU=su,Qu=Hr.performance||{},OU=Qu.now||Qu.mozNow||Qu.msNow||Qu.oNow||Qu.webkitNow||function(){return new Date().getTime()},NU=new Date,Vt={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ia.push(new R4(t,e)),ia.length!==1||Ed||I4(P4)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:CU,addListener:kU,once:TU,off:IU,removeListener:PU,removeAllListeners:RU,emit:MU,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*OU.call(Qu),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-NU)/1e3}},np=t=>A4(t);function B3({path:t,branch:e}){const n=t[t.length-1];return ny(e[e.length-2],n)}function ry(t){return new Do({...t,type:`optional ${t.type}`,validator:(e,n)=>!B3(n)||t.validator(e,n),refiner:(e,n)=>!B3(n)||t.refiner(e,n)})}var H0,D3,F3,iy=Dv([x4(null),kl("boolean",t=>typeof t=="boolean"),kl("finite number",t=>Xd(t,S4())&&Number.isFinite(t)),Tl(),_4(N3(()=>iy)),C4(Tl(),N3(()=>iy))]),rp=(H0=iy,D3=kl("any",()=>!0),F3=t=>(function(e,n,r="Assertion failed",i=SU){try{b4(e,n)}catch(o){throw function(s,a){var u,d;return l=s,typeof((d=(u=l==null?void 0:l.prototype)==null?void 0:u.constructor)==null?void 0:d.name)=="string"?new s({message:a}):s({message:a});var l}(i,`${r}: ${function(s){return function(a){return function(l){return typeof l=="object"&&l!==null&&"message"in l}(a)&&typeof a.message=="string"?a.message:a==null?"":String(a)}(s).replace(/\.$/u,"")}(o)}.`)}}(t,iy),JSON.parse(JSON.stringify(t,(e,n)=>{if(e!=="__proto__"&&e!=="constructor")return n}))),new Do({...H0,coercer:(t,e)=>Xd(t,D3)?H0.coercer(F3(t),e):H0.coercer(t,e)}));function A_(t){try{return function(e){E4(e,rp)}(t),!0}catch{return!1}}var Th=x4("2.0"),gg=function(t){return new Do({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}(Dv([S4(),Tl()])),C_=np({code:kl("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ys(t)}`),message:Tl(),data:ry(rp),stack:ry(Tl())}),M4=Dv([C4(Tl(),rp),_4(rp)]),LU=np({id:gg,jsonrpc:Th,method:Tl(),params:ry(M4)}),BU=np({jsonrpc:Th,method:Tl(),params:ry(M4)});function j3(t){return Xd(t,LU)}function U3(t){return Xd(t,C_)}A4({id:gg,jsonrpc:Th,result:L3(kl("unknown",()=>!0)),error:L3(C_)}),Dv([np({id:gg,jsonrpc:Th,result:rp}),np({id:gg,jsonrpc:Th,error:C_})]);var DU="Unspecified error message. This is a bug, please report it.",FU={code:kh,message:O4(kh)},jU="Unspecified server error.";function O4(t,e=DU){if(function(n){return Number.isInteger(n)}(t)){const n=t.toString();if(ny(R3,n))return R3[n].message;if(function(r){return r>=-32099&&r<=-32e3}(t))return jU}return e}function $3(t,{fallbackError:e=FU,shouldIncludeStack:n=!0}={}){if(!U3(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(i,o){return i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function"?i.serialize():U3(i)?i:{...o,data:{cause:N4(i)}}}(t,e);return n||delete r.stack,r}function N4(t){return Array.isArray(t)?t.map(e=>A_(e)?e:M3(e)?H3(e):null):M3(t)?H3(t):A_(t)?t:null}function H3(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return A_(r)&&(e[n]=r),e},{})}var L4=hh;hh.default=hh,hh.stable=V3,hh.stableStringify=V3;var oy="[...]",B4="[Circular]",qc=[],Sc=[];function D4(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function hh(t,e,n,r){var i;r===void 0&&(r=D4()),k_(t,"",0,[],void 0,0,r);try{i=Sc.length===0?JSON.stringify(t,e,n):JSON.stringify(t,F4(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;qc.length!==0;){var o=qc.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function _d(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),qc.push([r,n,e,i])):Sc.push([e,n,t]):(r[n]=t,qc.push([r,n,e]))}function k_(t,e,n,r,i,o,s){var a;if(o+=1,typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void _d(B4,t,e,i);if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void _d(oy,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)k_(t[a],a,a,r,t,o,s);else{var l=Object.keys(t);for(a=0;a<l.length;a++){var u=l[a];k_(t[u],u,a,r,t,o,s)}}r.pop()}}function UU(t,e){return t<e?-1:t>e?1:0}function V3(t,e,n,r){r===void 0&&(r=D4());var i,o=T_(t,"",0,[],void 0,0,r)||t;try{i=Sc.length===0?JSON.stringify(o,e,n):JSON.stringify(o,F4(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;qc.length!==0;){var s=qc.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function T_(t,e,n,r,i,o,s){var a;if(o+=1,typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void _d(B4,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void _d(oy,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)T_(t[a],a,a,r,t,o,s);else{var l={},u=Object.keys(t).sort(UU);for(a=0;a<u.length;a++){var d=u[a];T_(t[d],d,a,r,t,o,s),l[d]=t[d]}if(i===void 0)return l;qc.push([i,e,t]),i[e]=l}r.pop()}}function F4(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(Sc.length>0)for(var r=0;r<Sc.length;r++){var i=Sc[r];if(i[1]===e&&i[0]===n){n=i[2],Sc.splice(r,1);break}}return t.call(this,e,n)}}var $U=Lv(L4),Gs=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,function(e){if(typeof e!="object"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}}(this.data)&&(t.data.cause=N4(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return $U(this.serialize(),HU,2)}};function HU(t,e){if(e!=="[Circular]")return e}var Ih=t=>function(e,n){const[r,i]=function(o){if(o){if(typeof o=="string")return[o];if(typeof o=="object"&&!Array.isArray(o)){const{message:s,data:a}=o;if(s&&typeof s!="string")throw new Error("Must specify string message.");return[s??void 0,a]}}return[]}(n);return new Gs(e,r??O4(e),i)}(pg,t),j4={};function il(){}function Wt(){Wt.init.call(this)}function U4(t){return t._maxListeners===void 0?Wt.defaultMaxListeners:t._maxListeners}function z3(t,e,n,r){var i,o,s;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new il,t._eventsCount=0),s){if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=U4(t))&&i>0&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(l){typeof console.warn=="function"?console.warn(l):console.log(l)}(a)}}else s=o[e]=n,++t._eventsCount;return t}function K3(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function q3(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function Zf(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}il.prototype=Object.create(null),Wt.EventEmitter=Wt,Wt.usingDomains=!1,Wt.prototype.domain=void 0,Wt.prototype._events=void 0,Wt.prototype._maxListeners=void 0,Wt.defaultMaxListeners=10,Wt.init=function(){this.domain=null,Wt.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new il,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Wt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Wt.prototype.getMaxListeners=function(){return U4(this)},Wt.prototype.emit=function(t){var e,n,r,i,o,s,a,l=t==="error";if(s=this._events)l=l&&s.error==null;else if(!l)return!1;if(a=this.domain,l){if(e=arguments[1],!a){if(e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var d=typeof n=="function";switch(r=arguments.length){case 1:(function(h,m,g){if(m)h.call(g);else for(var b=h.length,w=Zf(h,b),E=0;E<b;++E)w[E].call(g)})(n,d,this);break;case 2:(function(h,m,g,b){if(m)h.call(g,b);else for(var w=h.length,E=Zf(h,w),y=0;y<w;++y)E[y].call(g,b)})(n,d,this,arguments[1]);break;case 3:(function(h,m,g,b,w){if(m)h.call(g,b,w);else for(var E=h.length,y=Zf(h,E),_=0;_<E;++_)y[_].call(g,b,w)})(n,d,this,arguments[1],arguments[2]);break;case 4:(function(h,m,g,b,w,E){if(m)h.call(g,b,w,E);else for(var y=h.length,_=Zf(h,y),x=0;x<y;++x)_[x].call(g,b,w,E)})(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];(function(h,m,g,b){if(m)h.apply(g,b);else for(var w=h.length,E=Zf(h,w),y=0;y<w;++y)E[y].apply(g,b)})(n,d,this,i)}return!0},Wt.prototype.addListener=function(t,e){return z3(this,t,e,!1)},Wt.prototype.on=Wt.prototype.addListener,Wt.prototype.prependListener=function(t,e){return z3(this,t,e,!0)},Wt.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,K3(this,t,e)),this},Wt.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,K3(this,t,e)),this},Wt.prototype.removeListener=function(t,e){var n,r,i,o,s;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new il:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new il,this;delete r[t]}else(function(a,l){for(var u=l,d=u+1,h=a.length;d<h;u+=1,d+=1)a[u]=a[d];a.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},Wt.prototype.off=function(t,e){return this.removeListener(t,e)},Wt.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new il,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new il:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),o=0;o<i.length;++o)(r=i[o])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new il,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},Wt.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e=="function"?[e.listener||e]:function(i){for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o}(e):[],n},Wt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):q3.call(t,e)},Wt.prototype.listenerCount=q3,Wt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var bS=Yp(Object.freeze({__proto__:null,EventEmitter:Wt,default:Wt}));Object.defineProperty(j4,"__esModule",{value:!0});const VU=bS;function G3(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}let zU=class extends VU.EventEmitter{emit(t,...e){let n=t==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let o;if(e.length>0&&([o]=e),o instanceof Error)throw o;const s=new Error("Unhandled error."+(o?` (${o.message})`:""));throw s.context=o,s}const i=r[t];if(i===void 0)return!1;if(typeof i=="function")G3(i,this,e);else{const o=i.length,s=function(a){const l=a.length,u=new Array(l);for(let d=0;d<l;d+=1)u[d]=a[d];return u}(i);for(let a=0;a<o;a+=1)G3(s[a],this,e)}return!0}};var sy,ul,cd,ph,yg,vg,I_,wg,P_,j1,W3,bg,R_,U1,Y3,Ph,ay,$1,Q3,$4=j4.default=zU,xo=class Eg extends $4{constructor({notificationHandler:e}={}){super(),ko(this,ph),ko(this,vg),ko(this,wg),ko(this,sy,!1),ko(this,ul,void 0),ko(this,cd,void 0),$0(this,ul,[]),$0(this,cd,e)}destroy(){hl(this,ul).forEach(e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}),$0(this,ul,[]),$0(this,sy,!0)}push(e){Or(this,ph,yg).call(this),hl(this,ul).push(e)}handle(e,n){if(Or(this,ph,yg).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?Or(this,vg,I_).call(this,e,n):Or(this,vg,I_).call(this,e):n?Or(this,wg,P_).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return Or(this,ph,yg).call(this),async(e,n,r,i)=>{var o,s;try{const[a,l,u]=await Or(o=Eg,bg,R_).call(o,e,n,hl(this,ul));return l?(await Or(s=Eg,Ph,ay).call(s,u),i(a)):r(async d=>{var h;try{await Or(h=Eg,Ph,ay).call(h,u)}catch(m){return d(m)}return d()})}catch(a){return i(a)}}}async _promiseHandle(e){return new Promise((n,r)=>{Or(this,wg,P_).call(this,e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}};sy=new WeakMap,ul=new WeakMap,cd=new WeakMap,ph=new WeakSet,yg=function(){if(hl(this,sy))throw new Error("This engine is destroyed and can no longer be used.")},vg=new WeakSet,I_=async function(t,e){try{if(t.length===0){const r=[{id:null,jsonrpc:"2.0",error:new Gs(pg,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,r):r}const n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter(r=>r!==void 0);return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},wg=new WeakSet,P_=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!="object"){const s=new Gs(pg,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(s,{id:null,jsonrpc:"2.0",error:s})}if(typeof t.method!="string"){const s=new Gs(pg,"Must specify a string method. Received: "+typeof t.method,{request:t});return hl(this,cd)&&!j3(t)?e(null):e(s,{id:t.id??null,jsonrpc:"2.0",error:s})}if(hl(this,cd)&&Xd(t,BU)&&!j3(t)){try{await hl(this,cd).call(this,t)}catch(s){return e(s)}return e(null)}let r=null;const i={...t},o={id:i.id,jsonrpc:i.jsonrpc};try{await Or(n=xo,j1,W3).call(n,i,o,hl(this,ul))}catch(s){r=s}return r&&(delete o.result,o.error||(o.error=$3(r))),e(r,o)},j1=new WeakSet,W3=async function(t,e,n){var r,i,o;const[s,a,l]=await Or(r=xo,bg,R_).call(r,t,e,n);if(Or(i=xo,$1,Q3).call(i,t,e,a),await Or(o=xo,Ph,ay).call(o,l),s)throw s},bg=new WeakSet,R_=async function(t,e,n){var r;const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Or(r=xo,U1,Y3).call(r,t,e,a,i),s)break;return[o,s,i.reverse()]},U1=new WeakSet,Y3=async function(t,e,n,r){return new Promise(i=>{const o=a=>{const l=a||e.error;l&&(e.error=$3(l)),i([l,!0])},s=a=>{e.error?o(e.error):(a&&(typeof a!="function"&&o(new Gs(kh,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof a}" for request:
${H1(t)}`,{request:t})),r.push(a)),i([null,!1]))};try{n(t,e,s,o)}catch(a){o(a)}})},Ph=new WeakSet,ay=async function(t){for(const e of t)await new Promise((n,r)=>{e(i=>i?r(i):n())})},$1=new WeakSet,Q3=function(t,e,n){if(!ny(e,"result")&&!ny(e,"error"))throw new Gs(kh,`JsonRpcEngine: Response has no error or result for request:
${H1(t)}`,{request:t});if(!n)throw new Gs(kh,`JsonRpcEngine: Nothing ended request:
${H1(t)}`,{request:t})},ko(xo,j1),ko(xo,bg),ko(xo,U1),ko(xo,Ph),ko(xo,$1);var KU=xo;function H1(t){return JSON.stringify(t,null,2)}var H4=Object.freeze(["eth_subscription"]),qU=(t=console)=>[(e,n,r,i)=>{const o=e.id,s=P3=(P3+1)%w4;e.id=s,n.id=s,r(a=>{e.id=o,n.id=o,a()})},GU(t),EU(t)];function GU(t){return(e,n,r)=>{typeof e.method=="string"&&e.method||(n.error=Ih({message:"The request 'method' must be a non-empty string.",data:e})),r(i=>{const{error:o}=n;return o&&t.error(`MetaMask - RPC Error: ${o.message}`,o),i()})}}var _g=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},V4=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),z4=()=>{};async function Z3(t,e){try{const n=await async function(){return{name:WU(window),icon:await YU(window)}}();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},z4)}catch(n){e.error({message:Sn.errors.sendSiteMetadata(),originalError:n})}}function WU(t){const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function YU(t){const{document:e}=t,n=e.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await QU(r.href))return r.href;return null}async function QU(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}var K4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},es=(t,e,n)=>(K4(t,e,"read from private field"),n?n.call(t):e.get(t)),M_=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ws=(t,e,n,r)=>(K4(t,e,"write to private field"),e.set(t,n),n);function J3(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}class ZU extends Wt{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&([s]=n),s instanceof Error)throw s;const a=new Error("Unhandled error."+(s?` (${s.message})`:""));throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")J3(o,this,n);else{const s=o.length,a=function(l){const u=l.length,d=new Array(u);for(let h=0;h<u;h+=1)d[h]=l[h];return d}(o);for(let l=0;l<s;l+=1)J3(a[l],this,n)}return!0}}var ol,hc,JU=Lv(function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n}),q4=class G4 extends ZU{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),M_(this,ol,void 0),M_(this,hc,void 0),this._log=e,this.setMaxListeners(n),this._state={...G4._defaultState},Ws(this,hc,null),Ws(this,ol,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new KU;r.forEach(o=>i.push(o)),this._rpcEngine=i}get chainId(){return es(this,ol)}get selectedAddress(){return es(this,hc)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ih({message:Sn.errors.invalidRequestArgs(),data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Ih({message:Sn.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Ih({message:Sn.errors.invalidRequestParams(),data:e});const i=r==null?{method:n}:{method:n,params:r};return new Promise((o,s)=>{this._rpcRequest(i,_g(o,s))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:o}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:o}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(r=(i,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),n(i,o)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(Sn.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new Gs(1013,n??Sn.errors.disconnected()),this._log.debug(r)):(r=new Gs(1011,n??Sn.errors.permanentlyDisconnected()),this._log.error(r),Ws(this,ol,null),this._state.accounts=null,Ws(this,hc,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:e}={}){V4(e)?(this._handleConnect(e),e!==es(this,ol)&&(Ws(this,ol,e),this._state.initialized&&this.emit("chainChanged",es(this,ol)))):this._log.error(Sn.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}if(!JU(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,es(this,hc)!==r[0]&&Ws(this,hc,r[0]||null),this._state.initialized)){const i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};ol=new WeakMap,hc=new WeakMap,q4._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var X3,eI,XU=q4,O_={exports:{}};function W4(){return eI?X3:(eI=1,X3=bS.EventEmitter)}var ES,_S=Yp(wj);ES=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var Y4=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},e$=/%[sdj%]/g;function Fv(t){if(!ip(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(us(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(e$,function(a){if(a==="%%")return"%";if(n>=i)return a;switch(a){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return a}}),s=r[n];n<i;s=r[++n])Zp(s)||!au(s)?o+=" "+s:o+=" "+us(s);return o}function xS(t,e){if(os(Hr.process))return function(){return xS(t,e).apply(this,arguments)};if(Vt.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(Vt.throwDeprecation)throw new Error(e);Vt.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var V1,V0={};function Q4(t){return os(V1)&&(V1=Vt.env.NODE_DEBUG||""),t=t.toUpperCase(),V0[t]||(new RegExp("\\b"+t+"\\b","i").test(V1)?V0[t]=function(){var e=Fv.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:V0[t]=function(){}),V0[t]}function us(t,e){var n={seen:[],stylize:n$};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),jv(e)?n.showHidden=e:e&&kS(n,e),os(n.showHidden)&&(n.showHidden=!1),os(n.depth)&&(n.depth=2),os(n.colors)&&(n.colors=!1),os(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=t$),ly(n,t,n.depth)}function t$(t,e){var n=us.styles[e];return n?"\x1B["+us.colors[n][0]+"m"+t+"\x1B["+us.colors[n][1]+"m":t}function n$(t,e){return t}function ly(t,e,n){if(t.customInspect&&e&&Oh(e.inspect)&&e.inspect!==us&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return ip(r)||(r=ly(t,r,n)),r}var i=function(m,g){if(os(g))return m.stylize("undefined","undefined");if(ip(g)){var b="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m.stylize(b,"string")}return AS(g)?m.stylize(""+g,"number"):jv(g)?m.stylize(""+g,"boolean"):Zp(g)?m.stylize("null","null"):void 0}(t,e);if(i)return i;var o=Object.keys(e),s=function(m){var g={};return m.forEach(function(b,w){g[b]=!0}),g}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Mh(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return z1(e);if(o.length===0){if(Oh(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Rh(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(cy(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Mh(e))return z1(e)}var l,u="",d=!1,h=["{","}"];return SS(e)&&(d=!0,h=["[","]"]),Oh(e)&&(u=" [Function"+(e.name?": "+e.name:"")+"]"),Rh(e)&&(u=" "+RegExp.prototype.toString.call(e)),cy(e)&&(u=" "+Date.prototype.toUTCString.call(e)),Mh(e)&&(u=" "+z1(e)),o.length!==0||d&&e.length!=0?n<0?Rh(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),l=d?function(m,g,b,w,E){for(var y=[],_=0,x=g.length;_<x;++_)n6(g,String(_))?y.push(K1(m,g,b,w,String(_),!0)):y.push("");return E.forEach(function(P){P.match(/^\d+$/)||y.push(K1(m,g,b,w,P,!0))}),y}(t,e,n,s,o):o.map(function(m){return K1(t,e,n,s,m,d)}),t.seen.pop(),function(m,g,b){var w=m.reduce(function(E,y){return y.indexOf(`
`),E+y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return w>60?b[0]+(g===""?"":g+`
 `)+" "+m.join(`,
  `)+" "+b[1]:b[0]+g+" "+m.join(", ")+" "+b[1]}(l,u,h)):h[0]+u+h[1]}function z1(t){return"["+Error.prototype.toString.call(t)+"]"}function K1(t,e,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),n6(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=Zp(n)?ly(t,l.value,null):ly(t,l.value,n-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`)):a=t.stylize("[Circular]","special")),os(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function SS(t){return Array.isArray(t)}function jv(t){return typeof t=="boolean"}function Zp(t){return t===null}function Z4(t){return t==null}function AS(t){return typeof t=="number"}function ip(t){return typeof t=="string"}function J4(t){return typeof t=="symbol"}function os(t){return t===void 0}function Rh(t){return au(t)&&CS(t)==="[object RegExp]"}function au(t){return typeof t=="object"&&t!==null}function cy(t){return au(t)&&CS(t)==="[object Date]"}function Mh(t){return au(t)&&(CS(t)==="[object Error]"||t instanceof Error)}function Oh(t){return typeof t=="function"}function X4(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function e6(t){return xe.isBuffer(t)}function CS(t){return Object.prototype.toString.call(t)}function q1(t){return t<10?"0"+t.toString(10):t.toString(10)}us.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},us.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var r$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function t6(){console.log("%s - %s",function(){var t=new Date,e=[q1(t.getHours()),q1(t.getMinutes()),q1(t.getSeconds())].join(":");return[t.getDate(),r$[t.getMonth()],e].join(" ")}(),Fv.apply(null,arguments))}function kS(t,e){if(!e||!au(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function n6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var pc=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function TS(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(pc&&t[pc]){var e;if(typeof(e=t[pc])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,pc,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise(function(a,l){n=a,r=l}),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push(function(a,l){a?r(a):n(l)});try{t.apply(this,o)}catch(a){r(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),pc&&Object.defineProperty(e,pc,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,Y4(t))}function i$(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function r6(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(a){Vt.nextTick(s.bind(null,null,a))},function(a){Vt.nextTick(i$.bind(null,a,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Y4(t)),e}TS.custom=pc;var G1,tI,W1,nI,o$={inherits:ES,_extend:kS,log:t6,isBuffer:e6,isPrimitive:X4,isFunction:Oh,isError:Mh,isDate:cy,isObject:au,isRegExp:Rh,isUndefined:os,isSymbol:J4,isString:ip,isNumber:AS,isNullOrUndefined:Z4,isNull:Zp,isBoolean:jv,isArray:SS,inspect:us,deprecate:xS,format:Fv,debuglog:Q4,promisify:TS,callbackify:r6},i6=Yp(Object.freeze({__proto__:null,_extend:kS,callbackify:r6,debuglog:Q4,default:o$,deprecate:xS,format:Fv,inherits:ES,inspect:us,isArray:SS,isBoolean:jv,isBuffer:e6,isDate:cy,isError:Mh,isFunction:Oh,isNull:Zp,isNullOrUndefined:Z4,isNumber:AS,isObject:au,isPrimitive:X4,isRegExp:Rh,isString:ip,isSymbol:J4,isUndefined:os,log:t6,promisify:TS}));function s$(){if(tI)return G1;function t(a,l){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);l&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),u.push.apply(u,d)}return u}function e(a){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?t(Object(u),!0).forEach(function(d){n(a,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(u,d))})}return a}function n(a,l,u){return(l=r(l))in a?Object.defineProperty(a,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[l]=u,a}function r(a){var l=function(u,d){if(typeof u!="object"||u===null)return u;var h=u[Symbol.toPrimitive];if(h!==void 0){var m=h.call(u,"string");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(a);return typeof l=="symbol"?l:String(l)}tI=1;var i=_S.Buffer,o=i6.inspect,s=o&&o.custom||"inspect";return G1=function(){function a(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return function(l,u,d){u&&function(h,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,r(b.key),b)}}(l.prototype,u),Object.defineProperty(l,"prototype",{writable:!1})}(a,[{key:"push",value:function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d}},{key:"concat",value:function(l){if(this.length===0)return i.alloc(0);for(var u,d,h,m=i.allocUnsafe(l>>>0),g=this.head,b=0;g;)u=g.data,d=m,h=b,i.prototype.copy.call(u,d,h),b+=g.data.length,g=g.next;return m}},{key:"consume",value:function(l,u){var d;return l<this.head.data.length?(d=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):d=l===this.head.data.length?this.shift():u?this._getString(l):this._getBuffer(l),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var u=this.head,d=1,h=u.data;for(l-=h.length;u=u.next;){var m=u.data,g=l>m.length?m.length:l;if(g===m.length?h+=m:h+=m.slice(0,l),(l-=g)==0){g===m.length?(++d,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=m.slice(g));break}++d}return this.length-=d,h}},{key:"_getBuffer",value:function(l){var u=i.allocUnsafe(l),d=this.head,h=1;for(d.data.copy(u),l-=d.data.length;d=d.next;){var m=d.data,g=l>m.length?m.length:l;if(m.copy(u,u.length-l,0,g),(l-=g)==0){g===m.length?(++h,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=m.slice(g));break}++h}return this.length-=h,u}},{key:s,value:function(l,u){return o(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),a}(),G1}function o6(){if(nI)return W1;function t(r,i){n(r,i),e(r)}function e(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function n(r,i){r.emit("error",i)}return nI=1,W1={destroy:function(r,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Vt.nextTick(n,this,r)):Vt.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(l){!i&&l?o._writableState?o._writableState.errorEmitted?Vt.nextTick(e,o):(o._writableState.errorEmitted=!0,Vt.nextTick(t,o,l)):Vt.nextTick(t,o,l):i?(Vt.nextTick(e,o),i(l)):Vt.nextTick(e,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,i){var o=r._readableState,s=r._writableState;o&&o.autoDestroy||s&&s.autoDestroy?r.destroy(i):r.emit("error",i)}},W1}var rI,iI,lu={},s6={};function Hi(t,e,n){n||(n=Error);var r=function(i){var o,s;function a(l,u,d){return i.call(this,function(h,m,g){return typeof e=="string"?e:e(h,m,g)}(l,u,d))||this}return s=i,(o=a).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,a}(n);r.prototype.name=n.name,r.prototype.code=t,s6[t]=r}function oI(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function a6(){if(iI)return rI;iI=1;var t=lu.codes.ERR_INVALID_OPT_VALUE;return rI={getHighWaterMark:function(e,n,r,i){var o=function(s,a,l){return s.highWaterMark!=null?s.highWaterMark:a?s[l]:null}(n,i,r);if(o!=null){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new t(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}Hi("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),Hi("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,o;if(typeof e=="string"&&(i="not ",e.substr(0,4)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(a,l,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-9,u)===l}(t," argument"))o="The ".concat(t," ").concat(r," ").concat(oI(e,"type"));else{var s=function(a,l,u){return typeof u!="number"&&(u=0),!(u+1>a.length)&&a.indexOf(".",u)!==-1}(t)?"property":"argument";o='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(oI(e,"type"))}return o+". Received type ".concat(typeof n)},TypeError),Hi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Hi("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),Hi("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Hi("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),Hi("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Hi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Hi("ERR_STREAM_WRITE_AFTER_END","write after end"),Hi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Hi("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),Hi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),lu.codes=s6;var Y1,sI,Q1,aI,Z1,lI,a$=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Jp=Yp(Object.freeze({__proto__:null,default:a$}));function l$(){if(sI)return Y1;function t(e){try{if(!oo.localStorage)return!1}catch{return!1}var n=oo.localStorage[e];return n!=null&&String(n).toLowerCase()==="true"}return sI=1,Y1=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}},Y1}function l6(){if(aI)return Q1;function t(q){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(C,S,T){var R=C.entry;for(C.entry=null;R;){var B=R.callback;S.pendingcb--,B(void 0),R=R.next}S.corkedRequestsFree.next=C})(k,q)}}var e;aI=1,Q1=M,M.WritableState=P;var n,r={deprecate:l$()},i=W4(),o=_S.Buffer,s=(oo!==void 0?oo:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a=o6(),l=a6().getHighWaterMark,u=lu.codes,d=u.ERR_INVALID_ARG_TYPE,h=u.ERR_METHOD_NOT_IMPLEMENTED,m=u.ERR_MULTIPLE_CALLBACK,g=u.ERR_STREAM_CANNOT_PIPE,b=u.ERR_STREAM_DESTROYED,w=u.ERR_STREAM_NULL_VALUES,E=u.ERR_STREAM_WRITE_AFTER_END,y=u.ERR_UNKNOWN_ENCODING,_=a.errorOrDestroy;function x(){}function P(q,k,C){e=e||Rd(),q=q||{},typeof C!="boolean"&&(C=k instanceof e),this.objectMode=!!q.objectMode,C&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=l(this,q,"writableHighWaterMark",C),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=q.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(R,B){var F=R._writableState,U=F.sync,D=F.writecb;if(typeof D!="function")throw new m;if(function(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}(F),B)(function(N,H,z,Y,ee){--H.pendingcb,z?(Vt.nextTick(ee,Y),Vt.nextTick(W,N,H),N._writableState.errorEmitted=!0,_(N,Y)):(ee(Y),N._writableState.errorEmitted=!0,_(N,Y),W(N,H))})(R,F,U,B,D);else{var O=G(F)||R.destroyed;O||F.corked||F.bufferProcessing||!F.bufferedRequest||j(R,F),U?Vt.nextTick(K,R,F,O,D):K(R,F,O,D)}})(k,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function M(q){var k=this instanceof(e=e||Rd());if(!k&&!n.call(M,this))return new M(q);this._writableState=new P(q,this,k),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),i.call(this)}function L(q,k,C,S,T,R,B){k.writelen=S,k.writecb=B,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new b("write")):C?q._writev(T,k.onwrite):q._write(T,R,k.onwrite),k.sync=!1}function K(q,k,C,S){C||function(T,R){R.length===0&&R.needDrain&&(R.needDrain=!1,T.emit("drain"))}(q,k),k.pendingcb--,S(),W(q,k)}function j(q,k){k.bufferProcessing=!0;var C=k.bufferedRequest;if(q._writev&&C&&C.next){var S=k.bufferedRequestCount,T=new Array(S),R=k.corkedRequestsFree;R.entry=C;for(var B=0,F=!0;C;)T[B]=C,C.isBuf||(F=!1),C=C.next,B+=1;T.allBuffers=F,L(q,k,!0,k.length,T,"",R.finish),k.pendingcb++,k.lastBufferedRequest=null,R.next?(k.corkedRequestsFree=R.next,R.next=null):k.corkedRequestsFree=new t(k),k.bufferedRequestCount=0}else{for(;C;){var U=C.chunk,D=C.encoding,O=C.callback;if(L(q,k,!1,k.objectMode?1:U.length,U,D,O),C=C.next,k.bufferedRequestCount--,k.writing)break}C===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=C,k.bufferProcessing=!1}function G(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function V(q,k){q._final(function(C){k.pendingcb--,C&&_(q,C),k.prefinished=!0,q.emit("prefinish"),W(q,k)})}function W(q,k){var C=G(k);if(C&&(function(T,R){R.prefinished||R.finalCalled||(typeof T._final!="function"||R.destroyed?(R.prefinished=!0,T.emit("prefinish")):(R.pendingcb++,R.finalCalled=!0,Vt.nextTick(V,T,R)))}(q,k),k.pendingcb===0&&(k.finished=!0,q.emit("finish"),k.autoDestroy))){var S=q._readableState;(!S||S.autoDestroy&&S.endEmitted)&&q.destroy()}return C}return Jp(M,i),P.prototype.getBuffer=function(){for(var q=this.bufferedRequest,k=[];q;)k.push(q),q=q.next;return k},function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(q){return!!n.call(this,q)||this===M&&q&&q._writableState instanceof P}})):n=function(q){return q instanceof this},M.prototype.pipe=function(){_(this,new g)},M.prototype.write=function(q,k,C){var S,T=this._writableState,R=!1,B=!T.objectMode&&(S=q,o.isBuffer(S)||S instanceof s);return B&&!o.isBuffer(q)&&(q=function(F){return o.from(F)}(q)),typeof k=="function"&&(C=k,k=null),B?k="buffer":k||(k=T.defaultEncoding),typeof C!="function"&&(C=x),T.ending?function(F,U){var D=new E;_(F,D),Vt.nextTick(U,D)}(this,C):(B||function(F,U,D,O){var N;return D===null?N=new w:typeof D=="string"||U.objectMode||(N=new d("chunk",["string","Buffer"],D)),!N||(_(F,N),Vt.nextTick(O,N),!1)}(this,T,q,C))&&(T.pendingcb++,R=function(F,U,D,O,N,H){if(!D){var z=function(oe,se,ve){return oe.objectMode||oe.decodeStrings===!1||typeof se!="string"||(se=o.from(se,ve)),se}(U,O,N);O!==z&&(D=!0,N="buffer",O=z)}var Y=U.objectMode?1:O.length;U.length+=Y;var ee=U.length<U.highWaterMark;if(ee||(U.needDrain=!0),U.writing||U.corked){var J=U.lastBufferedRequest;U.lastBufferedRequest={chunk:O,encoding:N,isBuf:D,callback:H,next:null},J?J.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else L(F,U,!1,Y,O,N,H);return ee}(this,T,B,q,k,C)),R},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,q.writing||q.corked||q.bufferProcessing||!q.bufferedRequest||j(this,q))},M.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new y(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(q,k,C){C(new h("_write()"))},M.prototype._writev=null,M.prototype.end=function(q,k,C){var S=this._writableState;return typeof q=="function"?(C=q,q=null,k=null):typeof k=="function"&&(C=k,k=null),q!=null&&this.write(q,k),S.corked&&(S.corked=1,this.uncork()),S.ending||function(T,R,B){R.ending=!0,W(T,R),B&&(R.finished?Vt.nextTick(B):T.once("finish",B)),R.ended=!0,T.writable=!1}(this,S,C),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),M.prototype.destroy=a.destroy,M.prototype._undestroy=a.undestroy,M.prototype._destroy=function(q,k){k(q)},Q1}function Rd(){if(lI)return Z1;lI=1;var t=Object.keys||function(u){var d=[];for(var h in u)d.push(h);return d};Z1=s;var e=c6(),n=l6();Jp(s,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),n.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||Vt.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),Z1}var c$=xe.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xg(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!c$(e))throw new Error("Unknown encoding: "+e)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=d$;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=f$;break;default:return void(this.write=u$)}this.charBuffer=new xe(6),this.charReceived=0,this.charLength=0}function u$(t){return t.toString(this.encoding)}function d$(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function f$(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}xg.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((r=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r,i=t.length;if(this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),i=(e+=t.toString(this.encoding,0,i)).length-1,(r=e.charCodeAt(i))>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},xg.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},xg.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var cI=Yp(Object.freeze({__proto__:null,StringDecoder:xg})),uI=lu.codes.ERR_STREAM_PREMATURE_CLOSE;function h$(){}var J1,dI,fI,hI,X1,pI,IS=function t(e,n,r){if(typeof n=="function")return t(e,null,n);n||(n={}),r=function(b){var w=!1;return function(){if(!w){w=!0;for(var E=arguments.length,y=new Array(E),_=0;_<E;_++)y[_]=arguments[_];b.apply(this,y)}}}(r||h$);var i=n.readable||n.readable!==!1&&e.readable,o=n.writable||n.writable!==!1&&e.writable,s=function(){e.writable||l()},a=e._writableState&&e._writableState.finished,l=function(){o=!1,a=!0,i||r.call(e)},u=e._readableState&&e._readableState.endEmitted,d=function(){i=!1,u=!0,o||r.call(e)},h=function(b){r.call(e,b)},m=function(){var b;return i&&!u?(e._readableState&&e._readableState.ended||(b=new uI),r.call(e,b)):o&&!a?(e._writableState&&e._writableState.ended||(b=new uI),r.call(e,b)):void 0},g=function(){e.req.on("finish",l)};return function(b){return b.setHeader&&typeof b.abort=="function"}(e)?(e.on("complete",l),e.on("abort",m),e.req?g():e.on("request",g)):o&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",d),e.on("finish",l),n.error!==!1&&e.on("error",h),e.on("close",m),function(){e.removeListener("complete",l),e.removeListener("abort",m),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",h),e.removeListener("close",m)}};function c6(){if(pI)return X1;var t;pI=1,X1=M,M.ReadableState=P,bS.EventEmitter;var e,n=function(O,N){return O.listeners(N).length},r=W4(),i=_S.Buffer,o=(oo!==void 0?oo:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},s=i6;e=s&&s.debuglog?s.debuglog("stream"):function(){};var a,l,u,d=s$(),h=o6(),m=a6().getHighWaterMark,g=lu.codes,b=g.ERR_INVALID_ARG_TYPE,w=g.ERR_STREAM_PUSH_AFTER_EOF,E=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Jp(M,r);var _=h.errorOrDestroy,x=["error","close","destroy","pause","resume"];function P(O,N,H){t=t||Rd(),O=O||{},typeof H!="boolean"&&(H=N instanceof t),this.objectMode=!!O.objectMode,H&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=m(this,O,"readableHighWaterMark",H),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(a||(a=cI.StringDecoder),this.decoder=new a(O.encoding),this.encoding=O.encoding)}function M(O){if(t=t||Rd(),!(this instanceof M))return new M(O);var N=this instanceof t;this._readableState=new P(O,this,N),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),r.call(this)}function L(O,N,H,z,Y){e("readableAddChunk",N);var ee,J=O._readableState;if(N===null)J.reading=!1,function(oe,se){if(e("onEofChunk"),!se.ended){if(se.decoder){var ve=se.decoder.end();ve&&ve.length&&(se.buffer.push(ve),se.length+=se.objectMode?1:ve.length)}se.ended=!0,se.sync?V(oe):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,W(oe)))}}(O,J);else if(Y||(ee=function(oe,se){var ve,de;return de=se,i.isBuffer(de)||de instanceof o||typeof se=="string"||se===void 0||oe.objectMode||(ve=new b("chunk",["string","Buffer","Uint8Array"],se)),ve}(J,N)),ee)_(O,ee);else if(J.objectMode||N&&N.length>0)if(typeof N=="string"||J.objectMode||Object.getPrototypeOf(N)===i.prototype||(N=function(oe){return i.from(oe)}(N)),z)J.endEmitted?_(O,new y):K(O,J,N,!0);else if(J.ended)_(O,new w);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!H?(N=J.decoder.write(N),J.objectMode||N.length!==0?K(O,J,N,!1):q(O,J)):K(O,J,N,!1)}else z||(J.reading=!1,q(O,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function K(O,N,H,z){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,O.emit("data",H)):(N.length+=N.objectMode?1:H.length,z?N.buffer.unshift(H):N.buffer.push(H),N.needReadable&&V(O)),q(O,N)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=h.destroy,M.prototype._undestroy=h.undestroy,M.prototype._destroy=function(O,N){N(O)},M.prototype.push=function(O,N){var H,z=this._readableState;return z.objectMode?H=!0:typeof O=="string"&&((N=N||z.defaultEncoding)!==z.encoding&&(O=i.from(O,N),N=""),H=!0),L(this,O,N,!1,H)},M.prototype.unshift=function(O){return L(this,O,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(O){a||(a=cI.StringDecoder);var N=new a(O);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,z="";H!==null;)z+=N.write(H.data),H=H.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var j=1073741824;function G(O,N){return O<=0||N.length===0&&N.ended?0:N.objectMode?1:O!=O?N.flowing&&N.length?N.buffer.head.data.length:N.length:(O>N.highWaterMark&&(N.highWaterMark=function(H){return H>=j?H=j:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(O)),O<=N.length?O:N.ended?N.length:(N.needReadable=!0,0))}function V(O){var N=O._readableState;e("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(e("emitReadable",N.flowing),N.emittedReadable=!0,Vt.nextTick(W,O))}function W(O){var N=O._readableState;e("emitReadable_",N.destroyed,N.length,N.ended),N.destroyed||!N.length&&!N.ended||(O.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,R(O)}function q(O,N){N.readingMore||(N.readingMore=!0,Vt.nextTick(k,O,N))}function k(O,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var H=N.length;if(e("maybeReadMore read 0"),O.read(0),H===N.length)break}N.readingMore=!1}function C(O){var N=O._readableState;N.readableListening=O.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:O.listenerCount("data")>0&&O.resume()}function S(O){e("readable nexttick read 0"),O.read(0)}function T(O,N){e("resume",N.reading),N.reading||O.read(0),N.resumeScheduled=!1,O.emit("resume"),R(O),N.flowing&&!N.reading&&O.read(0)}function R(O){var N=O._readableState;for(e("flow",N.flowing);N.flowing&&O.read()!==null;);}function B(O,N){return N.length===0?null:(N.objectMode?H=N.buffer.shift():!O||O>=N.length?(H=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):H=N.buffer.consume(O,N.decoder),H);var H}function F(O){var N=O._readableState;e("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,Vt.nextTick(U,N,O))}function U(O,N){if(e("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,N.readable=!1,N.emit("end"),O.autoDestroy)){var H=N._writableState;(!H||H.autoDestroy&&H.finished)&&N.destroy()}}function D(O,N){for(var H=0,z=O.length;H<z;H++)if(O[H]===N)return H;return-1}return M.prototype.read=function(O){e("read",O),O=parseInt(O,10);var N=this._readableState,H=O;if(O!==0&&(N.emittedReadable=!1),O===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return e("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?F(this):V(this),null;if((O=G(O,N))===0&&N.ended)return N.length===0&&F(this),null;var z,Y=N.needReadable;return e("need readable",Y),(N.length===0||N.length-O<N.highWaterMark)&&e("length less than watermark",Y=!0),N.ended||N.reading?e("reading or ended",Y=!1):Y&&(e("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(O=G(H,N))),(z=O>0?B(O,N):null)===null?(N.needReadable=N.length<=N.highWaterMark,O=0):(N.length-=O,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),H!==O&&N.ended&&F(this)),z!==null&&this.emit("data",z),z},M.prototype._read=function(O){_(this,new E("_read()"))},M.prototype.pipe=function(O,N){var H=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=O;break;case 1:z.pipes=[z.pipes,O];break;default:z.pipes.push(O)}z.pipesCount+=1,e("pipe count=%d opts=%j",z.pipesCount,N);var Y=N&&N.end===!1||O===Vt.stdout||O===Vt.stderr?je:ee;function ee(){e("onend"),O.end()}z.endEmitted?Vt.nextTick(Y):H.once("end",Y),O.on("unpipe",function we(_e,Ee){e("onunpipe"),_e===H&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,e("cleanup"),O.removeListener("close",de),O.removeListener("finish",Oe),O.removeListener("drain",J),O.removeListener("error",ve),O.removeListener("unpipe",we),H.removeListener("end",ee),H.removeListener("end",je),H.removeListener("data",se),oe=!0,!z.awaitDrain||O._writableState&&!O._writableState.needDrain||J())});var J=function(we){return function(){var _e=we._readableState;e("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&n(we,"data")&&(_e.flowing=!0,R(we))}}(H);O.on("drain",J);var oe=!1;function se(we){e("ondata");var _e=O.write(we);e("dest.write",_e),_e===!1&&((z.pipesCount===1&&z.pipes===O||z.pipesCount>1&&D(z.pipes,O)!==-1)&&!oe&&(e("false write response, pause",z.awaitDrain),z.awaitDrain++),H.pause())}function ve(we){e("onerror",we),je(),O.removeListener("error",ve),n(O,"error")===0&&_(O,we)}function de(){O.removeListener("finish",Oe),je()}function Oe(){e("onfinish"),O.removeListener("close",de),je()}function je(){e("unpipe"),H.unpipe(O)}return H.on("data",se),function(we,_e,Ee){if(typeof we.prependListener=="function")return we.prependListener(_e,Ee);we._events&&we._events[_e]?Array.isArray(we._events[_e])?we._events[_e].unshift(Ee):we._events[_e]=[Ee,we._events[_e]]:we.on(_e,Ee)}(O,"error",ve),O.once("close",de),O.once("finish",Oe),O.emit("pipe",H),z.flowing||(e("pipe resume"),H.resume()),O},M.prototype.unpipe=function(O){var N=this._readableState,H={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return O&&O!==N.pipes||(O||(O=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,O&&O.emit("unpipe",this,H)),this;if(!O){var z=N.pipes,Y=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var ee=0;ee<Y;ee++)z[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var J=D(N.pipes,O);return J===-1||(N.pipes.splice(J,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),O.emit("unpipe",this,H)),this},M.prototype.on=function(O,N){var H=r.prototype.on.call(this,O,N),z=this._readableState;return O==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):O==="readable"&&(z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,e("on readable",z.length,z.reading),z.length?V(this):z.reading||Vt.nextTick(S,this))),H},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(O,N){var H=r.prototype.removeListener.call(this,O,N);return O==="readable"&&Vt.nextTick(C,this),H},M.prototype.removeAllListeners=function(O){var N=r.prototype.removeAllListeners.apply(this,arguments);return O!=="readable"&&O!==void 0||Vt.nextTick(C,this),N},M.prototype.resume=function(){var O=this._readableState;return O.flowing||(e("resume"),O.flowing=!O.readableListening,function(N,H){H.resumeScheduled||(H.resumeScheduled=!0,Vt.nextTick(T,N,H))}(this,O)),O.paused=!1,this},M.prototype.pause=function(){return e("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(e("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(O){var N=this,H=this._readableState,z=!1;for(var Y in O.on("end",function(){if(e("wrapped end"),H.decoder&&!H.ended){var J=H.decoder.end();J&&J.length&&N.push(J)}N.push(null)}),O.on("data",function(J){e("wrapped data"),H.decoder&&(J=H.decoder.write(J)),H.objectMode&&J==null||(H.objectMode||J&&J.length)&&(N.push(J)||(z=!0,O.pause()))}),O)this[Y]===void 0&&typeof O[Y]=="function"&&(this[Y]=function(J){return function(){return O[J].apply(O,arguments)}}(Y));for(var ee=0;ee<x.length;ee++)O.on(x[ee],this.emit.bind(this,x[ee]));return this._read=function(J){e("wrapped _read",J),z&&(z=!1,O.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return l===void 0&&(l=function(){if(dI)return J1;var O;function N(Ee,Ae,Re){return(Ae=function($e){var Ke=function(Q,re){if(typeof Q!="object"||Q===null)return Q;var le=Q[Symbol.toPrimitive];if(le!==void 0){var Ce=le.call(Q,"string");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}($e);return typeof Ke=="symbol"?Ke:String(Ke)}(Ae))in Ee?Object.defineProperty(Ee,Ae,{value:Re,enumerable:!0,configurable:!0,writable:!0}):Ee[Ae]=Re,Ee}dI=1;var H=IS,z=Symbol("lastResolve"),Y=Symbol("lastReject"),ee=Symbol("error"),J=Symbol("ended"),oe=Symbol("lastPromise"),se=Symbol("handlePromise"),ve=Symbol("stream");function de(Ee,Ae){return{value:Ee,done:Ae}}function Oe(Ee){var Ae=Ee[z];if(Ae!==null){var Re=Ee[ve].read();Re!==null&&(Ee[oe]=null,Ee[z]=null,Ee[Y]=null,Ae(de(Re,!1)))}}function je(Ee){Vt.nextTick(Oe,Ee)}var we=Object.getPrototypeOf(function(){}),_e=Object.setPrototypeOf((N(O={get stream(){return this[ve]},next:function(){var Ee=this,Ae=this[ee];if(Ae!==null)return Promise.reject(Ae);if(this[J])return Promise.resolve(de(void 0,!0));if(this[ve].destroyed)return new Promise(function(Q,re){Vt.nextTick(function(){Ee[ee]?re(Ee[ee]):Q(de(void 0,!0))})});var Re,$e=this[oe];if($e)Re=new Promise(function(Q,re){return function(le,Ce){Q.then(function(){re[J]?le(de(void 0,!0)):re[se](le,Ce)},Ce)}}($e,this));else{var Ke=this[ve].read();if(Ke!==null)return Promise.resolve(de(Ke,!1));Re=new Promise(this[se])}return this[oe]=Re,Re}},Symbol.asyncIterator,function(){return this}),N(O,"return",function(){var Ee=this;return new Promise(function(Ae,Re){Ee[ve].destroy(null,function($e){$e?Re($e):Ae(de(void 0,!0))})})}),O),we);return J1=function(Ee){var Ae,Re=Object.create(_e,(N(Ae={},ve,{value:Ee,writable:!0}),N(Ae,z,{value:null,writable:!0}),N(Ae,Y,{value:null,writable:!0}),N(Ae,ee,{value:null,writable:!0}),N(Ae,J,{value:Ee._readableState.endEmitted,writable:!0}),N(Ae,se,{value:function($e,Ke){var Q=Re[ve].read();Q?(Re[oe]=null,Re[z]=null,Re[Y]=null,$e(de(Q,!1))):(Re[z]=$e,Re[Y]=Ke)},writable:!0}),Ae));return Re[oe]=null,H(Ee,function($e){if($e&&$e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Ke=Re[Y];return Ke!==null&&(Re[oe]=null,Re[z]=null,Re[Y]=null,Ke($e)),void(Re[ee]=$e)}var Q=Re[z];Q!==null&&(Re[oe]=null,Re[z]=null,Re[Y]=null,Q(de(void 0,!0))),Re[J]=!0}),Ee.on("readable",je.bind(null,Re)),Re},J1}()),l(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=B,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(M.from=function(O,N){return u===void 0&&(u=hI?fI:(hI=1,fI=function(){throw new Error("Readable.from is not available in the browser")})),u(M,O,N)}),X1}var u6=Ys,Uv=lu.codes,p$=Uv.ERR_METHOD_NOT_IMPLEMENTED,m$=Uv.ERR_MULTIPLE_CALLBACK,g$=Uv.ERR_TRANSFORM_ALREADY_TRANSFORMING,y$=Uv.ERR_TRANSFORM_WITH_LENGTH_0,Sg=Rd();function v$(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new m$);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ys(t){if(!(this instanceof Ys))return new Ys(t);Sg.call(this,t),this._transformState={afterTransform:v$.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",w$)}function w$(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?mI(this,null,null):this._flush(function(e,n){mI(t,e,n)})}function mI(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new y$;if(t._transformState.transforming)throw new g$;return t.push(null)}Jp(Ys,Sg),Ys.prototype.push=function(t,e){return this._transformState.needTransform=!1,Sg.prototype.push.call(this,t,e)},Ys.prototype._transform=function(t,e,n){n(new p$("_transform()"))},Ys.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Ys.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Ys.prototype._destroy=function(t,e){Sg.prototype._destroy.call(this,t,function(n){e(n)})};var eE,b$=op,d6=u6;function op(t){if(!(this instanceof op))return new op(t);d6.call(this,t)}Jp(op,d6),op.prototype._transform=function(t,e,n){n(null,t)};var f6=lu.codes,E$=f6.ERR_MISSING_ARGS,_$=f6.ERR_STREAM_DESTROYED;function gI(t){if(t)throw t}function yI(t){t()}function x$(t,e){return t.pipe(e)}var S$=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=function(s){return s.length?typeof s[s.length-1]!="function"?gI:s.pop():gI}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new E$("streams");var o=e.map(function(s,a){var l=a<e.length-1;return function(u,d,h,m){m=function(w){var E=!1;return function(){E||(E=!0,w.apply(void 0,arguments))}}(m);var g=!1;u.on("close",function(){g=!0}),eE===void 0&&(eE=IS),eE(u,{readable:d,writable:h},function(w){if(w)return m(w);g=!0,m()});var b=!1;return function(w){if(!g&&!b)return b=!0,function(E){return E.setHeader&&typeof E.abort=="function"}(u)?u.abort():typeof u.destroy=="function"?u.destroy():void m(w||new _$("pipe"))}}(s,l,a>0,function(u){r||(r=u),u&&o.forEach(yI),l||(o.forEach(yI),i(r))})});return e.reduce(x$)};(function(t,e){(e=O_.exports=c6()).Stream=e,e.Readable=e,e.Writable=l6(),e.Duplex=Rd(),e.Transform=u6,e.PassThrough=b$,e.finished=IS,e.pipeline=S$})(0,O_.exports);var xd=O_.exports,uy={},N_={exports:{}},vI=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var s=e.apply(this,i),a=i[i.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(l){s[l]=a[l]}),s}};function z0(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function wI(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}N_.exports=vI(z0),N_.exports.strict=vI(wI),z0.proto=z0(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return z0(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return wI(this)},configurable:!0})});var A$=N_.exports,dy={};Object.defineProperty(dy,"__esModule",{value:!0}),dy.Substream=void 0;const C$=xd;class k$ extends C$.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}dy.Substream=k$;var T$=oo&&oo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uy,"__esModule",{value:!0}),uy.ObjectMultiplex=void 0;const tE=xd,I$=T$(A$),P$=dy,bI=Symbol("IGNORE_SUBSTREAM");let R$=class extends tE.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const e=new P$.Substream({parent:this,name:t});return this._substreams[t]=e,function(n,r){const i=(0,I$.default)(r);(0,tE.finished)(n,{readable:!1},i),(0,tE.finished)(n,{writable:!1},i)}(this,n=>e.destroy(n||void 0)),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=bI}_read(){}_write(t,e,n){const{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const o=this._substreams[r];return o?(o!==bI&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};uy.ObjectMultiplex=R$;var M$=Lv(uy.ObjectMultiplex);const Ko=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Ko.writable=t=>Ko(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",Ko.readable=t=>Ko(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",Ko.duplex=t=>Ko.writable(t)&&Ko.readable(t),Ko.transform=t=>Ko.duplex(t)&&typeof t._transform=="function";var qo,O$=Ko,N$=class extends XU{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!O$.duplex(t))throw new Error(Sn.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new M$;xd.pipeline(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=function(s={}){const a={},l=new xd.Duplex({objectMode:!0,read:()=>{},write:function(h,m,g){let b=null;try{h.id?function(w){const{id:E}=w;if(E===null)return;const y=a[E];y?(delete a[E],Object.assign(y.res,w),setTimeout(y.end)):console.warn(`StreamMiddleware - Unknown response id "${E}"`)}(h):function(w){s!=null&&s.retryOnMessage&&w.method===s.retryOnMessage&&Object.values(a).forEach(({req:E,retryCount:y=0})=>{if(!E.id)return;if(y>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${E.id}"`);const _=a[E.id];_&&(_.retryCount=y+1),d(E)}),u.emit("notification",w)}(h)}catch(w){b=w}g(b)}}),u=new $4;return{events:u,middleware:(h,m,g,b)=>{a[h.id]={req:h,res:m,next:g,end:b},d(h)},stream:l};function d(h){l.push(h)}}({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),xd.pipeline(this._jsonRpcConnection.stream,o.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",s=>{const{method:a,params:l}=s;a==="metamask_accountsChanged"?this._handleAccountsChanged(l):a==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(l):a==="metamask_chainChanged"?this._handleChainChanged(l):H4.includes(a)?this.emit("message",{type:a,data:l}):a==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(Sn.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to "${t}".`;e!=null&&e.stack&&(n+=`
${e.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){V4(t)&&(n=>!!n&&typeof n=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(Sn.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},L$=class extends N${constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:qU(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},M_(this,qo,void 0),this._initializeStateAsync(),Ws(this,qo,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",o=>{const{method:s}=o;H4.includes(s)&&(this.emit("data",o),this.emit("notification",o.params.result))}),i)if(document.readyState==="complete")Z3(this._rpcEngine,this._log);else{const o=()=>{Z3(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(Sn.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(Sn.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),es(this,qo)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(Sn.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),es(this,qo)&&!t&&Ws(this,qo,null)}_warnOfDeprecation(t){var e;((e=this._sentWarnings)==null?void 0:e.events[t])===!1&&(this._log.warn(Sn.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(Sn.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},_g(t,e))}catch(n){e(n)}})}send(t,e){return this._sentWarnings.send||(this._log.warn(Sn.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise((n,r)=>{try{this._rpcRequest({method:t,params:e},_g(n,r,!1))}catch(i){r(i)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,z4),e=!0;break;case"net_version":e=es(this,qo)??null;break;default:throw new Error(Sn.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(t=>{this.on("_initialized",()=>t())}),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw Ih({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise((e,n)=>{this._rpcRequest(t,_g(e,n))})}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(Sn.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==es(this,qo)&&(Ws(this,qo,e),this._state.initialized&&this.emit("networkChanged",es(this,qo)))}};qo=new WeakMap;const ge=jr("MM_SDK");ge.color="#FFAC1C";var h6={},_l={};Object.defineProperty(_l,"__esModule",{value:!0}),_l.EthereumProviderError=_l.EthereumRpcError=void 0;const B$=L4;class EI extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return B$.default(this.serialize(),D$,2)}}function D$(t,e){if(e!=="[Circular]")return e}_l.EthereumRpcError=EI,_l.EthereumProviderError=class extends EI{constructor(t,e,n){if(!function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var PS={},dl={};Object.defineProperty(dl,"__esModule",{value:!0}),dl.errorValues=dl.errorCodes=void 0,dl.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},dl.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=dl,n=_l,r=e.errorCodes.rpc.internal,i={code:r,message:o(r)};function o(d,h="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(d)){const m=d.toString();if(u(e.errorValues,m))return e.errorValues[m].message;if(a(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return h}function s(d){if(!Number.isInteger(d))return!1;const h=d.toString();return!!e.errorValues[h]||!!a(d)}function a(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function u(d,h){return Object.prototype.hasOwnProperty.call(d,h)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=o,t.isValidCode=s,t.serializeError=function(d,{fallbackError:h=i,shouldIncludeStack:m=!1}={}){var g,b;if(!h||!Number.isInteger(h.code)||typeof h.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof n.EthereumRpcError)return d.serialize();const w={};if(d&&typeof d=="object"&&!Array.isArray(d)&&u(d,"code")&&s(d.code)){const y=d;w.code=y.code,y.message&&typeof y.message=="string"?(w.message=y.message,u(y,"data")&&(w.data=y.data)):(w.message=o(w.code),w.data={originalError:l(d)})}else{w.code=h.code;const y=(g=d)===null||g===void 0?void 0:g.message;w.message=y&&typeof y=="string"?y:h.message,w.data={originalError:l(d)}}const E=(b=d)===null||b===void 0?void 0:b.stack;return m&&d&&E&&typeof E=="string"&&(w.stack=E),w}}(PS);var fy={};Object.defineProperty(fy,"__esModule",{value:!0}),fy.ethErrors=void 0;const RS=_l,p6=PS,gr=dl;function Vi(t,e){const[n,r]=m6(e);return new RS.EthereumRpcError(t,n||p6.getMessageFromCode(t),r)}function Jf(t,e){const[n,r]=m6(e);return new RS.EthereumProviderError(t,n||p6.getMessageFromCode(t),r)}function m6(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}fy.ethErrors={rpc:{parse:t=>Vi(gr.errorCodes.rpc.parse,t),invalidRequest:t=>Vi(gr.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Vi(gr.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Vi(gr.errorCodes.rpc.methodNotFound,t),internal:t=>Vi(gr.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Vi(e,t)},invalidInput:t=>Vi(gr.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Vi(gr.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Vi(gr.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Vi(gr.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Vi(gr.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Vi(gr.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Jf(gr.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Jf(gr.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Jf(gr.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Jf(gr.errorCodes.provider.disconnected,t),chainDisconnected:t=>Jf(gr.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new RS.EthereumProviderError(e,n,r)}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=_l;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=PS;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=fy;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=dl;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(h6);var g6={exports:{}};g6.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,(function(a){return r[a]}).bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var l=a.match(s);return l&&l.length>0&&l[1]||""},o.getSecondMatch=function(s,a){var l=a.match(s);return l&&l.length>1&&l[2]||""},o.matchAndReturnConst=function(s,a,l){if(s.test(a))return l},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,l){l===void 0&&(l=!1);var u=o.getVersionPrecision(s),d=o.getVersionPrecision(a),h=Math.max(u,d),m=0,g=o.map([s,a],function(b){var w=h-o.getVersionPrecision(b),E=b+new Array(w+1).join(".0");return o.map(E.split("."),function(y){return new Array(20-y.length).join("0")+y}).reverse()});for(l&&(m=h-Math.min(u,d)),h-=1;h>=m;){if(g[0][h]>g[1][h])return 1;if(g[0][h]===g[1][h]){if(h===m)return 0;h-=1}else if(g[0][h]<g[1][h])return-1}},o.map=function(s,a){var l,u=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(l=0;l<s.length;l+=1)u.push(a(s[l]));return u},o.find=function(s,a){var l,u;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(l=0,u=s.length;l<u;l+=1){var d=s[l];if(a(d,l))return d}},o.assign=function(s){for(var a,l,u=s,d=arguments.length,h=new Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];if(Object.assign)return Object.assign.apply(Object,[s].concat(h));var g=function(){var b=h[a];typeof b=="object"&&b!==null&&Object.keys(b).forEach(function(w){u[w]=b[w]})};for(a=0,l=h.length;a<l;a+=1)g();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(l,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var a=function(){function l(){}var u,d;return l.getParser=function(h,m){if(m===void 0&&(m=!1),typeof h!="string")throw new Error("UserAgent should be a string");return new i.default(h,m)},l.parse=function(h){return new i.default(h).getResult()},u=l,d=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],d&&s(u,d),l}();e.default=a,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=l(n(92)),i=l(n(93)),o=l(n(94)),s=l(n(95)),a=l(n(17));function l(d){return d&&d.__esModule?d:{default:d}}var u=function(){function d(m,g){if(g===void 0&&(g=!1),m==null||m==="")throw new Error("UserAgent parameter can't be empty");this._ua=m,this.parsedResult={},g!==!0&&this.parse()}var h=d.prototype;return h.getUA=function(){return this._ua},h.test=function(m){return m.test(this._ua)},h.parseBrowser=function(){var m=this;this.parsedResult.browser={};var g=a.default.find(r.default,function(b){if(typeof b.test=="function")return b.test(m);if(b.test instanceof Array)return b.test.some(function(w){return m.test(w)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.browser=g.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(m){return m?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var m=this;this.parsedResult.os={};var g=a.default.find(i.default,function(b){if(typeof b.test=="function")return b.test(m);if(b.test instanceof Array)return b.test.some(function(w){return m.test(w)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.os=g.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(m){var g=this.getOS().name;return m?String(g).toLowerCase()||"":g||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(m){m===void 0&&(m=!1);var g=this.getPlatform().type;return m?String(g).toLowerCase()||"":g||""},h.parsePlatform=function(){var m=this;this.parsedResult.platform={};var g=a.default.find(o.default,function(b){if(typeof b.test=="function")return b.test(m);if(b.test instanceof Array)return b.test.some(function(w){return m.test(w)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.platform=g.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(m){return m?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var m=this;this.parsedResult.engine={};var g=a.default.find(s.default,function(b){if(typeof b.test=="function")return b.test(m);if(b.test instanceof Array)return b.test.some(function(w){return m.test(w)});throw new Error("Browser's test function is not valid")});return g&&(this.parsedResult.engine=g.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(m){var g=this,b={},w=0,E={},y=0;if(Object.keys(m).forEach(function(G){var V=m[G];typeof V=="string"?(E[G]=V,y+=1):typeof V=="object"&&(b[G]=V,w+=1)}),w>0){var _=Object.keys(b),x=a.default.find(_,function(G){return g.isOS(G)});if(x){var P=this.satisfies(b[x]);if(P!==void 0)return P}var M=a.default.find(_,function(G){return g.isPlatform(G)});if(M){var L=this.satisfies(b[M]);if(L!==void 0)return L}}if(y>0){var K=Object.keys(E),j=a.default.find(K,function(G){return g.isBrowser(G,!0)});if(j!==void 0)return this.compareVersion(E[j])}},h.isBrowser=function(m,g){g===void 0&&(g=!1);var b=this.getBrowserName().toLowerCase(),w=m.toLowerCase(),E=a.default.getBrowserTypeByAlias(w);return g&&E&&(w=E.toLowerCase()),w===b},h.compareVersion=function(m){var g=[0],b=m,w=!1,E=this.getBrowserVersion();if(typeof E=="string")return m[0]===">"||m[0]==="<"?(b=m.substr(1),m[1]==="="?(w=!0,b=m.substr(2)):g=[],m[0]===">"?g.push(1):g.push(-1)):m[0]==="="?b=m.substr(1):m[0]==="~"&&(w=!0,b=m.substr(1)),g.indexOf(a.default.compareVersions(E,b,w))>-1},h.isOS=function(m){return this.getOSName(!0)===String(m).toLowerCase()},h.isPlatform=function(m){return this.getPlatformType(!0)===String(m).toLowerCase()},h.isEngine=function(m){return this.getEngineName(!0)===String(m).toLowerCase()},h.is=function(m,g){return g===void 0&&(g=!1),this.isBrowser(m,g)||this.isOS(m)||this.isPlatform(m)},h.some=function(m){var g=this;return m===void 0&&(m=[]),m.some(function(b){return g.is(b)})},d}();e.default=u,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var l={name:"Googlebot"},u=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/opera/i],describe:function(a){var l={name:"Opera"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/opr\/|opios/i],describe:function(a){var l={name:"Opera"},u=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/SamsungBrowser/i],describe:function(a){var l={name:"Samsung Internet for Android"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/Whale/i],describe:function(a){var l={name:"NAVER Whale Browser"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/MZBrowser/i],describe:function(a){var l={name:"MZ Browser"},u=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/focus/i],describe:function(a){var l={name:"Focus"},u=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/swing/i],describe:function(a){var l={name:"Swing"},u=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/coast/i],describe:function(a){var l={name:"Opera Coast"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var l={name:"Opera Touch"},u=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/yabrowser/i],describe:function(a){var l={name:"Yandex Browser"},u=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/ucbrowser/i],describe:function(a){var l={name:"UC Browser"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/Maxthon|mxios/i],describe:function(a){var l={name:"Maxthon"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/epiphany/i],describe:function(a){var l={name:"Epiphany"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/puffin/i],describe:function(a){var l={name:"Puffin"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/sleipnir/i],describe:function(a){var l={name:"Sleipnir"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/k-meleon/i],describe:function(a){var l={name:"K-Meleon"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/micromessenger/i],describe:function(a){var l={name:"WeChat"},u=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/qqbrowser/i],describe:function(a){var l={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},u=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/msie|trident/i],describe:function(a){var l={name:"Internet Explorer"},u=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/\sedg\//i],describe:function(a){var l={name:"Microsoft Edge"},u=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/edg([ea]|ios)/i],describe:function(a){var l={name:"Microsoft Edge"},u=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/vivaldi/i],describe:function(a){var l={name:"Vivaldi"},u=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/seamonkey/i],describe:function(a){var l={name:"SeaMonkey"},u=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/sailfish/i],describe:function(a){var l={name:"Sailfish"},u=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return u&&(l.version=u),l}},{test:[/silk/i],describe:function(a){var l={name:"Amazon Silk"},u=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/phantom/i],describe:function(a){var l={name:"PhantomJS"},u=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/slimerjs/i],describe:function(a){var l={name:"SlimerJS"},u=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var l={name:"BlackBerry"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var l={name:"WebOS Browser"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/bada/i],describe:function(a){var l={name:"Bada"},u=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/tizen/i],describe:function(a){var l={name:"Tizen"},u=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/qupzilla/i],describe:function(a){var l={name:"QupZilla"},u=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var l={name:"Firefox"},u=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/electron/i],describe:function(a){var l={name:"Electron"},u=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/MiuiBrowser/i],describe:function(a){var l={name:"Miui"},u=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/chromium/i],describe:function(a){var l={name:"Chromium"},u=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/chrome|crios|crmo/i],describe:function(a){var l={name:"Chrome"},u=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/GSA/i],describe:function(a){var l={name:"Google Search"},u=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:function(a){var l=!a.test(/like android/i),u=a.test(/android/i);return l&&u},describe:function(a){var l={name:"Android Browser"},u=i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/playstation 4/i],describe:function(a){var l={name:"PlayStation 4"},u=i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/safari|applewebkit/i],describe:function(a){var l={name:"Safari"},u=i.default.getFirstMatch(o,a);return u&&(l.version=u),l}},{test:[/.*/i],describe:function(a){var l=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(l,a),version:i.default.getSecondMatch(l,a)}}}];e.default=s,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var l=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(a){var l=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(a){var l=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),u=i.default.getWindowsVersionName(l);return{name:o.OS_MAP.Windows,version:l,versionName:u}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var l={name:o.OS_MAP.iOS},u=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return u&&(l.version=u),l}},{test:[/macintosh/i],describe:function(a){var l=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),u=i.default.getMacOSVersionName(l),d={name:o.OS_MAP.MacOS,version:l};return u&&(d.versionName=u),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var l=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:l}}},{test:function(a){var l=!a.test(/like android/i),u=a.test(/android/i);return l&&u},describe:function(a){var l=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),u=i.default.getAndroidVersionName(l),d={name:o.OS_MAP.Android,version:l};return u&&(d.versionName=u),d}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var l=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),u={name:o.OS_MAP.WebOS};return l&&l.length&&(u.version=l),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var l=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(a){var l=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(a){var l=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var l=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:l}}}];e.default=s,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var l=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",u={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(u.model=l),u}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var l=a.test(/ipod|iphone/i),u=a.test(/like (ipod|iphone)/i);return l&&!u},describe:function(a){var l=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var l=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=s,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var l=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(a){var l={name:o.ENGINE_MAP.Trident},u=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:function(a){return a.test(/presto/i)},describe:function(a){var l={name:o.ENGINE_MAP.Presto},u=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:function(a){var l=a.test(/gecko/i),u=a.test(/like gecko/i);return l&&!u},describe:function(a){var l={name:o.ENGINE_MAP.Gecko},u=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var l={name:o.ENGINE_MAP.WebKit},u=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return u&&(l.version=u),l}}];e.default=s,t.exports=e.default}});var y6=Lv(g6.exports);const li={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class Oo{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:o}){const s=new F$({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),a=new Proxy(s,{deleteProperty:()=>!0});if(this.provider=a,this.sdkInstance=o,e&&typeof window<"u")try{l=s,window.ethereum=l,window.dispatchEvent(new Event("ethereum#initialized"))}catch(u){ge("[Ethereum] Unable to set global provider - window.ethereum may be read-only",u)}var l;if(i&&typeof window<"u")try{(function(u,d=console){let h=!1,m=!1;if(!window.web3){const g="__isMetaMaskShim__";let b={currentProvider:u};Object.defineProperty(b,g,{value:!0,enumerable:!0,configurable:!1,writable:!1}),b=new Proxy(b,{get:(w,E,...y)=>(E!=="currentProvider"||h?E==="currentProvider"||E===g||m||(m=!0,d.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),u.request({method:"metamask_logWeb3ShimUsage"}).catch(_=>{d.debug("MetaMask: Failed to log web3 shim usage.",_)})):(h=!0,d.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(w,E,...y)),set:(...w)=>(d.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...w))}),Object.defineProperty(window,"web3",{value:b,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(u){ge("[Ethereum] Unable to shim web3 - window.web3 may be read-only",u)}this.provider.on("display_uri",u=>{this.sdkInstance.emit(li.DisplayURI,u)}),this.provider.on("_initialized",()=>{const u={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(li.Initialized,u),ge("[Ethereum: constructor()] provider initialized",u)})}static init(e){var n;return ge("[Ethereum: init()] Initializing Ethereum service"),this.instance=new Oo(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class sp{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return function(i,o,s,a){const{state:l}=i;ge(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),ge(`[PlatfformManager: openDeeplink()] deepLink --> ${s}`);try{if(l.preferredOpenLink)return void l.preferredOpenLink(l.useDeeplink?s:o,a);if(ge(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${l.useDeeplink} link=${l.useDeeplink?s:o}`),l.useDeeplink)typeof window<"u"&&(window.location.href=s);else if(typeof document<"u"){const u=document.createElement("a");u.href=o,u.target="_self",u.rel="noreferrer noopener",u.click()}}catch(u){console.log("[PlatfformManager: openDeeplink()] can't open link",u)}}(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&(window==null?void 0:window.navigator)&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const e=Oo.getProvider()||(window==null?void 0:window.ethereum);return ge(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e==null?void 0:e.isMetaMask} isConnected=${e==null?void 0:e.isConnected()}`),(e==null?void 0:e.isMetaMask)&&(e==null?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;const r=y6.parse(window.navigator.userAgent);return((e=r==null?void 0:r.platform)===null||e===void 0?void 0:e.type)==="mobile"||((n=r==null?void 0:r.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===xr.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!(window!=null&&window.navigator)||Hr!==void 0&&((e=Hr==null?void 0:Hr.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||(navigator==null?void 0:navigator.product)==="ReactNative"}isNotBrowser(){return sp.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return sp.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?xr.ReactNative:e.isNotBrowser()?xr.NonBrowser:e.isMetaMaskMobileWebView()?xr.MetaMaskMobileWebview:e.isMobile()?xr.MobileWeb:xr.DesktopWeb}(this)}}const v6=t=>Se(void 0,void 0,void 0,function*(){if(sp.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then(function(){return X$});return new n(t)}const e={persistChannelConfig:()=>Se(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>Se(void 0,void 0,void 0,function*(){}),persistAccounts:()=>Se(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>Se(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>Se(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>Se(void 0,void 0,void 0,function*(){}),terminate:()=>Se(void 0,void 0,void 0,function*(){})};return Promise.resolve(e)});class F$ extends L${constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},ge(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return Se(this,void 0,void 0,function*(){return ge(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){ge("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||"":(ge("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;ge(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",h6.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return Se(this,void 0,void 0,function*(){return function(e){var n,r;return Se(this,void 0,void 0,function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=e;let o;if(i.providerStateRequested)ge("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let s;i.providerStateRequested=!0;let a=null,l=!1,u=!1;const d=yield v6({enabled:!0});if(d){const h=yield d.getPersistedChannelConfig({});l=(n=h==null?void 0:h.relayPersistence)!==null&&n!==void 0&&n,s=yield d.getCachedChainId();const m=yield d.getCachedAccounts();m.length>0&&(a=m[0])}if(ge(`[SDKProvider: initializeStateAsync()] relayPersistence=${l}`,{relayPersistence:l,cachedChainId:s,cachedSelectedAddress:a}),l)if(s&&a)o={accounts:[a],chainId:s,isUnlocked:!1},u=!0;else try{o=yield e.request({method:"metamask_getProviderState"})}catch(h){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",h),void(i.providerStateRequested=!1)}if(((r=o==null?void 0:o.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())o.accounts=[e.getSelectedAddress()];else{ge("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const h=yield e.request({method:"eth_requestAccounts",params:[]});o.accounts=h}e._initializeState(o),i.providerStateRequested=!1,u&&(e._state.isConnected=!0,e.emit("connect",{chainId:o==null?void 0:o.chainId}))}})}(this)})}_initializeState(e){return ge("[SDKProvider: _initializeState()]",e),function(n,r,i){return ge("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,function({instance:r,chainId:i,networkVersion:o,superHandleChainChanged:s}){ge(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let a=o;o||(ge("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),a="1"),r._state.isConnected=!0,r.emit("connect",{chainId:i}),s({chainId:i,networkVersion:a})}({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var ap,cu={name:"@metamask/sdk",version:"0.32.1",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(ap||(ap={}));const _I="direct",Nh="https://metamask.app.link/connect",Lh="metamask://connect",xI={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},j$=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,at={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},lp={[at.ETH_REQUESTACCOUNTS]:!0,[at.ETH_SENDTRANSACTION]:!0,[at.ETH_SIGNTRANSACTION]:!0,[at.ETH_SIGN]:!0,[at.PERSONAL_SIGN]:!0,[at.ETH_ACCOUNTS]:!1,[at.ETH_CHAINID]:!1,[at.PERSONAL_SIGN]:!0,[at.ETH_SIGNTYPEDDATA]:!0,[at.ETH_SIGNTYPEDDATA_V3]:!0,[at.ETH_SIGNTYPEDDATA_V4]:!0,[at.WALLET_REQUESTPERMISSIONS]:!0,[at.WALLET_GETPERMISSIONS]:!0,[at.WALLET_WATCHASSET]:!0,[at.WALLET_ADDETHEREUMCHAIN]:!0,[at.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[at.METAMASK_CONNECTSIGN]:!0,[at.METAMASK_CONNECTWITH]:!0,[at.PERSONAL_EC_RECOVER]:!0,[at.METAMASK_BATCH]:!0,[at.METAMASK_OPEN]:!0},U$=Object.keys(lp).filter(t=>lp[t]===!0).map(t=>t.toLowerCase()),w6=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(t=>t.toLowerCase()),nE=".sdk-comm",hy="providerType",L_=".MMSDK_cached_address",B_=".MMSDK_cached_chainId",SI="chainChanged",AI="accountsChanged",CI="disconnect",kI="connect",TI="connected";var ao;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(ao||(ao={}));const $$=typeof window<"u"&&window.localStorage;function II(t){var e,n;return Se(this,void 0,void 0,function*(){ge("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});ge(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(hy,"extension"),t.extensionActive=!0,t.emit(li.ProviderUpdate,ao.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:Pn.SDK_USE_EXTENSION}))})}function py(t){let e;if(xe!==void 0)e=xe.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,(n,r)=>String.fromCharCode(parseInt(r,16))));else{if(typeof Hr!="object"||!("Buffer"in Hr))throw new Error("Unable to base64 encode: No available method.");e=Hr.Buffer.from(t,"utf8").toString("base64")}return e}class H$ extends xd.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(ke.MESSAGE,this._onMessage)}_write(e,n,r){return Se(this,void 0,void 0,function*(){return function(i,o,s,a){var l,u,d,h,m,g,b,w,E,y,_,x,P,M,L,K,j,G,V,W;return Se(this,void 0,void 0,function*(){const q=(l=i.state.remote)===null||l===void 0?void 0:l.isReady(),k=(u=i.state.remote)===null||u===void 0?void 0:u.isConnected(),C=(d=i.state.remote)===null||d===void 0?void 0:d.isPaused(),S=Oo.getProvider(),T=(h=i.state.remote)===null||h===void 0?void 0:h.getChannelId(),R=(m=i.state.remote)===null||m===void 0?void 0:m.isAuthorized(),{deeplinkProtocol:B}=i.state,{method:F,data:U,triggeredInstaller:D}=(z=>{var Y,ee,J,oe;let se;xe.isBuffer(z)?(se=z.toJSON(),se._isBuffer=!0):se=z;const ve=(Y=se==null?void 0:se.data)===null||Y===void 0?void 0:Y.method;let de=!1;return typeof((ee=se==null?void 0:se.data)===null||ee===void 0?void 0:ee.params)=="object"&&((oe=(J=se==null?void 0:se.data)===null||J===void 0?void 0:J.params)===null||oe===void 0?void 0:oe.__triggeredInstaller)===!0&&(de=!0,se.data.params=se.data.params.wrappedParams),{method:ve,data:se,triggeredInstaller:de}})(o);if(ge(`[RCPMS: write()] method='${F}' isRemoteReady=${q} channelId=${T} isSocketConnected=${k} isRemotePaused=${C} providerConnected=${S.isConnected()}`,o),!T)return F!==at.METAMASK_GETPROVIDERSTATE&&ge(`[RCPMS: write()] ${F} --> channelId is undefined`),a(new Error("disconnected"));ge(`[RCPMS: write()] remote.isPaused()=${(g=i.state.remote)===null||g===void 0?void 0:g.isPaused()} authorized=${R} ready=${q} socketConnected=${k}`,o);const O=(b=i.state.platformManager)===null||b===void 0?void 0:b.isSecure(),N=(E=(w=i.state.platformManager)===null||w===void 0?void 0:w.isMobileWeb())!==null&&E!==void 0&&E,H=(_=(y=i.state.remote)===null||y===void 0?void 0:y.hasDeeplinkProtocol())!==null&&_!==void 0&&_&&N&&R;try{if(!D){const ee=JSON.stringify(U==null?void 0:U.data);if(ee.length>1e6)return a(new Error(`Message size ${ee.length} exceeds maximum allowed size of 1000000 bytes`));(x=i.state.remote)===null||x===void 0||x.sendMessage(U==null?void 0:U.data).then(()=>{ge(`[RCPMS: _write()] ${F} sent successfully`)}).catch(J=>{ge("[RCPMS: _write()] error sending message",J)})}if(!O)return ge(`[RCPMS: _write()] unsecure platform for method ${F} -- return callback`),a();if(D)return ge("[RCPMS: _write()] prevent deeplink -- installation completed separately."),a();const z=(L=(M=(P=i.state.remote)===null||P===void 0?void 0:P.getKeyInfo())===null||M===void 0?void 0:M.ecies.public)!==null&&L!==void 0?L:"";let Y=encodeURI(`channelId=${T}&pubkey=${z}&comm=socket&t=d&v=2`);if(H){const ee=JSON.stringify(U==null?void 0:U.data),J=(K=i.state.remote)===null||K===void 0?void 0:K.encrypt(ee);if(!J)return ge("[RCPMS: _write()] error encrypting message"),a(new Error("RemoteCommunicationPostMessageStream - disconnected"));Y+=`&scheme=${B}&rpc=${py(J)}`}if(!(!((j=i.state.platformManager)===null||j===void 0)&&j.isMetaMaskInstalled()))return ge("[RCPMS: _write()] prevent deeplink until installation is completed."),a();lp[F]?(ge(`[RCPMS: _write()] redirect link for '${F}' socketConnected=${k} connect?${Y}`),(G=i.state.platformManager)===null||G===void 0||G.openDeeplink(`${Nh}?${Y}`,`${Lh}?${Y}`,"_self")):!((V=i.state.remote)===null||V===void 0)&&V.isPaused()?(ge(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${F}`),(W=i.state.platformManager)===null||W===void 0||W.openDeeplink(`${Nh}?redirect=true&${Y}`,`${Lh}?redirect=true&${Y}`,"_self")):ge(`[RCPMS: _write()] method ${F} doesn't need redirect.`)}catch(z){return ge("[RCPMS: _write()] error sending message",z),a(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return a()})}(this,e,0,r)})}_read(){}_onMessage(e){return function(n,r){try{if(ge("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof(r==null?void 0:r.data)!="object")return;if(!(r!=null&&r.name))return void ge("[RCPMS: onMessage()] ignore message without name",r);if((r==null?void 0:r.name)!==ap.PROVIDER)return void ge(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(xe.isBuffer(r)){const i=xe.from(r);n.push(i)}else n.push(r)}catch(i){ge(`[RCPMS: onMessage()] ignore message error err=${i}`)}}(this,e)}start(){}}let PI=1;const b6=t=>new Promise(e=>{setTimeout(()=>{e(!0)},t)}),V$=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:o,sdk:s,remoteConnection:a,debug:l})=>Se(void 0,void 0,void 0,function*(){var u,d;const h=(({name:V,remoteConnection:W})=>{if(!W||!(W!=null&&W.getConnector()))throw new Error("Missing remote connection parameter");return new H$({name:V,remote:W==null?void 0:W.getConnector(),deeplinkProtocol:W==null?void 0:W.state.deeplinkProtocol,platformManager:W==null?void 0:W.getPlatformManager()})})({name:ap.INPAGE,target:ap.CONTENT_SCRIPT,remoteConnection:a}),m=i.getPlatformType(),g=s.options.dappMetadata,b=`Sdk/Javascript SdkVersion/${cu.version} Platform/${m} dApp/${(u=g.url)!==null&&u!==void 0?u:g.name} dAppTitle/${g.name}`;let w=null,E=null;const y=(d=s.options.storage)===null||d===void 0?void 0:d.storageManager;if(y){try{const V=yield y.getCachedAccounts();V.length>0&&(w=V[0])}catch(V){console.error(`[initializeMobileProvider] failed to get cached addresses: ${V}`)}try{const V=yield y.getCachedChainId();V&&(E=V)}catch(V){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${V}`)}}ge(`[initializeMobileProvider] cachedAccountAddress: ${w}, cachedChainId: ${E}`);const _=!(!n||m===xr.NonBrowser||m===xr.ReactNative),x=Oo.init({shouldSetOnWindow:_,connectionStream:h,shouldShimWeb3:r,sdkInstance:s});let P=!1;const M=V=>{P=V},L=()=>P,K=(V,W,q,k)=>Se(void 0,void 0,void 0,function*(){var C,S,T,R,B,F,U,D,O;const N=Oo.getProvider();if(P){N.emit("display_uri",(a==null?void 0:a.state.qrcodeLink)||""),a==null||a.showActiveModal();let de=L();for(;de;){const Oe=L(),je=a==null?void 0:a.isAuthorized();de=Oe&&!je,ge(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${Oe} authorized: ${je}`),yield b6(1e3)}return ge("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),q(...W)}const H=i.isMetaMaskInstalled(),z=a==null?void 0:a.isConnected();let Y=null,ee=null,J=null;if(Y=(C=N.getSelectedAddress())!==null&&C!==void 0?C:w,J=N.getChainId()||E,Y&&y&&Y!==w&&y.persistAccounts([Y]).catch(de=>{console.error(`[initializeMobileProvider] failed to persist account: ${de}`)}),J&&(E=J,y&&y.persistChainId(J).catch(de=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${de}`)})),ge("[initializeMobileProvider: sendRequest()]",{selectedAddress:Y,chainId:J}),k&&ge(`[initializeMobileProvider: sendRequest()] method=${V} ongoing=${P} selectedAddress=${Y} isInstalled=${H} checkInstallationOnAllCalls=${t} socketConnected=${z}`),Y&&V.toLowerCase()===at.ETH_ACCOUNTS.toLowerCase())return[Y];if(J&&V.toLowerCase()===at.ETH_CHAINID.toLowerCase())return J;const oe=[at.ETH_REQUESTACCOUNTS,at.WALLET_REQUESTPERMISSIONS,at.METAMASK_CONNECTSIGN,at.METAMASK_CONNECTWITH],se=!lp[V],ve=(S=s.options.readonlyRPCMap)===null||S===void 0?void 0:S[J];if(ve&&se)try{const de=(T=W==null?void 0:W[0])===null||T===void 0?void 0:T.params,Oe=yield(({rpcEndpoint:je,method:we,sdkInfo:_e,params:Ee})=>Se(void 0,void 0,void 0,function*(){const Ae=JSON.stringify({jsonrpc:"2.0",method:we,params:Ee,id:(PI+=1,PI)}),Re={Accept:"application/json","Content-Type":"application/json"};let $e;je.includes("infura")&&(Re["Metamask-Sdk-Info"]=_e);try{$e=yield O5(je,{method:"POST",headers:Re,body:Ae})}catch(Ke){throw Ke instanceof Error?new Error(`Failed to fetch from RPC: ${Ke.message}`):new Error(`Failed to fetch from RPC: ${Ke}`)}if(!$e.ok)throw new Error(`Server responded with a status of ${$e.status}`);return(yield $e.json()).result}))({rpcEndpoint:ve,sdkInfo:b,method:V,params:de||[]});return k&&ge(`initializeProvider::ReadOnlyRPCResponse ${Oe}`),Oe}catch(de){console.warn(`[initializeMobileProvider: sendRequest()] method=${V} readOnlyRPCRequest failed:`,de)}if((!H||H&&!z)&&V!==at.METAMASK_GETPROVIDERSTATE){const de=((R=W==null?void 0:W[0])===null||R===void 0?void 0:R.params)||[];if(oe.indexOf(V)!==-1||t){M(!0);const Oe=V===at.METAMASK_CONNECTWITH,je=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:Oe?{method:V,id:je,params:de}:void 0}),yield new Promise((we,_e)=>{a!=null&&a.isAuthorized()&&(ge("[initializeMobileProvider: sendRequest()] already authorized"),we(!0)),a==null||a.getConnector().once(ke.AUTHORIZED,()=>{we(!0)}),s.once(ke.PROVIDER_UPDATE,Ee=>{ge(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${Ee}`),Ee===ao.EXTENSION?_e(ke.PROVIDER_UPDATE):_e(new Error("Connection Terminated"))})})}catch(we){if(ao.EXTENSION===we){if(ge(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${V} on the active provider`),V.toLowerCase()===at.METAMASK_CONNECTSIGN.toLowerCase()){const _e=yield(B=s.getProvider())===null||B===void 0?void 0:B.request({method:at.ETH_REQUESTACCOUNTS,params:[]});if(!_e.length)throw new Error("SDK state invalid -- undefined accounts");const Ee=yield(F=s.getProvider())===null||F===void 0?void 0:F.request({method:at.PERSONAL_SIGN,params:[de[0],_e[0]]});return s.emit(li.ConnectWithResponse,Ee),Ee}if(V.toLowerCase()===at.METAMASK_CONNECTWITH.toLowerCase()){const[_e]=de,Ee=yield(({method:Ae,sdk:Re,params:$e})=>Se(void 0,void 0,void 0,function*(){var Ke,Q,re,le;if(!Re.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");ge("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",Ae,$e);const Ce=yield(Ke=Re.getProvider())===null||Ke===void 0?void 0:Ke.request({method:at.ETH_REQUESTACCOUNTS,params:[]});if(!Ce.length)throw new Error("SDK state invalid -- undefined accounts");if((Ae==null?void 0:Ae.toLowerCase())===at.PERSONAL_SIGN.toLowerCase()){const Ie={method:Ae,params:[$e[0],Ce[0]]};return yield(Q=Re.getProvider())===null||Q===void 0?void 0:Q.request(Ie)}if((Ae==null?void 0:Ae.toLowerCase())===at.ETH_SENDTRANSACTION.toLowerCase()){const Ie={method:Ae,params:[Object.assign(Object.assign({},$e[0]),{from:Ce[0]})]};return yield(re=Re.getProvider())===null||re===void 0?void 0:re.request(Ie)}return w6.includes(Ae.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${Ae} -- not handled by the extension -- call separately`),Ce):yield(le=Re.getProvider())===null||le===void 0?void 0:le.request({method:Ae,params:$e})}))({method:_e.method,sdk:s,params:_e.params});return s.emit(li.ConnectWithResponse,Ee),Ee}return ge(`[initializeMobileProvider: sendRequest()] sending '${V}' on active provider`,de),yield(U=s.getProvider())===null||U===void 0?void 0:U.request({method:V,params:de})}throw we===ke.REJECTED?(a==null||a.closeModal(),(D=s.getProvider())===null||D===void 0||D.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(ge(`[initializeMobileProvider: sendRequest()] failed to start installer: ${we}`),we)}finally{M(!1)}if(V===at.ETH_REQUESTACCOUNTS)return ee=yield new Promise(we=>{const _e=setInterval(()=>{const{accounts:Ee}=N.getState();Ee&&(clearInterval(_e),we(Ee))},100)}),ge(`[initializeMobileProvider: sendRequest()] selectedAddress: ${Y} --- SKIP rpc call`),ee;if(V===at.METAMASK_CONNECTWITH)try{let we=0;const _e=5,Ee=({resolve:Ke,reject:Q})=>{we+=1;const re=a==null?void 0:a.getConnector().getRPCMethodTracker(),le=re==null?void 0:re[je];return ge(`TRACKER: update method ${je}`,le),le!=null&&le.result?(ge("[initializeMobileProvider: sendRequest()] found result",le.result),s.emit(li.ConnectWithResponse,le.result),void Ke(le.result)):le!=null&&le.error?(ge("[initializeMobileProvider: sendRequest()] found error",le.error),void Q(le.error)):we>=_e?(ge("[initializeMobileProvider: sendRequest()] max message count reached without result"),void Q(new Error("Max message count reached without result"))):void ge("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let Ae,Re;const $e=yield new Promise((Ke,Q)=>{const re=a==null?void 0:a.getConnector().getRPCMethodTracker();ge(`TRACKER: method ${je}`,re),re!=null&&re[je].result?(ge("[initializeMobileProvider: sendRequest()] found result",re==null?void 0:re[je].result),Ke(re==null?void 0:re[je].result)):re!=null&&re[je].error&&(ge("[initializeMobileProvider: sendRequest()] found error",re==null?void 0:re[je].error),Q(re==null?void 0:re[je].error)),Re=()=>Ee({resolve:Ke,reject:Q}),Ae=a==null?void 0:a.getConnector().on(ke.RPC_UPDATE,Re)});return Re&&(Ae==null||Ae.off(ke.RPC_UPDATE,Re)),ge("TRACKER: result",$e),$e}catch(we){throw ge("[initializeMobileProvider: sendRequest()] error:",we),we}return W[0]&&typeof W[0]=="object"&&(W[0].params={__triggeredInstaller:!0,wrappedParams:W[0].params}),q(...W)}if(i.isSecure()&&lp[V])return q(...W);if(s.isExtensionActive())return ge(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${V}' to it`,W,de),yield(O=s.getProvider())===null||O===void 0?void 0:O.request({method:V,params:de});throw ge(`[initializeMobileProvider: sendRequest()] method=${V} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const de=yield q(...W);if(ge(`[initializeMobileProvider: sendRequest()] method=${V} rpcResponse`,de),V===at.WALLET_REQUESTPERMISSIONS){const Oe=de.reduce((je,we)=>{var _e;if(we.parentCapability==="eth_accounts"){const Ee=(_e=we.caveats.find(Ae=>Ae.type==="restrictReturnedAccounts"))===null||_e===void 0?void 0:_e.value;Ee&&je.push(...Ee)}return je},[]);ge("[initializeMobileProvider: sendRequest()] accountsToPersist:",Oe),Oe.length>0&&(N.handleAccountsChanged(Oe,!1),y==null||y.persistAccounts(Oe))}return de}catch(de){throw console.error("[initializeMobileProvider: sendRequest()] error:",de),de}}),{request:j}=x;x.request=(...V)=>Se(void 0,void 0,void 0,function*(){return K(V==null?void 0:V[0].method,V,j,l)});const{send:G}=x;return x.send=(...V)=>Se(void 0,void 0,void 0,function*(){return K(V==null?void 0:V[0],V,G,l)}),ge("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),h.start(),x});class z${constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=Kc,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:"sdk",event:e,sdkVersion:cu.version},this.originatorInfo),{params:n});ge(`[Analytics: send()] event: ${e}`,r),ua(r,this.serverURL).catch(i=>{ge(`[Analytics: send()] error: ${i}`)})}}function RI(t){var e,n,r;const{dappMetadata:i}=t,o=function({url:d,name:h}){var m;const g=py(d+h);if(!localStorage)return"";let b=(m=localStorage.getItem(g))!==null&&m!==void 0?m:"";if(!b){b=rS();try{localStorage.setItem(g,b)}catch{return""}}return b}({url:(e=i==null?void 0:i.url)!==null&&e!==void 0?e:"no_url",name:(n=i==null?void 0:i.name)!==null&&n!==void 0?n:"no_name"}),s=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),a=s===xr.DesktopWeb,l=s===xr.MetaMaskMobileWebview;let u="N/A";return a?u="extension":l&&(u="mobile"),{id:o,from:u}}const MI=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(n,r)=>r==="request"?function(i){var o,s;return Se(this,void 0,void 0,function*(){ge("[wrapExtensionProvider()] Overwriting request method",i);const{method:a,params:l}=i,u=U$.includes(a.toLowerCase()),{id:d,from:h}=RI(e);if(u&&((o=e.analytics)===null||o===void 0||o.send({event:Pn.SDK_RPC_REQUEST,params:{method:a,from:h,id:d}})),a===at.METAMASK_BATCH&&Array.isArray(l))return(({target:g,args:b,trackEvent:w,sdkInstance:E})=>Se(void 0,void 0,void 0,function*(){var y,_;if(b.method!=="metamask_batch")throw new Error("Invalid usage");const x=[],P=(y=b==null?void 0:b.params)!==null&&y!==void 0?y:[];for(const K of P){const j=yield g==null?void 0:g.request({method:K.method,params:K.params});x.push(j)}const{id:M,from:L}=RI(E);return w&&((_=E.analytics)===null||_===void 0||_.send({event:Pn.SDK_RPC_REQUEST_DONE,params:{method:b.method,from:L,id:M}})),x}))({target:n,args:i,trackEvent:u,sdkInstance:e});if(a.toLowerCase()===at.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(l))return(({target:g,params:b})=>Se(void 0,void 0,void 0,function*(){const w=yield g.request({method:at.ETH_REQUESTACCOUNTS,params:[]});if(!w.length)throw new Error("SDK state invalid -- undefined accounts");return yield g.request({method:at.PERSONAL_SIGN,params:[b[0],w[0]]})}))({target:n,params:l});if(a.toLowerCase()===at.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(l))return(({target:g,params:b})=>Se(void 0,void 0,void 0,function*(){const[w]=b,E=w.method,y=w.params,_=yield g.request({method:at.ETH_REQUESTACCOUNTS,params:[]});if(!_.length)throw new Error("SDK state invalid -- undefined accounts");return(E==null?void 0:E.toLowerCase())===at.PERSONAL_SIGN.toLowerCase()?yield g.request({method:E,params:[y[0],_[0]]}):(E==null?void 0:E.toLowerCase())===at.ETH_SENDTRANSACTION.toLowerCase()?yield g.request({method:E,params:[Object.assign(Object.assign({},y[0]),{from:_[0]})]}):w6.includes(E.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${E} -- not handled by the extension -- call separately`),_):yield g.request({method:E,params:y})}))({target:n,params:l});let m;try{return m=yield n.request(i),m}finally{u&&((s=e.analytics)===null||s===void 0||s.send({event:Pn.SDK_RPC_REQUEST_DONE,params:{method:a,from:h,id:d}}))}})}:r==="getChainId"?function(){return t.chainId}:r==="getNetworkVersion"?function(){return t.networkVersion}:r==="getSelectedAddress"?function(){return t.selectedAddress}:r==="isConnected"?function(){return t._state.isConnected}:n[r]})};var my;(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(my||(my={}));var OI="INSTALLED",NI="NOT_INSTALLED",LI="REGISTERED",BI="REGISTERING",DI="RELOADING",FI={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},K0="REGISTRATION_IN_PROGRESS",jI="FORWARDER_ID",K$=function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,o=n.forwarderMode,s=o===void 0?t.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=s,this.state=t.isMetaMaskInstalled()?OI:NI;var a=t._detectBrowser();this.downloadUrl=a?FI[a]:FI.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),s===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(K0)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return function(n,r,i,o){return new(i||(i=Promise))(function(s,a){function l(h){try{d(o.next(h))}catch(m){a(m)}}function u(h){try{d(o.throw(h))}catch(m){a(m)}}function d(h){var m;h.done?s(h.value):(m=h.value,m instanceof i?m:new i(function(g){g(m)})).then(l,u)}d((o=o.apply(n,[])).next())})}(this,0,void 0,function(){return function(n,r){var i,o,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(d){return function(h){return function(m){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,o=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(!((s=(s=l.trys).length>0&&s[s.length-1])||m[0]!==6&&m[0]!==2)){l=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){l.label=m[1];break}if(m[0]===6&&l.label<s[1]){l.label=s[1],s=m;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(m);break}s[2]&&l.ops.pop(),l.trys.pop();continue}m=r.call(n,l)}catch(g){m=[6,g],o=0}finally{i=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,h])}}}(this,function(n){switch(n.label){case 0:switch(this.state){case DI:return[3,1];case NI:return[3,2];case OI:return[3,3];case BI:return[3,5];case LI:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=DI,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=BI,[4,t._register()];case 4:return n.sent(),this.state=LI,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},t.prototype.startOnboarding=function(){sessionStorage.setItem(K0,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(K0)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(K0,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",e),r.setAttribute("id",jI),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(jI))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=y6.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t}();class q${constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return function(){return Se(this,void 0,void 0,function*(){ge("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new K$().startOnboarding()})}()}redirectToProperInstall(){return Se(this,void 0,void 0,function*(){return function(e){var n,r;return Se(this,void 0,void 0,function*(){const{state:i}=e,o=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(ge(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===xr.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(s){throw i.isInstalling=!1,s}return!0})}(this)})}checkInstallation(){return Se(this,void 0,void 0,function*(){return function(e){var n;return Se(this,void 0,void 0,function*(){const{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return ge(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())})}(this)})}start({wait:e=!1,connectWith:n}){return Se(this,void 0,void 0,function*(){this.state.connectWith=n,ge(`[MetaMaskInstaller: start()] wait=${e}`,n),yield function(r,{wait:i=!1}){return Se(this,void 0,void 0,function*(){return ge(`[MetamaskInstaller: startInstaller()] wait=${i}`),i&&(yield b6(1e3)),yield r.checkInstallation()})}(this,{wait:e})})}}class E6{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return Se(this,void 0,void 0,function*(){if(!this.defined[e]){this.defined[e]=!0;try{const n=yield Promise.resolve().then(function(){return yH});console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}})}renderInstallModal(e){var n;return Se(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const r=document.createElement("mm-install-modal");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",i=>{var o;return(o=e.onAnalyticsEvent)===null||o===void 0?void 0:o.call(e,i.detail)}),e.parentElement.appendChild(r)})}renderSelectModal(e){var n;return Se(this,void 0,void 0,function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const r=document.createElement("mm-select-modal");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout(()=>this.updateQRCode(e.link),100)})}renderPendingModal(e){var n;return Se(this,void 0,void 0,function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const r=document.createElement("mm-pending-modal");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener("close",e.onClose),r.addEventListener("updateOTPValue",({detail:{otpValue:i}})=>e.updateOTPValue(i)),e.onDisconnect&&r.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(r)})}updateOTPValue(e){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout(()=>{n()},800)}updateQRCode(e){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=e;else{const o=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");o&&(o.link=e)}}unmount(){Object.entries(this.containers).forEach(([e,n])=>{var r;(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0})}}const G$=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:s})=>{let a=null,l=null;ge("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),ge(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),ge(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),ge(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),ge(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);const u=d=>{var h;ge("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",d,l),l!=null&&l.parentNode&&((h=l.parentNode)===null||h===void 0||h.removeChild(l)),l=null,a=null,d===!0&&(r==null||r())};return{mount:d=>{if(ge("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",l),l)return l.style.display="block",void(a==null||a.updateQRCode(d));a=new E6({debug:e,sdkVersion:cu.version}),l=document.createElement("div"),document.body.appendChild(l),window.extension?a.renderSelectModal({parentElement:l,connectWithExtension:()=>{u(),i==null||i()},onClose:u,link:t,preferDesktop:o!=null&&o}).catch(h=>{console.error(h)}):a.renderInstallModal({parentElement:l,preferDesktop:o!=null&&o,link:t,metaMaskInstaller:n,onClose:u,onAnalyticsEvent:s}).catch(h=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",h)})},unmount:u}},W$=({onDisconnect:t,debug:e})=>{let n=null,r=null;const i=()=>{ge("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n!=null&&n.parentNode&&n.parentNode.removeChild(n),n=null,r=null},o=a=>{ge("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",a),r&&r.updateOTPValue(a)},s=({displayOTP:a}={displayOTP:!0})=>{ge("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new E6({debug:e,sdkVersion:cu.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:o,displayOTP:a}).catch(l=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",l)}))};return s(),{mount:s,unmount:i,updateOTPValue:o}};function _6(t,e){var n,r,i,o;t.connector||(ge("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new vU({platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:cu.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(ge("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(o=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,()=>!1,1e4)))}function D_(t){t.listeners.forEach(({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)}),t.listeners=[]}function x6(t,e){function n(r,i){var o;(o=t.connector)===null||o===void 0||o.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(D_(t),n(ke.WALLET_INIT,({accounts:r,chainId:i})=>Se(this,void 0,void 0,function*(){ge(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const o=Oo.getProvider();o._setConnected();const s={accounts:r,chainId:i,isUnlocked:!1};o._initializeState(s),o.emit("chainChanged",i),o.emit("accountsChanged",r)})),n(ke.AUTHORIZED,()=>Se(this,void 0,void 0,function*(){var r,i,o,s;try{ge("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);const a=Oo.getProvider();a._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!1),t.otpAnswer=void 0,t.authorized=!0,ge("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",a.getState()),yield a.forceInitializeState()}catch{}})),n(ke.TERMINATE,()=>{var r,i,o,s,a;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(a=t.connector)===null||a===void 0||a.disconnect({terminate:!0}),t.authorized=!1,Oo.getProvider().handleDisconnect({terminate:!0}),D_(t),ge("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function Y$(t,e,{initialCheck:n,connectWith:r}={}){var i,o,s,a,l,u,d,h,m,g,b,w,E,y,_,x,P,M,L;return Se(this,void 0,void 0,function*(){try{if(_6(t,e),!t.connector)throw new Error("no connector defined");x6(t);const K=Oo.getProvider();t.authorized=!1,K.emit("connecting");const j=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();ge(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,j);let G=(o=j==null?void 0:j.channelId)!==null&&o!==void 0?o:"",V=(a=(s=t.connector.getKeyInfo())===null||s===void 0?void 0:s.ecies.public)!==null&&a!==void 0?a:"",W=(u=(l=t.connector.getKeyInfo())===null||l===void 0?void 0:l.ecies.private)!==null&&u!==void 0?u:"";if(n&&!j)return Promise.resolve();if(!j&&!n){const z=yield t.connector.generateChannelIdConnect();G=(d=z.channelId)!==null&&d!==void 0?d:"",V=(h=z.pubKey)!==null&&h!==void 0?h:"",W=(m=z.privKey)!==null&&m!==void 0?m:"";const Y=Date.now();(g=t.connector.state.storageManager)===null||g===void 0||g.persistChannelConfig({channelId:G,localKey:W,lastActive:Y,validUntil:Y+Pd})}if(n&&(j!=null&&j.channelId))return!((b=t.connector)===null||b===void 0)&&b.isConnected()||(ge(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,j),yield(w=t.connector)===null||w===void 0?void 0:w.connectToChannel({channelId:G})),Promise.resolve();j&&!(!((E=t.connector)===null||E===void 0)&&E.isConnected())&&(ge("[RemoteConnection: startConnection()] reconnecting to channel",j),yield(y=t.connector)===null||y===void 0?void 0:y.connectToChannel({channelId:G}));const q=!((_=t.platformManager)===null||_===void 0)&&_.isSecure()?"":"&t=q",k=cu.version,{iconUrl:C,name:S,url:T,scheme:R}=e.dappMetadata||{},B=(x=t.platformManager)===null||x===void 0?void 0:x.getPlatformType();let F="N/A";typeof window<"u"&&window.location&&window.location.hostname?F=window.location.hostname:S!==void 0?F=S:T!==void 0&&(F=T);const U={url:T??"",title:S??"",icon:C,scheme:R??"",apiVersion:k,dappId:F||T||"N/A",platform:B??"",source:(P=e._source)!==null&&P!==void 0?P:""},D=py(JSON.stringify(U));let O=`channelId=${G}&v=2&comm=${(M=t.communicationLayerPreference)!==null&&M!==void 0?M:""}&pubkey=${V}${q}&originatorInfo=${D}`;if(r){O+=`&rpc=${py(JSON.stringify(r))}`;const z=t.connector.getRPCMethodTracker();z&&(z[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const N=encodeURI(O),H=`${t.useDeeplink?Lh:Nh}?${O}`;return t.qrcodeLink=H,t.developerMode&&ge(`[RemoteConnection: startConnection()] qrcodeLink=${N}`),K.emit("display_uri",H),!((L=t.platformManager)===null||L===void 0)&&L.isSecure()?(yield function(z,Y){var ee,J;return Se(this,void 0,void 0,function*(){const oe=`${Nh}?${Y}`,se=`${Lh}?${Y}`;(J=(ee=z.platformManager)===null||ee===void 0?void 0:ee.openDeeplink)===null||J===void 0||J.call(ee,oe,se,"_self")})}(t,N),new Promise((z,Y)=>{var ee,J,oe;!((ee=t.connector)===null||ee===void 0)&&ee.isAuthorized()?z():((J=t.connector)===null||J===void 0||J.once(ke.AUTHORIZED,()=>{z()}),(oe=t.connector)===null||oe===void 0||oe.once(ke.REJECTED,()=>{Y(ke.REJECTED)}))})):function(z,Y,ee){return Se(this,void 0,void 0,function*(){return new Promise((J,oe)=>{if(!z.connector)return void oe(new Error("No connector available"));ge("[RemoteConnection: connectWithModalInstaller()]",{state:z,options:Y,linkParams:ee});const se=`${z.useDeeplink?Lh:Nh}?${ee}`;(function(ve,de,Oe){var je,we,_e,Ee;ve.installModal=(we=(je=de.modals).install)===null||we===void 0?void 0:we.call(je,{link:Oe,preferDesktop:ve.preferDesktop,installer:de.getMetaMaskInstaller(),terminate:()=>{ge("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),de.sdk.terminate().catch(Ae=>{console.warn("[MMSDK] failed to terminate connection",Ae)})},debug:ve.developerMode,connectWithExtension:()=>{var Ae;return(Ae=de.connectWithExtensionProvider)===null||Ae===void 0||Ae.call(de),!1},onAnalyticsEvent:({event:Ae,params:Re})=>{var $e,Ke,Q;const re=Object.assign(Object.assign({},Re),{sdkVersion:de.sdk.getVersion(),dappId:($e=de.dappMetadata)===null||$e===void 0?void 0:$e.name,source:de._source,url:(Ke=de.dappMetadata)===null||Ke===void 0?void 0:Ke.url});(Q=ve.analytics)===null||Q===void 0||Q.send({event:Ae,params:re})}}),(Ee=(_e=ve.installModal)===null||_e===void 0?void 0:_e.mount)===null||Ee===void 0||Ee.call(_e,Oe)})(z,Y,se),Y.sdk.once(ke.PROVIDER_UPDATE,ve=>Se(this,void 0,void 0,function*(){ge("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),ve!==ao.TERMINATE?oe(ve):oe({code:4001,message:"User rejected the request."})})),z.connector.once(ke.AUTHORIZED,()=>{J()}),z.connector.once(ke.REJECTED,()=>{oe(ke.REJECTED)}),z.connector.once(ke.CLIENTS_READY,()=>Se(this,void 0,void 0,function*(){ge("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),J()}))})})}(t,e,N)}catch(K){throw console.error("[startConnection] error",K),K}})}class Q${constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=o,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=G$),e.modals.otp||(e.modals.otp=W$)}startConnection(e){return Se(this,void 0,void 0,function*(){return Y$(this.state,this.options,e)})}initRemoteCommunication({sdkInstance:e}){var n,r,i;return Se(this,void 0,void 0,function*(){const o=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const s={privateKey:o==null?void 0:o.localKey};this.options.ecies=s}_6(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),x6(this.state,this.options)})}showActiveModal(){return function(e){var n,r,i,o;e.authorized?ge("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((o=(i=e.installModal).mount)===null||o===void 0||o.call(i,e.qrcodeLink||""))}(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;ge("[RemoteConnection: disconnect()]",e),e!=null&&e.terminate&&(Oo.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),function(o){ge("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(D_(o),o.connector.disconnect({terminate:!0}).catch(s=>{ge("[RemoteConnection: cleanupConnector()] error disconnecting connector",s)}))}(this.state)}}function Z$(t){var e,n,r,i,o,s,a,l,u,d,h;return Se(this,void 0,void 0,function*(){const{options:m}=t;if(m.logging=(e=m.logging)!==null&&e!==void 0?e:{},m.communicationLayerPreference=(n=m.communicationLayerPreference)!==null&&n!==void 0?n:Lc.SOCKET,m.enableDebug!==void 0&&(jr.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),m.enableAnalytics=(r=m.enableAnalytics)===null||r===void 0||r,m.injectProvider=(i=m.injectProvider)===null||i===void 0||i,m.shouldShimWeb3=(o=m.shouldShimWeb3)===null||o===void 0||o,m.extensionOnly=(s=m.extensionOnly)===null||s===void 0||s,m.useDeeplink=(a=m.useDeeplink)===null||a===void 0||a,m.storage=(l=m.storage)!==null&&l!==void 0?l:{enabled:!0},m.headless){jr("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const _=()=>{},x={install:()=>({mount:_,unmount:_})},P={installer:_};m.modals=x,m.ui=P}const g=((u=m.logging)===null||u===void 0?void 0:u.developerMode)===!0;t.debug=((d=m.logging)===null||d===void 0?void 0:d.sdk)||g,ge("[MetaMaskSDK: performSDKInitialization()] options",t.options);const b=Object.assign({},m.logging);g&&(b.sdk=!0,b.eciesLayer=!0,b.keyExchangeLayer=!0,b.remoteLayer=!0,b.serviceLayer=!0,b.plaintext=!0),yield function(_){var x;return Se(this,void 0,void 0,function*(){const{options:P}=_;_.platformManager=new sp({useDeepLink:(x=P.useDeeplink)!==null&&x!==void 0&&x,preferredOpenLink:P.openDeeplink,debug:_.debug})})}(t),yield function(_){var x,P,M,L,K,j,G,V,W;return Se(this,void 0,void 0,function*(){const{options:q}=_,k=(x=_.platformManager)===null||x===void 0?void 0:x.getPlatformType();_.analytics=new z$({serverUrl:(P=q.communicationServerUrl)!==null&&P!==void 0?P:Kc,enabled:q.enableAnalytics,originatorInfo:{url:(M=q.dappMetadata.url)!==null&&M!==void 0?M:"",title:(L=q.dappMetadata.name)!==null&&L!==void 0?L:"",dappId:typeof window>"u"||window.location===void 0?(V=(j=(K=q.dappMetadata)===null||K===void 0?void 0:K.name)!==null&&j!==void 0?j:(G=q.dappMetadata)===null||G===void 0?void 0:G.url)!==null&&V!==void 0?V:"N/A":window.location.hostname,platform:k??"",source:(W=q._source)!==null&&W!==void 0?W:""}})})}(t),yield function(_){var x;return Se(this,void 0,void 0,function*(){const{options:P}=_;((x=P.storage)===null||x===void 0?void 0:x.enabled)!==!0||P.storage.storageManager||(P.storage.storageManager=yield v6(P.storage))})}(t),yield function(_){return Se(this,void 0,void 0,function*(){const{options:x}=_,P=/^(http|https):\/\/[^\s]*$/;if(x.dappMetadata){x.dappMetadata.iconUrl&&!P.test(x.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),x.dappMetadata.iconUrl=void 0),x.dappMetadata.base64Icon&&x.dappMetadata.base64Icon.length>163400&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),x.dappMetadata.base64Icon=void 0),x.dappMetadata.url&&!P.test(x.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const M=(()=>{if(typeof document>"u")return;let L;const K=document.getElementsByTagName("link");for(let j=0;j<K.length;j++)K[j].getAttribute("rel")!=="icon"&&K[j].getAttribute("rel")!=="shortcut icon"||(L=K[j].getAttribute("href"));return L})();if(M&&!x.dappMetadata.iconUrl&&!x.dappMetadata.base64Icon){const L=`${window.location.protocol}//${window.location.host}${M}`;x.dappMetadata.iconUrl=L}}_.dappMetadata=x.dappMetadata})}(t),yield(_=>Se(void 0,void 0,void 0,function*(){const{options:x}=_,{infuraAPIKey:P}=x;if(!P)return;const M={"0x1":`https://mainnet.infura.io/v3/${P}`,"0x5":`https://goerli.infura.io/v3/${P}`,"0xaa36a7":`https://sepolia.infura.io/v3/${P}`,"0xe708":`https://linea-mainnet.infura.io/v3/${P}`,"0xe704":`https://linea-goerli.infura.io/v3/${P}`,"0x89":`https://polygon-mainnet.infura.io/v3/${P}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${P}`,"0x45":`https://optimism-mainnet.infura.io/v3/${P}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${P}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${P}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${P}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${P}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${P}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${P}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${P}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${P}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${P}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${P}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${P}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${P}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${P}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${P}`};_.options.readonlyRPCMap?_.options.readonlyRPCMap=Object.assign(Object.assign({},_.options.readonlyRPCMap),M):_.options.readonlyRPCMap=M}))(t),yield(_=>Se(void 0,void 0,void 0,function*(){const{options:x}=_,{readonlyRPCMap:P}=x;if(P)try{ge("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",P),_.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}}))(t);const{metamaskBrowserExtension:w,preferExtension:E,shouldReturn:y}=yield function(_){var x,P,M,L;return Se(this,void 0,void 0,function*(){const{options:K}=_;let j,G=!1,V=!1;if(typeof window<"u"&&window.ethereum&&!(!((x=_.platformManager)===null||x===void 0)&&x.isMetaMaskMobileWebView())){G=localStorage.getItem(hy)==="extension";try{j=yield function({mustBeMetaMask:W,sdkInstance:q}){return Se(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const k=yield new Promise((C,S)=>{const T=setTimeout(()=>{S(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(my.Announce,R=>{const B=R,{detail:{info:F,provider:U}={}}=B,{name:D,rdns:O,uuid:N}=F??{};j$.test(N)&&D.startsWith(xI.NAME)&&xI.RDNS.includes(O)&&(clearTimeout(T),C(U))}),window.dispatchEvent(new Event(my.Request))});return MI({provider:k,sdkInstance:q})}catch{throw!W&&window.ethereum,new Error("Provider not found")}})}({mustBeMetaMask:!0,sdkInstance:_}),window.extension=j,j.on(SI,W=>{ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${W}`),_.sdkProvider&&_.getMobileProvider().emit(SI,W)}),j.on(AI,W=>Se(this,void 0,void 0,function*(){var q;ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${W}`);const k=!!_.sdkProvider,C=!!_.extensionActive;if(k&&_.getMobileProvider().emit(AI,W),C&&(W==null?void 0:W.length)===0&&(yield(q=_.getProvider())===null||q===void 0?void 0:q.request({method:at.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield _.terminate()}catch(S){ge("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",S)}})),j.on(CI,W=>{ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${W}`),_.sdkProvider&&_.getMobileProvider().emit(CI,W)}),j.on(kI,W=>{ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${W}`),_.sdkProvider&&_.getMobileProvider().emit(kI,W)}),j.on(TI,W=>{ge("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",W),_.sdkProvider&&_.getMobileProvider().emit(TI,W)})}catch{window.extension=void 0}}else!((P=_.platformManager)===null||P===void 0)&&P.isMetaMaskMobileWebView()&&((M=_.analytics)===null||M===void 0||M.send({event:Pn.SDK_USE_INAPP_BROWSER}),_.activeProvider=MI({provider:window.ethereum,sdkInstance:_}),_._initialized=!0,V=!0);return j&&K.extensionOnly&&(ge("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(L=_.analytics)===null||L===void 0||L.send({event:Pn.SDK_USE_EXTENSION}),_.activeProvider=j,_.extensionActive=!0,_.extension=j,_._initialized=!0,V=!0),{preferExtension:G,shouldReturn:V,metamaskBrowserExtension:j}})}(t);if(y)ge("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(_,x){var P,M,L,K,j;return Se(this,void 0,void 0,function*(){const{options:G}=_,V=Object.assign({},G.logging);_.remoteConnection=new Q$({preferDesktop:(P=G.preferDesktop)!==null&&P!==void 0&&P,communicationLayerPreference:(M=G.communicationLayerPreference)!==null&&M!==void 0?M:Lc.SOCKET,analytics:_.analytics,dappMetadata:G.dappMetadata,_source:G._source,enableAnalytics:(L=G.enableAnalytics)===null||L===void 0||L,timer:G.timer,sdk:_,platformManager:_.platformManager,transports:G.transports,communicationServerUrl:G.communicationServerUrl,storage:(K=G.storage)!==null&&K!==void 0?K:{enabled:!0},getMetaMaskInstaller:()=>{if(!_.installer)throw new Error("Invalid SDK status -- installer not initialized");return _.installer},logging:V,connectWithExtensionProvider:x===void 0?void 0:()=>II(_),modals:Object.assign(Object.assign({},G.modals),{onPendingModalDisconnect:_.terminate.bind(_)})}),yield _.remoteConnection.initRemoteCommunication({sdkInstance:_}),_.installer=new q$({remote:_.remoteConnection,preferDesktop:(j=G.preferDesktop)!==null&&j!==void 0&&j,platformManager:_.platformManager,debug:_.debug})})}(t,w),yield function(_){var x,P,M,L;return Se(this,void 0,void 0,function*(){const{options:K}=_,j={communicationLayerPreference:(x=K.communicationLayerPreference)!==null&&x!==void 0?x:Lc.SOCKET,platformManager:_.platformManager,sdk:_,checkInstallationOnAllCalls:K.checkInstallationOnAllCalls,injectProvider:(P=K.injectProvider)===null||P===void 0||P,shouldShimWeb3:(M=K.shouldShimWeb3)===null||M===void 0||M,extensionOnly:(L=K.extensionOnly)===null||L===void 0||L,installer:_.installer,remoteConnection:_.remoteConnection,debug:_.debug},G=yield V$(j);_.activeProvider=G,function(V){var W,q,k,C;(q=(W=V.remoteConnection)===null||W===void 0?void 0:W.getConnector())===null||q===void 0||q.on(li.ConnectionStatus,S=>{V.emit(li.ConnectionStatus,S)}),(C=(k=V.remoteConnection)===null||k===void 0?void 0:k.getConnector())===null||C===void 0||C.on(li.ServiceStatus,S=>{V.emit(li.ServiceStatus,S)})}(_)})}(t),yield function(_,x){var P,M;return Se(this,void 0,void 0,function*(){const{options:L}=_;x?(ge("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(P=_.analytics)===null||P===void 0||P.send({event:Pn.SDK_EXTENSION_UTILIZED}),II(_).catch(K=>{console.warn("Can't connect with MetaMask extension...",K),localStorage.removeItem(hy)})):L.checkInstallationImmediately&&(!((M=_.platformManager)===null||M===void 0)&&M.isDesktopWeb()?(ge("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),_.connect().catch(K=>{ge(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${K}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),_._initialized=!0})}(t,E);try{yield(h=t.remoteConnection)===null||h===void 0?void 0:h.startConnection({initialCheck:!0})}catch(_){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",_)}t.emit(li.ProviderUpdate,ao.INITIALIZED)}})}class J$ extends A7{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:_I,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],jr.disable();const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||o)&&jr.enable("MM_SDK"),ge("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=_I),this.init().then(()=>{ge("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(s=>{console.error("[MetaMaskSDK: constructor()] error during initialization",s)})}init(){return Se(this,void 0,void 0,function*(){return function(e){var n;return Se(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return ge("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return ge("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return ge("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=Z$(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return Se(this,void 0,void 0,function*(){return function(e){return Se(this,void 0,void 0,function*(){if(e._initialized||(ge("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),ge(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:at.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:e}){return Se(this,void 0,void 0,function*(){return function({instance:n,msg:r}){return Se(this,void 0,void 0,function*(){if(n._initialized||(ge("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield n.init()),ge(`[MetaMaskSDK: connectAndSign()] activeProvider=${n.activeProvider}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");const i=/^0x([0-9A-Fa-f]{2})*$/u.test(r)?r:function(o){let s;if(xe!==void 0)s=xe.from(o,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const a=new TextEncoder().encode(o);s=Array.from(a).map(l=>l.toString(16).padStart(2,"0")).join("")}else{if(typeof Hr!="object"||!("Buffer"in Hr))throw new Error("Unable to convert string to hex: No available method.");s=Hr.Buffer.from(o,"utf8").toString("hex")}return`0x${s}`}(r);return n.activeProvider.request({method:at.METAMASK_CONNECTWITH,params:[{method:at.PERSONAL_SIGN,params:[i]}]})})}({instance:this,msg:e})})}connectWith(e){return Se(this,void 0,void 0,function*(){return function({instance:n,rpc:r}){return Se(this,void 0,void 0,function*(){if(n._initialized||(ge("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),ge(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:at.METAMASK_CONNECTWITH,params:[r]})})}({instance:this,rpc:e})})}resume(){return function(e){var n,r,i;return Se(this,void 0,void 0,function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return ge("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());ge("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return function(e){var n,r,i;return Se(this,void 0,void 0,function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if($$&&(window.localStorage.removeItem(hy),window.localStorage.removeItem(B_),window.localStorage.removeItem(L_)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:at.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){ge("[MetaMaskSDK: terminate()] error revoking permissions",o)}return e.options.extensionOnly?(e.emit(li.ProviderUpdate,ao.TERMINATE),void ge("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(li.ProviderUpdate,ao.TERMINATE))}e.emit(li.ProviderUpdate,ao.TERMINATE),ge(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return cu.version}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}}var X$=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return Se(this,void 0,void 0,function*(){const e=JSON.stringify(t);ge(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(nE,e)})}getPersistedChannelConfig(){return Se(this,void 0,void 0,function*(){let t;try{if(ge(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(nE),ge("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;const e=JSON.parse(t);return ge("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}})}persistAccounts(t){return Se(this,void 0,void 0,function*(){ge(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem(L_,e)})}getCachedAccounts(){return Se(this,void 0,void 0,function*(){try{const t=localStorage.getItem(L_);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}})}persistChainId(t){return Se(this,void 0,void 0,function*(){ge(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(B_,t)})}getCachedChainId(){return Se(this,void 0,void 0,function*(){try{const t=localStorage.getItem(B_);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}})}terminate(){return Se(this,void 0,void 0,function*(){ge(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(nE)})}}}),eH=Object.defineProperty,MS=new WeakMap,wl=t=>MS.get(t),OS=(t,e)=>MS.set(e.$lazyInstance$=t,e),UI=(t,e)=>e in t,Bc=(t,e)=>(0,console.error)(t,e),rE=new Map,Ag=new Map,S6="slot-fb{display:contents}slot-fb[hidden]{display:none}",$v=typeof window<"u"?window:{},ss=$v.document||{head:{}},ar={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},A6=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),F_=!1,$I=[],C6=[],HI=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Bc(n)}t.length=0},j_=()=>{HI($I),HI(C6),(F_=$I.length>0)&&ar.raf(j_)},NS=t=>Promise.resolve(void 0).then(t),tH=((t,e)=>n=>{t.push(n),F_||(F_=!0,4&ar.$flags$?NS(j_):ar.raf(j_))})(C6),VI={},LS=t=>(t=typeof t)=="object"||t==="function";function k6(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((t,e)=>{for(var n in e)eH(t,n,{get:e[n],enumerable:!0})})({},{err:()=>T6,map:()=>nH,ok:()=>U_,unwrap:()=>rH,unwrapErr:()=>iH});var U_=t=>({isOk:!0,isErr:!1,value:t}),T6=t=>({isOk:!1,isErr:!0,value:t});function nH(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>U_(r)):U_(n)}if(t.isErr){const n=t.value;return T6(n)}throw"should never get here"}var BS,rH=t=>{if(t.isOk)return t.value;throw t.value},iH=t=>{if(t.isErr)return t.value;throw t.value},be=(t,e,...n)=>{let r=null,i=!1,o=!1;const s=[],a=u=>{for(let d=0;d<u.length;d++)r=u[d],Array.isArray(r)?a(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!LS(r))&&(r=String(r)),i&&o?s[s.length-1].$text$+=r:s.push(i?gy(null,r):r),o=i)};if(a(n),e){const u=e.className||e.class;u&&(e.class=typeof u!="object"?u:Object.keys(u).filter(d=>u[d]).join(" "))}if(typeof t=="function")return t(e===null?{}:e,s,sH);const l=gy(t,null);return l.$attrs$=e,s.length>0&&(l.$children$=s),l},gy=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),oH={},sH={forEach:(t,e)=>t.map(zI).forEach(e),map:(t,e)=>t.map(zI).map(e).map(aH)},zI=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),aH=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),be(t.vtag,n,...t.vchildren||[])}const e=gy(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},Hv=t=>wl(t).$hostElement$,xl=(t,e,n)=>{const r=Hv(t);return{emit:i=>I6(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},I6=(t,e,n)=>{const r=ar.ce(e,n);return t.dispatchEvent(r),r},KI=new WeakMap,P6=(t,e)=>"sc-"+t.$tagName$,qI=(t,e,n,r,i,o)=>{if(n!==r){let s=UI(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,u=GI(n),d=GI(r);l.remove(...u.filter(h=>h&&!d.includes(h))),l.add(...d.filter(h=>h&&!u.includes(h)))}else if(e==="style"){for(const l in n)r&&r[l]!=null||(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in r)n&&r[l]===n[l]||(l.includes("-")?t.style.setProperty(l,r[l]):t.style[l]=r[l])}else if(s||e[0]!=="o"||e[1]!=="n"){const l=LS(r);if((s||l&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const u=r??"";e==="list"?s=!1:n!=null&&t[e]==u||(typeof t.__lookupSetter__(e)=="function"?t[e]=u:t.setAttribute(e,u))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!s||4&o||i)&&!l&&(r=r===!0?"":r,t.setAttribute(e,r))}else if(e=e[2]==="-"?e.slice(3):UI($v,a)?a.slice(2):a[2]+e.slice(3),n||r){const l=e.endsWith(R6);e=e.replace(cH,""),n&&ar.rel(t,e,n,l),r&&ar.ael(t,e,r,l)}}},lH=/\s/,GI=t=>t?t.split(lH):[],R6="Capture",cH=new RegExp(R6+"$"),M6=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||VI,o=e.$attrs$||VI;for(const s of WI(Object.keys(i)))s in o||qI(r,s,i[s],void 0,n,e.$flags$);for(const s of WI(Object.keys(o)))qI(r,s,i[s],o[s],n,e.$flags$)};function WI(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Ji=!1,DS=(t,e,n,r)=>{const i=e.$children$[n];let o,s,a=0;if(i.$text$!==null)o=i.$elm$=ss.createTextNode(i.$text$);else{if(Ji||(Ji=i.$tag$==="svg"),o=i.$elm$=ss.createElementNS(Ji?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),Ji&&i.$tag$==="foreignObject"&&(Ji=!1),M6(null,i,Ji),o.getRootNode().querySelector("body"),i.$children$)for(a=0;a<i.$children$.length;++a)s=DS(t,i,a),s&&o.appendChild(s);i.$tag$==="svg"?Ji=!1:o.tagName==="foreignObject"&&(Ji=!0)}return o["s-hn"]=BS,o},YI=(t,e,n,r,i,o)=>{let s,a=t;for(a.shadowRoot&&a.tagName===BS&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=DS(null,n,i),s&&(r[i].$elm$=s,Cg(a,s,e)))},QI=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const o=i.$elm$;o&&o.remove()}}},q0=(t,e,n=!1)=>t.$tag$===e.$tag$,mh=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,s=e.$tag$,a=e.$text$;a===null?(M6(t,e,Ji=s==="svg"||s!=="foreignObject"&&Ji),i!==null&&o!==null?((l,u,d,h,m=!1)=>{let g,b=0,w=0,E=u.length-1,y=u[0],_=u[E],x=h.length-1,P=h[0],M=h[x];for(;b<=E&&w<=x;)y==null?y=u[++b]:_==null?_=u[--E]:P==null?P=h[++w]:M==null?M=h[--x]:q0(y,P,m)?(mh(y,P,m),y=u[++b],P=h[++w]):q0(_,M,m)?(mh(_,M,m),_=u[--E],M=h[--x]):q0(y,M,m)?(mh(y,M,m),Cg(l,y.$elm$,_.$elm$.nextSibling),y=u[++b],M=h[--x]):q0(_,P,m)?(mh(_,P,m),Cg(l,_.$elm$,y.$elm$),_=u[--E],P=h[++w]):(g=DS(u&&u[w],d,w),P=h[++w],g&&Cg(y.$elm$.parentNode,g,y.$elm$));b>E?YI(l,h[x+1]==null?null:h[x+1].$elm$,d,h,w,x):w>x&&QI(u,b,E)})(r,i,e,o,n):o!==null?(t.$text$!==null&&(r.textContent=""),YI(r,null,e,o,0,o.length-1)):!n&&i!==null&&QI(i,0,i.length-1),Ji&&s==="svg"&&(Ji=!1)):t.$text$!==a&&(r.data=a)},Cg=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),O6=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(n=>t.$onRenderResolve$=n))},FS=(t,e)=>{if(t.$flags$|=16,!(4&t.$flags$))return O6(t,t.$ancestorComponent$),tH(()=>uH(t,e));t.$flags$|=512},uH=(t,e)=>{const n=t.$hostElement$;t.$cmpMeta$.$tagName$;const r=t.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return dH(void 0,()=>hH(t,r,e))},dH=(t,e)=>fH(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),fH=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",hH=async(t,e,n)=>{var r;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const o=i["s-rc"];n&&(s=>{const a=s.$cmpMeta$,l=s.$hostElement$,u=a.$flags$;a.$tagName$;const d=((h,m,g)=>{var b;const w=P6(m),E=Ag.get(w);if(h=h.nodeType===11?h:ss,E)if(typeof E=="string"){h=h.head||h;let y,_=KI.get(h);if(_||KI.set(h,_=new Set),!_.has(w)){{y=ss.createElement("style"),y.innerHTML=E;const x=(b=ar.$nonce$)!=null?b:k6(ss);if(x!=null&&y.setAttribute("nonce",x),!(1&m.$flags$))if(h.nodeName==="HEAD"){const P=h.querySelectorAll("link[rel=preconnect]"),M=P.length>0?P[P.length-1].nextSibling:h.querySelector("style");h.insertBefore(y,M)}else if("host"in h)if(A6){const P=new CSSStyleSheet;P.replaceSync(E),h.adoptedStyleSheets=[P,...h.adoptedStyleSheets]}else{const P=h.querySelector("style");P?P.innerHTML=E+P.innerHTML:h.prepend(y)}else h.append(y);1&m.$flags$&&h.nodeName!=="HEAD"&&h.insertBefore(y,null)}4&m.$flags$&&(y.innerHTML+=S6),_&&_.add(w)}}else h.adoptedStyleSheets.includes(E)||(h.adoptedStyleSheets=[...h.adoptedStyleSheets,E]);return w})(l.shadowRoot?l.shadowRoot:l.getRootNode(),a);10&u&&2&u&&(l["s-sc"]=d,l.classList.add(d+"-h"))})(t),t.$cmpMeta$.$tagName$,pH(t,e,i,n),o&&(o.map(s=>s()),i["s-rc"]=void 0);{const s=(r=i["s-p"])!=null?r:[],a=()=>mH(t);s.length===0?a():(Promise.all(s).then(a),t.$flags$|=4,s.length=0)}},pH=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,((i,o,s=!1)=>{const a=i.$hostElement$,l=i.$cmpMeta$,u=i.$vnode$||gy(null,null),d=(h=o)&&h.$tag$===oH?o:be(null,null,o);var h;if(BS=a.tagName,s&&d.$attrs$)for(const m of Object.keys(d.$attrs$))a.hasAttribute(m)&&!["key","ref","style","class"].includes(m)&&(d.$attrs$[m]=a[m]);d.$tag$=null,d.$flags$|=4,i.$vnode$=d,d.$elm$=u.$elm$=a.shadowRoot||a,a["s-sc"],1&l.$flags$,mh(u,d,s)})(t,e,r)}catch(i){Bc(i,t.$hostElement$)}return null},mH=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=t.$lazyInstance$,r=t.$ancestorComponent$;64&t.$flags$||(t.$flags$|=64,L6(e),jS(n,"componentDidLoad"),t.$onReadyResolve$(e),r||N6()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&NS(()=>FS(t,!1)),t.$flags$&=-517},N6=t=>{L6(ss.documentElement),NS(()=>I6($v,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},jS=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){Bc(r)}},L6=t=>t.classList.add("hydrated"),ZI=(t,e,n)=>{var r,i;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const s=Object.entries((r=e.$members$)!=null?r:{});if(s.map(([a,[l]])=>{(31&l||2&n&&32&l)&&Object.defineProperty(o,a,{get(){return u=a,wl(this).$instanceValues$.get(u);var u},set(u){((d,h,m,g)=>{const b=wl(d);if(!b)throw new Error(`Couldn't find host element for "${g.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const w=b.$hostElement$,E=b.$instanceValues$.get(h),y=b.$flags$,_=b.$lazyInstance$;var x,P;x=m,P=g.$members$[h][0],m=x==null||LS(x)?x:4&P?x!=="false"&&(x===""||!!x):1&P?String(x):x;const M=Number.isNaN(E)&&Number.isNaN(m);if((!(8&y)||E===void 0)&&m!==E&&!M&&(b.$instanceValues$.set(h,m),_)){if(g.$watchers$&&128&y){const L=g.$watchers$[h];L&&L.map(K=>{try{_[K](m,E,h)}catch(j){Bc(j,w)}})}(18&y)==2&&FS(b,!1)}})(this,a,u,e)},configurable:!0,enumerable:!0})}),1&n){const a=new Map;o.attributeChangedCallback=function(l,u,d){ar.jmp(()=>{var h;const m=a.get(l);if(this.hasOwnProperty(m))d=this[m],delete this[m];else{if(o.hasOwnProperty(m)&&typeof this[m]=="number"&&this[m]==d)return;if(m==null){const g=wl(this),b=g==null?void 0:g.$flags$;if(b&&!(8&b)&&128&b&&d!==u){const w=g.$lazyInstance$,E=(h=e.$watchers$)==null?void 0:h[l];E==null||E.forEach(y=>{w[y]!=null&&w[y].call(w,d,u,l)})}return}}this[m]=(d!==null||typeof this[m]!="boolean")&&d})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...s.filter(([l,u])=>15&u[0]).map(([l,u])=>{const d=u[1]||l;return a.set(d,l),d})]))}}return t},iE=t=>{jS(t,"connectedCallback")},JI=t=>{jS(t,"disconnectedCallback")},gH=(t,e={})=>{var n;const r=[],i=e.exclude||[],o=$v.customElements,s=ss.head,a=s.querySelector("meta[charset]"),l=ss.createElement("style"),u=[];let d,h=!0;Object.assign(ar,e),ar.$resourcesUrl$=new URL(e.resourcesUrl||"./",ss.baseURI).href;let m=!1;if(t.map(g=>{g[1].map(b=>{var w;const E={$flags$:b[0],$tagName$:b[1],$members$:b[2],$listeners$:b[3]};4&E.$flags$&&(m=!0),E.$members$=b[2],E.$watchers$=(w=b[4])!=null?w:{};const y=E.$tagName$,_=class extends HTMLElement{constructor(x){if(super(x),this.hasRegisteredEventListeners=!1,((P,M)=>{const L={$flags$:0,$hostElement$:P,$cmpMeta$:M,$instanceValues$:new Map};L.$onReadyPromise$=new Promise(K=>L.$onReadyResolve$=K),P["s-p"]=[],P["s-rc"]=[],MS.set(P,L)})(x=this,E),1&E.$flags$)if(x.shadowRoot){if(x.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${E.$tagName$}! Mode is set to ${x.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else x.attachShadow({mode:"open"})}connectedCallback(){wl(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),d&&(clearTimeout(d),d=null),h?u.push(this):ar.jmp(()=>(x=>{if((1&ar.$flags$)==0){const P=wl(x),M=P.$cmpMeta$;if(M.$tagName$,1&P.$flags$)P!=null&&P.$lazyInstance$?iE(P.$lazyInstance$):P!=null&&P.$onReadyPromise$&&P.$onReadyPromise$.then(()=>iE(P.$lazyInstance$));else{P.$flags$|=1;{let L=x;for(;L=L.parentNode||L.host;)if(L["s-p"]){O6(P,P.$ancestorComponent$=L);break}}M.$members$&&Object.entries(M.$members$).map(([L,[K]])=>{if(31&K&&x.hasOwnProperty(L)){const j=x[L];delete x[L],x[L]=j}}),(async(L,K,j,G)=>{let V;if((32&K.$flags$)==0){if(K.$flags$|=32,j.$lazyBundleId$){const k=((C,S,T)=>{const R=C.$tagName$.replace(/-/g,"_"),B=C.$lazyBundleId$;if(!B)return;const F=rE.get(B);if(F)return F[R];{const U=D=>(rE.set(B,D),D[R]);if(B==="mm-install-modal_3")return Promise.resolve().then(function(){return IH}).then(U,Bc)}return f7(()=>import(`./${B}.entry.js`),[]).then(U=>(rE.set(B,U),U[R]),Bc)})(j);if(V=k&&"then"in k?await k:k,!V)throw new Error(`Constructor for "${j.$tagName$}#${K.$modeName$}" was not found`);V.isProxied||(j.$watchers$=V.watchers,ZI(V,j,2),V.isProxied=!0),j.$tagName$,K.$flags$|=8;try{new V(K)}catch(C){Bc(C)}K.$flags$&=-9,K.$flags$|=128,iE(K.$lazyInstance$)}else{V=L.constructor;const k=L.localName;customElements.whenDefined(k).then(()=>K.$flags$|=128)}if(V&&V.style){let k;typeof V.style=="string"&&(k=V.style);const C=P6(j);Ag.has(C)||(j.$tagName$,((S,T,R)=>{let B=Ag.get(S);A6&&R?(B=B||new CSSStyleSheet,typeof B=="string"?B=T:B.replaceSync(T)):B=T,Ag.set(S,B)})(C,k,!!(1&j.$flags$)))}}const W=K.$ancestorComponent$,q=()=>FS(K,!0);W&&W["s-rc"]?W["s-rc"].push(q):q()})(x,P,M)}}})(this))}disconnectedCallback(){ar.jmp(()=>(async x=>{if((1&ar.$flags$)==0){const P=wl(x);P!=null&&P.$lazyInstance$?JI(P.$lazyInstance$):P!=null&&P.$onReadyPromise$&&P.$onReadyPromise$.then(()=>JI(P.$lazyInstance$))}})(this))}componentOnReady(){return wl(this).$onReadyPromise$}};E.$lazyBundleId$=g[0],i.includes(y)||o.get(y)||(r.push(y),o.define(y,ZI(_,E,1)))})}),r.length>0&&(m&&(l.textContent+=S6),l.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");const g=(n=ar.$nonce$)!=null?n:k6(ss);g!=null&&l.setAttribute("nonce",g),s.insertBefore(l,a?a.nextSibling:s.firstChild)}h=!1,u.length?u.map(g=>g.connectedCallback()):ar.jmp(()=>d=setTimeout(N6,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var yH=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,gH([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>ar.$nonce$=t});const vH={fontFamily:"Roboto, sans-serif"},US=({className:t},e)=>be("div",{style:vH,class:t},e),oE=({Icon:t,text:e})=>be("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},be("div",{class:"flexItem1"},be(t,null)),be("div",{class:"flexItem11"},be("span",{style:{lineHeight:"2",color:"black"}},e))),wH=()=>be("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),be("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),bH=()=>be("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),EH=()=>be("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),_H=()=>be("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),be("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),be("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function $S({version:t}){return be("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}const HS=()=>be("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("rect",{width:"16",height:"16",fill:"white"}),be("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),VS=()=>be("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},be("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function cc(t,e){return t.toString(2).padStart(e,"0")}function XI(t,e){const n=t%e;return n>=0?n:e+n}function Ai(t,e){return new Array(t).fill(e)}function eP(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function tP(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function nP(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class xi{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){const n=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new xi({height:r,width:o},i)}constructor(e,n){const{height:r,width:i}=xi.size(e);this.data=n||Array.from({length:r},()=>Ai(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=XI(e.x,this.width),e.y=XI(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=xi.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let u=0;u<a;u++)this.data[o+l][i+u]=typeof r=="function"?r({x:u,y:l},this.data[o+l][i+u]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=Ai(e,n),s=Array.from({length:e},()=>Ai(i,n));return new xi({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new xi(xi.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new xi({height:n,width:e}).rect({x:0,y:0},1/0,({x:r,y:i})=>this.data[r][i])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:n,width:r}=this;return new xi({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[Math.floor(o/e)][Math.floor(i/e)])}clone(){return new xi(this.size()).rect({x:0,y:0},this.size(),({x:e,y:n})=>this.data[n][e])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(`
`)}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=e||r[o+1][s];a||l?!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" "):i+=""}i+=`
`}return i}toTerm(){const e="\x1B[0m",n=`\x1B[1;47m  ${e}`,r=`\x1B[40m  ${e}`;return this.data.map(i=>i.map(o=>o?r:n).join("")).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:n,y:r},i)=>{i&&(e+=`<rect x="${n}" y="${r}" width="1" height="1" />`)}),e+="</svg>",e}toGIF(){const e=a=>[255&a,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Ai(381,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(127,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const rP=["low","medium","quartile","high"],iP=["numeric","alphanumeric","byte","kanji","eci"],xH=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],SH={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},AH={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Sr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=Sr.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let s=1;s<r;s++)o.push(e-(r-s)*i);return o.push(e),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Sr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^Sr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:nP("0123456789"),alphanumerc:nP("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][Sr.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=xH[t-1],r=SH[e][t-1],i=AH[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-s}}},$_=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],Qe={tables:(t=>{const e=Ai(256,0),n=Ai(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>Qe.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return Qe.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:Qe.tables.exp[(Qe.tables.log[t]+Qe.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>Qe.tables.exp[Qe.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return Qe.tables.exp[255-Qe.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=Ai(t+1,0);return n[0]=e,Qe.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[Qe.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Ai(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=Qe.add(n[r+i],Qe.mul(t[r],e[i]));return Qe.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Ai(t.length,0);for(let r=0;r<t.length;r++)n[r]=Qe.mul(t[r],e);return Qe.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];const r=Ai(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=Qe.mul(t[i],n);return Qe.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Ai(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=Qe.add(n[a-o],r[a]);return Qe.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=Qe.add(n[r+o],Qe.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=Qe.mulPoly(e,[1,Qe.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return Qe.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=Qe.add(Qe.mul(e,n),t[r]);return n},euclidian(t,e,n){Qe.degree(t)<Qe.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*Qe.degree(i)>=n;){let u=r,d=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=u;let h=[0];const m=Qe.inv(r[0]);for(;Qe.degree(i)>=Qe.degree(r)&&i[0]!==0;){const g=Qe.degree(i)-Qe.degree(r),b=Qe.mul(i[0],m);h=Qe.addPoly(h,Qe.monomial(g,b)),i=Qe.addPoly(i,Qe.mulPolyMonomial(r,g,b))}if(h=Qe.mulPoly(h,o),s=Qe.addPoly(h,d),Qe.degree(i)>=Qe.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=Qe.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=Qe.inv(a);return[Qe.mulPolyScalar(s,l),Qe.mulPolyScalar(i,l)]}};function oP(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Sr.alphabet.numeric.decode(n.split("")),h=d.length;for(let m=0;m<h-2;m+=3)i+=cc(100*d[m]+10*d[m+1]+d[m+2],10);h%3==1?i+=cc(d[h-1],4):h%3==2&&(i+=cc(10*d[h-2]+d[h-1],7))}else if(r==="alphanumeric"){const d=Sr.alphabet.alphanumerc.decode(n.split("")),h=d.length;for(let m=0;m<h-1;m+=2)i+=cc(45*d[m]+d[m+1],11);h%2==1&&(i+=cc(d[h-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{const d=function(h){if(typeof h!="string")throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array(new TextEncoder().encode(h))}(n);o=d.length,i=Array.from(d).map(h=>cc(h,8)).join("")}}const{capacity:s}=Sr.capacity(t,e),a=cc(o,Sr.lengthBits(t,r));let l=Sr.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));for(let d=0;l.length!==s;d++)l+="1110110000010001"[d%16];const u=Uint8Array.from(l.match(/(.{8})/g).map(d=>+`0b${d}`));return function(d,h){const{words:m,shortBlocks:g,numBlocks:b,blockLen:w,total:E}=Sr.capacity(d,h),y=(_=m,{encode(x){const P=Qe.divisorPoly(_),M=Array.from(x);return M.push(...P.slice(0,-1).fill(0)),Uint8Array.from(Qe.remainderPoly(M,P))},decode(x){const P=x.slice(),M=Qe.polynomial(Array.from(x));let L=Ai(_,0),K=!1;for(let k=0;k<_;k++){const C=Qe.evalPoly(M,Qe.exp(k));L[L.length-1-k]=C,C!==0&&(K=!0)}if(!K)return P;L=Qe.polynomial(L);const j=Qe.monomial(_,1),[G,V]=Qe.euclidian(j,L,_),W=Ai(Qe.degree(G),0);let q=0;for(let k=1;k<256&&q<W.length;k++)Qe.evalPoly(G,k)===0&&(W[q++]=Qe.inv(k));if(q!==W.length)throw new Error("RS.decode: wrong errors number");for(let k=0;k<W.length;k++){const C=P.length-1-Qe.log(W[k]);if(C<0)throw new Error("RS.decode: wrong error location");const S=Qe.inv(W[k]);let T=1;for(let R=0;R<W.length;R++)k!==R&&(T=Qe.mul(T,Qe.add(1,Qe.mul(W[R],S))));P[C]=Qe.add(P[C],Qe.mul(Qe.evalPoly(V,S),Qe.inv(T)))}return P}});var _;return{encode(x){const P=[],M=[];for(let G=0;G<b;G++){const V=w+(G<g?0:1);P.push(x.subarray(0,V)),M.push(y.encode(x.subarray(0,V))),x=x.subarray(V)}const L=eP(...P),K=eP(...M),j=new Uint8Array(L.length+K.length);return j.set(L),j.set(K,L.length),j},decode(x){if(x.length!==E)throw new Error(`interleave.decode: len(data)=${x.length}, total=${E}`);const P=[];for(let K=0;K<b;K++){const j=K<g;P.push(new Uint8Array(m+w+(j?0:1)))}let M=0;for(let K=0;K<w;K++)for(let j=0;j<b;j++)P[j][K]=x[M++];for(let K=g;K<b;K++)P[K][w]=x[M++];for(let K=w;K<w+m;K++)for(let j=0;j<b;j++){const G=j<g;P[j][K+(G?0:1)]=x[M++]}const L=[];for(const K of P)L.push(...Array.from(y.decode(K)).slice(0,-m));return Uint8Array.from(L)}}}(t,e).encode(u)}function sP(t,e,n,r,i=!1){const o=function(l,u,d,h=!1){const m=Sr.size.encode(l);let g=new xi(m+2);const b=new xi(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);g=g.embed(0,b).embed({x:-b.width,y:0},b).embed({x:0,y:-b.height},b),g=g.rectSlice(1,m);const w=new xi(1).rect(0,1,!0).border(1,!1).border(1,!0),E=Sr.alignmentPatterns(l);for(const y of E)for(const _ of E)g.data[y][_]===void 0&&g.embed({x:_-2,y:y-2},w);g=g.hLine({x:0,y:6},1/0,({x:y},_)=>_===void 0?y%2==0:_).vLine({x:6,y:0},1/0,({y},_)=>_===void 0?y%2==0:_);{const y=Sr.formatBits(u,d),_=x=>!h&&(y>>x&1)==1;for(let x=0;x<6;x++)g.data[x][8]=_(x);for(let x=6;x<8;x++)g.data[x+1][8]=_(x);for(let x=8;x<15;x++)g.data[m-15+x][8]=_(x);for(let x=0;x<8;x++)g.data[8][m-x-1]=_(x);for(let x=8;x<9;x++)g.data[8][15-x-1+1]=_(x);for(let x=9;x<15;x++)g.data[8][15-x-1]=_(x);g.data[m-8][8]=!h}if(l>=7){const y=Sr.versionBits(l);for(let _=0;_<18;_+=1){const x=!h&&(y>>_&1)==1,P=Math.floor(_/3),M=_%3+m-8-3;g.data[P][M]=x,g.data[M][P]=x}}return g}(t,e,r,i);let s=0;const a=8*n.length;if(function(l,u,d){const h=l.height,m=$_[u];let g=-1,b=h-1;for(let w=h-1;w>0;w-=2){for(w==6&&(w=5);;b+=g){for(let E=0;E<2;E+=1){const y=w-E;l.data[b][y]===void 0&&d(y,b,m(y,b))}if(b+g<0||b+g>=h)break}g=-g}}(o,r,(l,u,d)=>{let h=!1;s<a&&(h=(n[s>>>3]>>(7-s&7)&1)!=0,s++),o.data[u][l]=h!==d}),s!==a)throw new Error("QR: bytes left after draw");return o}function CH(t){const e=t.inverse(),n=g=>{let b=0;for(let w,E=0,y=1;E<g.length;E++)w===g[E]&&(y++,E!==g.length-1)||(y>=5&&(b+=y-5+3),w=g[E],y=1);return b};let r=0;t.data.forEach(g=>r+=n(g)),e.data.forEach(g=>r+=n(g));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let g=0;g<s;g++)for(let b=0;b<a;b++){const w=g+1,E=b+1;o[g][b]===o[w][b]&&o[w][b]===o[g][E]&&o[w][b]===o[w][E]&&(i+=3)}const l=g=>{const b=[!0,!1,!0,!0,!0,!1,!0],w=[!1,!1,!1,!1],E=[...b,...w],y=[...w,...b];let _=0;for(let x=0;x<g.length;x++)tP(g,E,x)&&(_+=40),tP(g,y,x)&&(_+=40);return _};let u=0;for(const g of t.data)u+=l(g);for(const g of e.data)u+=l(g);let d=0;t.rectRead(0,1/0,(g,b)=>d+=b?1:0);const h=d/(t.height*t.width)*100,m=10*Math.floor(Math.abs(h-50)/5);return r+i+u+m}function B6(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";(function(d){if(!rP.includes(d))throw new Error(`Invalid error correction mode=${d}. Expected: ${rP}`)})(r);const i=n.encoding!==void 0?n.encoding:function(d){let h="numeric";for(let m of d)if(!Sr.alphabet.numeric.has(m)&&(h="alphanumeric",!Sr.alphabet.alphanumerc.has(m)))return"byte";return h}(t);(function(d){if(!iP.includes(d))throw new Error(`Encoding: invalid mode=${d}. Expected: ${iP}`);if(d==="kanji"||d==="eci")throw new Error(`Encoding: ${d} is not supported (yet?).`)})(i),n.mask!==void 0&&function(d){if(![0,1,2,3,4,5,6,7].includes(d)||!$_[d])throw new Error(`Invalid mask=${d}. Expected number [0..7]`)}(n.mask);let o,s=n.version,a=new Error("Unknown error");if(s!==void 0)(function(d){if(!Number.isSafeInteger(d)||d<1||d>40)throw new Error(`Invalid version=${d}. Expected number [1..40]`)})(s),o=oP(s,r,t,i);else for(let d=1;d<=40;d++)try{o=oP(d,r,t,i),s=d;break}catch(h){a=h}if(!s||!o)throw a;let l=function(d,h,m,g){if(g===void 0){const b=function(){let w,E=1/0;return{add(y,_){y>=E||(w=_,E=y)},get:()=>w,score:()=>E}}();for(let w=0;w<$_.length;w++)b.add(CH(sP(d,h,m,w,!0)),w);g=b.get()}if(g===void 0)throw new Error("Cannot find mask");return sP(d,h,m,g)}(s,r,o,n.mask);l.assertDrawn();const u=n.border===void 0?2:n.border;if(!Number.isSafeInteger(u))throw new Error("Wrong border type="+typeof u);if(l=l.border(u,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG();if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}const sE={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class zS{constructor(e){var n;this.translations=sE,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=e==null?void 0:e.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(n=>n.toLowerCase().startsWith("en")))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){const n=e.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(` Failed to load ${n} translations, falling back to English:`,r),this.translations=sE}else this.translations=sE}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){const r=e.split(".");let i=n;for(const o of r){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}}var Bh;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(Bh||(Bh={}));const D6=class{constructor(t){OS(this,t),this.close=xl(this,"close"),this.startDesktopOnboarding=xl(this,"startDesktopOnboarding"),this.trackAnalytics=xl(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new zS}componentDidLoad(){this.trackAnalytics.emit({event:Bh.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:Bh.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:Bh.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=B6(this.link,"svg",{ecc:"medium",scale:2});return be(US,{className:"install-model"},be("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),be("div",{class:"modal"},be("div",{class:"closeButtonContainer"},be("div",{class:"right"},be("span",{class:"closeButton",onClick:()=>this.onClose(!0)},be(HS,null)))),be("div",{class:"logoContainer"},be(VS,null)),be("div",null,be("div",{class:"tabcontainer"},be("div",{class:"flexContainer"},be("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),be("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),be("div",{style:{display:e===1?"none":"block"}},be("div",{class:"flexContainer"},be("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&be("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),be("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",be("br",null),be("span",{class:"blue"},be("b",null,t("META_MASK_MOBILE_APP"))))))),be("div",{style:{display:e===2?"none":"block"}},be("div",{class:"item"},be(oE,{Icon:bH,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),be("div",{class:"item"},be(oE,{Icon:wH,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),be("div",{class:"item"},be(oE,{Icon:EH,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),be("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},be(_H,null),be("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),be($S,{version:this.sdkVersion})))}get el(){return Hv(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};D6.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const F6=class{constructor(t){OS(this,t),this.close=xl(this,"close"),this.disconnect=xl(this,"disconnect"),this.updateOTPValue=xl(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new zS}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return be(US,{className:"pending-modal"},be("div",{class:"backdrop",onClick:()=>this.onClose()}),be("div",{class:"modal"},be("div",{class:"closeButtonContainer"},be("div",{class:"right"},be("span",{class:"closeButton",onClick:()=>this.onClose()},be(HS,null)))),be("div",{class:"logoContainer"},be(VS,null)),be("div",null,be("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},be("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),be("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&be("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),be("div",{style:{marginTop:"20px"}},be("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),be($S,{version:n})))}get el(){return Hv(this)}};F6.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const kH=()=>be("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),TH=()=>be("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("rect",{width:"400",height:"300",fill:"white"}),be("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),be("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),be("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),be("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),be("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),be("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),be("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),be("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),be("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),be("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),be("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),be("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),be("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),be("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),be("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),be("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),be("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),be("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),be("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),be("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),be("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),be("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),j6=class{constructor(t){OS(this,t),this.close=xl(this,"close"),this.connectWithExtension=xl(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new zS,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=B6(this.link,"svg",{ecc:"medium",scale:2});return be(US,{className:"select-modal"},be("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),be("div",{class:"modal"},be("div",{class:"closeButtonContainer"},be("div",{class:"right"},be("span",{class:"closeButton",onClick:()=>this.onClose(!0)},be(HS,null)))),be("div",{class:"logoContainer"},be(VS,null)),be("div",null,be("div",{class:"tabcontainer"},be("div",{class:"flexContainer"},be("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},t("DESKTOP")),be("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},t("MOBILE")))),be("div",{style:{display:n===1?"none":"block"}},be("div",{class:"flexContainer"},be("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},be("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),be("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),be("br",null),be("span",{class:"blue"},be("b",null,t("META_MASK_MOBILE_APP"))))))),be("div",{style:{display:n===2?"none":"block"}},be("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},be(TH,null)),be("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),be("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},be(kH,null),be("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),be($S,{version:e})))}get el(){return Hv(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};j6.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var aE,aP,IH=Object.freeze({__proto__:null,mm_install_modal:D6,mm_pending_modal:F6,mm_select_modal:j6}),H_={exports:{}};function PH(){if(aP)return aE;aP=1;var t=1e3,e=60*t,n=60*e,r=24*n,i=7*r,o=365.25*r;function s(a,l,u,d){var h=l>=1.5*u;return Math.round(a/u)+" "+d+(h?"s":"")}return aE=function(a,l){l=l||{};var u=typeof a;if(u==="string"&&a.length>0)return function(d){if(!((d=String(d)).length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var m=parseFloat(h[1]);switch((h[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*i;case"days":case"day":case"d":return m*r;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}(a);if(u==="number"&&isFinite(a))return l.long?function(d){var h=Math.abs(d);return h>=r?s(d,h,r,"day"):h>=n?s(d,h,n,"hour"):h>=e?s(d,h,e,"minute"):h>=t?s(d,h,t,"second"):d+" ms"}(a):function(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=e?Math.round(d/e)+"m":h>=t?Math.round(d/t)+"s":d+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))},aE}var RH=function(t){function e(i){let o,s,a,l=null;function u(...d){if(!u.enabled)return;const h=u,m=Number(new Date),g=m-(o||m);h.diff=g,h.prev=o,h.curr=m,o=m,d[0]=e.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let b=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(w,E)=>{if(w==="%%")return"%";b++;const y=e.formatters[E];if(typeof y=="function"){const _=d[b];w=y.call(h,_),d.splice(b,1),b--}return w}),e.formatArgs.call(h,d),(h.log||e.log).apply(h,d)}return u.namespace=i,u.useColors=e.useColors(),u.color=e.selectColor(i),u.extend=n,u.destroy=e.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(s!==e.namespaces&&(s=e.namespaces,a=e.enabled(i)),a),set:d=>{l=d}}),typeof e.init=="function"&&e.init(u),u}function n(i,o){const s=e(this.namespace+(o===void 0?":":o)+i);return s.log=this.log,s}function r(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(i){return i instanceof Error?i.stack||i.message:i},e.disable=function(){const i=[...e.names.map(r),...e.skips.map(r).map(o=>"-"+o)].join(",");return e.enable(""),i},e.enable=function(i){let o;e.save(i),e.namespaces=i,e.names=[],e.skips=[];const s=(typeof i=="string"?i:"").split(/[\s,]+/),a=s.length;for(o=0;o<a;o++)s[o]&&((i=s[o].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+i.slice(1)+"$")):e.names.push(new RegExp("^"+i+"$")))},e.enabled=function(i){if(i[i.length-1]==="*")return!0;let o,s;for(o=0,s=e.skips.length;o<s;o++)if(e.skips[o].test(i))return!1;for(o=0,s=e.names.length;o<s;o++)if(e.names[o].test(i))return!0;return!1},e.humanize=PH(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(i=>{e[i]=t[i]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(i){let o=0;for(let s=0;s<i.length;s++)o=(o<<5)-o+i.charCodeAt(s),o|=0;return e.colors[Math.abs(o)%e.colors.length]},e.enable(e.load()),e};(function(t,e){e.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(o++,a==="%c"&&(s=o))}),r.splice(s,0,i)},e.save=function(r){try{r?e.storage.setItem("debug",r):e.storage.removeItem("debug")}catch{}},e.load=function(){let r;try{r=e.storage.getItem("debug")}catch{}return!r&&to!==void 0&&"env"in to&&(r=to.env.DEBUG),r},e.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=RH(e);const{formatters:n}=t.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(H_,H_.exports);var U6=H_.exports;const yr=U6("MM_SDK-React");yr.color="#CC5500";const $6=Z.createContext({ready:!1,extensionActive:!1,connected:!1,connecting:!1,readOnlyCalls:!1}),MH=({children:t,sdkOptions:e,debug:n})=>{const[r,i]=Z.useState(),[o,s]=Z.useState(""),[a,l]=Z.useState(!1),[u,d]=Z.useState(!1),[h,m]=Z.useState(!1),[g,b]=Z.useState(!1),[w,E]=Z.useState(1),[y,_]=Z.useState(),[x,P]=Z.useState(),[M,L]=Z.useState(!1),[K,j]=Z.useState(""),[G,V]=Z.useState(),[W,q]=Z.useState(),[k,C]=Z.useState(),[S,T]=Z.useState(),[R,B]=Z.useState(),[F,U]=Z.useState({}),[D,O]=Z.useState(!1),N=Z.useRef(!1);Z.useEffect(()=>{U6.enable("MM_SDK-React")},[n]);const H={setConnecting:m,setConnected:b,setChainId:_,setError:C,setAccount:V,setStatus:B,setTrigger:E,setRPCHistory:U,debug:n,chainId:y,activeProvider:void 0,sdk:r},z=(({debug:we,setConnected:_e,setConnecting:Ee,setError:Ae})=>Z.useCallback(()=>{yr("[MetaMaskProvider: useHandleOnConnectingEvent()] on 'connecting' event."),_e(!1),Ee(!0),Ae(void 0)},[we,_e,Ee,Ae]))(H),Y=(({debug:we,setConnecting:_e,setAccount:Ee,activeProvider:Ae,setConnected:Re,setError:$e})=>Z.useCallback(()=>{yr("[MetaMaskProvider: useHandleInitializedEvent()] on '_initialized' event."),_e(!1),Re(!0),$e(void 0)},[we,_e,Ee,Ae,Re,$e]))(H),ee=(({debug:we,setConnecting:_e,setConnected:Ee,setChainId:Ae,setError:Re,chainId:$e})=>Z.useCallback(Ke=>{yr("[MetaMaskProvider: useHandleConnectEvent()] on 'connect' event.",Ke);const Q=Ke.chainId;_e(!1),Ee(!0),Ae(Q),Re(void 0)},[we,_e,Ee,Ae,Re,$e]))(H),J=(({debug:we,setConnecting:_e,setConnected:Ee,setError:Ae})=>Z.useCallback(Re=>{yr("[MetaMaskProvider: useHandleDisconnectEvent()] on 'disconnect' event.",Re),_e(!1),Ee(!1),Ae(Re)},[we,_e,Ee,Ae]))(H),oe=(({debug:we,setConnecting:_e,setConnected:Ee,setError:Ae})=>Z.useCallback(Re=>{yr("[MetaMaskProvider: useHandleTerminateEvent()] on 'terminate' event.",Re),_e(!1),Ee(!1),Ae(Re)},[we,_e,Ee,Ae]))(H),se=(({debug:we,setAccount:_e,setConnected:Ee,setConnecting:Ae,setError:Re})=>Z.useCallback($e=>{yr("[MetaMaskProvider: useHandleAccountsChangedEvent()] on 'accountsChanged' event.",$e),_e($e==null?void 0:$e[0]),Ee(!0),Ae(!1),Re(void 0)},[we,_e,Ee,Re]))(H),ve=(({debug:we,setChainId:_e,setConnected:Ee,setConnecting:Ae,setError:Re})=>Z.useCallback($e=>{yr("[MetaMaskProvider: useHandleChainChangedEvent()] on 'chainChanged' event.",$e),_e(typeof $e=="object"&&($e!=null&&$e.chainId)?$e.chainId:$e),Ee(!0),Ae(!1),Re(void 0)},[we,_e,Ee,Re,Ae]))(H),de=(({debug:we,setStatus:_e})=>Z.useCallback(Ee=>{yr(`[MetaMaskProvider: useHandleSDKStatusEvent()] on '${ke.SERVICE_STATUS}/${Ee.connectionStatus}' event.`,Ee);try{const Ae=JSON.parse(JSON.stringify(Ee??{}));_e(Ae)}catch(Ae){console.error(Ae)}},[we,_e]))(H),Oe=(({debug:we,setConnecting:_e,setConnected:Ee,setTrigger:Ae,setError:Re,setChainId:$e,setAccount:Ke,setRPCHistory:Q,sdk:re})=>Z.useCallback(le=>{if(yr(`[MetaMaskProvider: useHandleProviderEvent()] on '${ke.PROVIDER_UPDATE}' event.`,le),le===ao.TERMINATE)_e(!1);else if(le===ao.EXTENSION){_e(!1),Ee(!0),Re(void 0);const Ce=re==null?void 0:re.getProvider(),Ie=(Ce==null?void 0:Ce.getChainId())||void 0,Te=(Ce==null?void 0:Ce.getSelectedAddress())||void 0;yr(`[MetaMaskProvider: useHandleProviderEvent()] extensionProvider chainId=${Ie} selectedAddress=${Te}`),$e(Ie),Ke(Te)}Q({}),Ae(Ce=>Ce+1)},[we,_e,Ae,Ee,Re]))(H),je=Z.useMemo(()=>{const we=(R==null?void 0:R.connectionStatus)===Bn.DISCONNECTED;let _e=!1;for(const Ee in F){const Ae=F[Ee];if(Ae.result===void 0&&Ae.error===void 0){_e=!0,we&&console.warn(`[MetamaskProvider] socket disconnected but rpc ${Ee} not processed yet`);break}}return _e},[F,R]);return Z.useEffect(()=>{const we=S==null?void 0:S.getSelectedAddress();we&&we!=(G==null?void 0:G.toLowerCase())&&(yr(`[MetaMaskProviderClient] account changed detected from ${G} to ${we}`),V(we))},[F]),Z.useEffect(()=>{(R==null?void 0:R.connectionStatus)!==Bn.DISCONNECTED&&(R==null?void 0:R.connectionStatus)!==Bn.TERMINATED||(b(!1),m(!1))},[R]),Z.useEffect(()=>{const we=`${G}${y}`;q(r==null?void 0:r.getChannelId()),G!=null&&G.startsWith("0x")&&(y!=null&&y.startsWith("0x"))&&we!==K?(L(!0),yr(`[MetaMaskProviderClient] retrieving balance of ${G} on chain ${y}`),j(we),S==null||S.request({method:"eth_getBalance",params:[G,"latest"]}).then(_e=>{yr(`[MetaMaskProviderClient] balance of ${G} is ${_e}`),P(_e)}).catch(_e=>{console.warn(`[MetamaskProvider] error retrieving balance of ${G}`,_e)}).finally(()=>{L(!1)})):P(void 0)},[G,S,y,K]),Z.useEffect(()=>{if(N.current)return void yr("[MetaMaskProviderClient] sdk already initialized");N.current=!0;const we=new J$({...e});we.init().then(()=>{i(we),l(!0),d(we.hasReadOnlyRPCCalls())}).catch(_e=>{console.error("[MetaMaskProviderClient] error initializing SDK",_e)})},[e]),Z.useEffect(()=>{var Ee;if(!a||!r)return;yr("[MetaMaskProviderClient] init SDK Provider listeners",r),O(r.isExtensionActive());const we=r.getProvider();if(!we)return void console.warn("[MetaMaskProviderClient] activeProvider is undefined.");const _e=r.isExtensionActive()?!!we.getSelectedAddress():we.isConnected();return b(_e),V(we.getSelectedAddress()||void 0),T(we),_(we.getChainId()||void 0),we.on("_initialized",Y),we.on("terminate",oe),we.on("connecting",z),we.on("connect",ee),we.on("disconnect",J),we.on("accountsChanged",se),we.on("chainChanged",ve),r.on(ke.SERVICE_STATUS,de),(Ee=r._getConnection())==null||Ee.getConnector().on(ke.RPC_UPDATE,Ae=>{Ae.result!==void 0||Ae.error!==void 0?Ae.id===o&&s(""):s(Ae.id);const Re=JSON.parse(JSON.stringify(r.getRPCHistory()??{}));U(Re)}),()=>{we.removeListener("_initialized",Y),we.removeListener("connecting",z),we.removeListener("connect",ee),we.removeListener("disconnect",J),we.removeListener("terminate",oe),we.removeListener("accountsChanged",se),we.removeListener("chainChanged",ve),r.removeListener(ke.SERVICE_STATUS,de)}},[w,r,a]),Z.useEffect(()=>{if(a&&r)return r.on(ke.PROVIDER_UPDATE,Oe),()=>{r.removeListener(ke.PROVIDER_UPDATE,Oe)}},[r,a]),cn.createElement($6.Provider,{value:{sdk:r,ready:a,connected:g,readOnlyCalls:u,provider:S,rpcHistory:F,connecting:h,channelId:W,account:G,balance:x,balanceProcessing:M,extensionActive:D,chainId:y,error:k,status:R,syncing:je}},t)},OH=({children:t,sdkOptions:e,debug:n})=>{const[r,i]=Z.useState(!1);return Z.useEffect(()=>{i(!0)},[]),cn.createElement(cn.Fragment,null,r?cn.createElement(MH,{debug:n,sdkOptions:e},t):cn.createElement(cn.Fragment,null,t))},NH={socketServer:Kc,useDeeplink:!0,extensionOnly:!0,checkInstallationImmediately:!1,debug:!0,logs:{sdk:!0,provider:!0,commLayer:!0},lang:"en"};Z.createContext({...NH,setAppContext:t=>{},reset:()=>{}});const LH=()=>{const t=Z.useContext($6);if(t===void 0)throw new Error("SDK context is missing, must be within provide");return t},BH="8c81878481c84d8b956947f6d40c7200",Sd="wallet";var lE={exports:{}},cE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function DH(){if(lP)return cE;lP=1;var t=Rv();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,a=t.useDebugValue;return cE.useSyncExternalStoreWithSelector=function(l,u,d,h,m){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=s(function(){function E(M){if(!y){if(y=!0,_=M,M=h(M),m!==void 0&&b.hasValue){var L=b.value;if(m(L,M))return x=L}return x=M}if(L=x,n(_,M))return L;var K=h(M);return m!==void 0&&m(L,K)?(_=M,L):(_=M,x=K)}var y=!1,_,x,P=d===void 0?null:d;return[function(){return E(u())},P===null?void 0:function(){return E(P())}]},[u,d,h,m]);var w=r(l,g[0],g[1]);return o(function(){b.hasValue=!0,b.value=w},[w]),a(w),w},cE}var cP;function FH(){return cP||(cP=1,lE.exports=DH()),lE.exports}var jH=FH();function UH(t){t()}function $H(){let t=null,e=null;return{clear(){t=null,e=null},notify(){UH(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uP={notify(){},get:()=>[]};function HH(t,e){let n,r=uP,i=0,o=!1;function s(w){d();const E=r.subscribe(w);let y=!1;return()=>{y||(y=!0,E(),h())}}function a(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return o}function d(){i++,n||(n=t.subscribe(l),r=$H())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uP)}function m(){o||(o=!0,d())}function g(){o&&(o=!1,h())}const b={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return b}var VH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zH=VH(),KH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qH=KH(),GH=()=>zH||qH?Z.useLayoutEffect:Z.useEffect,WH=GH(),uE=Symbol.for("react-redux-context"),dE=typeof globalThis<"u"?globalThis:{};function YH(){if(!Z.createContext)return{};const t=dE[uE]??(dE[uE]=new Map);let e=t.get(Z.createContext);return e||(e=Z.createContext(null),t.set(Z.createContext,e)),e}var Il=YH();function QH(t){const{children:e,context:n,serverState:r,store:i}=t,o=Z.useMemo(()=>{const l=HH(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=Z.useMemo(()=>i.getState(),[i]);WH(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Il;return Z.createElement(a.Provider,{value:o},e)}var ZH=QH;function KS(t=Il){return function(){return Z.useContext(t)}}var H6=KS();function V6(t=Il){const e=t===Il?H6:KS(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var JH=V6();function XH(t=Il){const e=t===Il?JH:V6(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var z6=XH(),eV=(t,e)=>t===e;function tV(t=Il){const e=t===Il?H6:KS(t),n=(r,i={})=>{const{equalityFn:o=eV}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:a,subscription:l,getServerState:u}=s;Z.useRef(!0);const d=Z.useCallback({[r.name](m){return r(m)}}[r.name],[r]),h=jH.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,d,o);return Z.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var nV=tV();function or(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var rV=typeof Symbol=="function"&&Symbol.observable||"@@observable",dP=rV,fE=()=>Math.random().toString(36).substring(7).split("").join("."),iV={INIT:`@@redux/INIT${fE()}`,REPLACE:`@@redux/REPLACE${fE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fE()}`},yy=iV;function qS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function K6(t,e,n){if(typeof t!="function")throw new Error(or(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(or(1));return n(K6)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((E,y)=>{s.set(y,E)}))}function d(){if(l)throw new Error(or(3));return i}function h(E){if(typeof E!="function")throw new Error(or(4));if(l)throw new Error(or(5));let y=!0;u();const _=a++;return s.set(_,E),function(){if(y){if(l)throw new Error(or(6));y=!1,u(),s.delete(_),o=null}}}function m(E){if(!qS(E))throw new Error(or(7));if(typeof E.type>"u")throw new Error(or(8));if(typeof E.type!="string")throw new Error(or(17));if(l)throw new Error(or(9));try{l=!0,i=r(i,E)}finally{l=!1}return(o=s).forEach(_=>{_()}),E}function g(E){if(typeof E!="function")throw new Error(or(10));r=E,m({type:yy.REPLACE})}function b(){const E=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(or(11));function _(){const P=y;P.next&&P.next(d())}return _(),{unsubscribe:E(_)}},[dP](){return this}}}return m({type:yy.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:g,[dP]:b}}function oV(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:yy.INIT})>"u")throw new Error(or(12));if(typeof n(void 0,{type:yy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function sV(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{oV(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],g=s[h],b=m(g,a);if(typeof b>"u")throw a&&a.type,new Error(or(14));u[h]=b,l=l||b!==g}return l=l||r.length!==Object.keys(s).length,l?u:s}}function vy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function aV(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(or(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=vy(...a)(i.dispatch),{...i,dispatch:o}}}function lV(t){return qS(t)&&"type"in t&&typeof t.type=="string"}var q6=Symbol.for("immer-nothing"),fP=Symbol.for("immer-draftable"),Ii=Symbol.for("immer-state");function Io(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Md=Object.getPrototypeOf;function Gc(t){return!!t&&!!t[Ii]}function da(t){var e;return t?G6(t)||Array.isArray(t)||!!t[fP]||!!((e=t.constructor)!=null&&e[fP])||zv(t)||Kv(t):!1}var cV=Object.prototype.constructor.toString();function G6(t){if(!t||typeof t!="object")return!1;const e=Md(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===cV}function wy(t,e){Vv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Vv(t){const e=t[Ii];return e?e.type_:Array.isArray(t)?1:zv(t)?2:Kv(t)?3:0}function V_(t,e){return Vv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function W6(t,e,n){const r=Vv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function uV(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function zv(t){return t instanceof Map}function Kv(t){return t instanceof Set}function mc(t){return t.copy_||t.base_}function z_(t,e){if(zv(t))return new Map(t);if(Kv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=G6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ii];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Md(t),r)}else{const r=Md(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function GS(t,e=!1){return qv(t)||Gc(t)||!da(t)||(Vv(t)>1&&(t.set=t.add=t.clear=t.delete=dV),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>GS(r,!0))),t}function dV(){Io(2)}function qv(t){return Object.isFrozen(t)}var fV={};function Wc(t){const e=fV[t];return e||Io(0,t),e}var cp;function Y6(){return cp}function hV(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hP(t,e){e&&(Wc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function K_(t){q_(t),t.drafts_.forEach(pV),t.drafts_=null}function q_(t){t===cp&&(cp=t.parent_)}function pP(t){return cp=hV(cp,t)}function pV(t){const e=t[Ii];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function mP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ii].modified_&&(K_(e),Io(4)),da(t)&&(t=by(e,t),e.parent_||Ey(e,t)),e.patches_&&Wc("Patches").generateReplacementPatches_(n[Ii].base_,t,e.patches_,e.inversePatches_)):t=by(e,n,[]),K_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==q6?t:void 0}function by(t,e,n){if(qv(e))return e;const r=e[Ii];if(!r)return wy(e,(i,o)=>gP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ey(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),wy(o,(a,l)=>gP(t,r,i,a,l,n,s)),Ey(t,i,!1),n&&t.patches_&&Wc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function gP(t,e,n,r,i,o,s){if(Gc(i)){const a=o&&e&&e.type_!==3&&!V_(e.assigned_,r)?o.concat(r):void 0,l=by(t,i,a);if(W6(n,r,l),Gc(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(da(i)&&!qv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;by(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ey(t,i)}}function Ey(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&GS(e,n)}function mV(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Y6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=WS;n&&(i=[r],o=up);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var WS={get(t,e){if(e===Ii)return t;const n=mc(t);if(!V_(n,e))return gV(t,n,e);const r=n[e];return t.finalized_||!da(r)?r:r===hE(t.base_,e)?(pE(t),t.copy_[e]=W_(r,t)):r},has(t,e){return e in mc(t)},ownKeys(t){return Reflect.ownKeys(mc(t))},set(t,e,n){const r=Q6(mc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=hE(mc(t),e),o=i==null?void 0:i[Ii];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(uV(n,i)&&(n!==void 0||V_(t.base_,e)))return!0;pE(t),G_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pE(t),G_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=mc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Io(11)},getPrototypeOf(t){return Md(t.base_)},setPrototypeOf(){Io(12)}},up={};wy(WS,(t,e)=>{up[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});up.deleteProperty=function(t,e){return up.set.call(this,t,e,void 0)};up.set=function(t,e,n){return WS.set.call(this,t[0],e,n,t[0])};function hE(t,e){const n=t[Ii];return(n?mc(n):t)[e]}function gV(t,e,n){var i;const r=Q6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Q6(t,e){if(!(e in t))return;let n=Md(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Md(n)}}function G_(t){t.modified_||(t.modified_=!0,t.parent_&&G_(t.parent_))}function pE(t){t.copy_||(t.copy_=z_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Io(6),r!==void 0&&typeof r!="function"&&Io(7);let i;if(da(e)){const o=pP(this),s=W_(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?K_(o):q_(o)}return hP(o,r),mP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===q6&&(i=void 0),this.autoFreeze_&&GS(i,!0),r){const o=[],s=[];Wc("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Io(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){da(t)||Io(8),Gc(t)&&(t=vV(t));const e=pP(this),n=W_(t,void 0);return n[Ii].isManual_=!0,q_(e),n}finishDraft(t,e){const n=t&&t[Ii];(!n||!n.isManual_)&&Io(9);const{scope_:r}=n;return hP(r,e),mP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Wc("Patches").applyPatches_;return Gc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function W_(t,e){const n=zv(t)?Wc("MapSet").proxyMap_(t,e):Kv(t)?Wc("MapSet").proxySet_(t,e):mV(t,e);return(e?e.scope_:Y6()).drafts_.push(n),n}function vV(t){return Gc(t)||Io(10,t),Z6(t)}function Z6(t){if(!da(t)||qv(t))return t;const e=t[Ii];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=z_(t,!0);return wy(n,(r,i)=>{W6(n,r,Z6(i))}),e&&(e.finalized_=!1),n}var Pi=new yV,J6=Pi.produce;Pi.produceWithPatches.bind(Pi);Pi.setAutoFreeze.bind(Pi);Pi.setUseStrictShallowCopy.bind(Pi);Pi.applyPatches.bind(Pi);Pi.createDraft.bind(Pi);Pi.finishDraft.bind(Pi);function X6(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var wV=X6(),bV=X6,EV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vy:vy.apply(null,arguments)};function yP(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(la(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>lV(r)&&r.type===t,n}var eN=class gh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gh.prototype)}static get[Symbol.species](){return gh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gh(...e[0].concat(this)):new gh(...e.concat(this))}};function vP(t){return da(t)?J6(t,()=>{}):t}function G0(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _V(t){return typeof t=="boolean"}var xV=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new eN;return n&&(_V(n)?s.push(wV):s.push(bV(n.extraArgument))),s},SV="RTK_autoBatch",wP=t=>e=>{setTimeout(e,t)},AV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wP(10):t.type==="callback"?t.queueNotification:wP(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[SV]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},CV=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new eN(t);return r&&i.push(AV(typeof r=="object"?r:void 0)),i};function kV(t){const e=xV(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(qS(n))a=sV(n);else throw new Error(la(1));let l;typeof r=="function"?l=r(e):l=e();let u=vy;i&&(u=EV({trace:!1,...typeof i=="object"&&i}));const d=aV(...l),h=CV(d);let m=typeof s=="function"?s(h):h();const g=u(...m);return K6(a,o,g)}function tN(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(la(28));if(a in e)throw new Error(la(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function TV(t){return typeof t=="function"}function IV(t,e){let[n,r,i]=tN(e),o;if(TV(t))o=()=>vP(t());else{const a=vP(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Gc(d)){const g=h(d,l);return g===void 0?d:g}else{if(da(d))return J6(d,m=>h(m,l));{const m=h(d,l);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},a)}return s.getInitialState=o,s}var PV=Symbol.for("rtk-slice-createasyncthunk");function RV(t,e){return`${t}/${e}`}function MV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[PV];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(la(11));const a=(typeof i.reducers=="function"?i.reducers(NV()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,M){const L=typeof P=="string"?P:P.type;if(!L)throw new Error(la(12));if(L in u.sliceCaseReducersByType)throw new Error(la(13));return u.sliceCaseReducersByType[L]=M,d},addMatcher(P,M){return u.sliceMatchers.push({matcher:P,reducer:M}),d},exposeAction(P,M){return u.actionCreators[P]=M,d},exposeCaseReducer(P,M){return u.sliceCaseReducersByName[P]=M,d}};l.forEach(P=>{const M=a[P],L={reducerName:P,type:RV(o,P),createNotation:typeof i.reducers=="function"};BV(M)?FV(L,M,d,e):LV(L,M,d)});function h(){const[P={},M=[],L=void 0]=typeof i.extraReducers=="function"?tN(i.extraReducers):[i.extraReducers],K={...P,...u.sliceCaseReducersByType};return IV(i.initialState,j=>{for(let G in K)j.addCase(G,K[G]);for(let G of u.sliceMatchers)j.addMatcher(G.matcher,G.reducer);for(let G of M)j.addMatcher(G.matcher,G.reducer);L&&j.addDefaultCase(L)})}const m=P=>P,g=new Map,b=new WeakMap;let w;function E(P,M){return w||(w=h()),w(P,M)}function y(){return w||(w=h()),w.getInitialState()}function _(P,M=!1){function L(j){let G=j[P];return typeof G>"u"&&M&&(G=G0(b,L,y)),G}function K(j=m){const G=G0(g,M,()=>new WeakMap);return G0(G,j,()=>{const V={};for(const[W,q]of Object.entries(i.selectors??{}))V[W]=OV(q,j,()=>G0(b,j,y),M);return V})}return{reducerPath:P,getSelectors:K,get selectors(){return K(L)},selectSlice:L}}const x={name:o,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,..._(s),injectInto(P,{reducerPath:M,...L}={}){const K=M??s;return P.inject({reducerPath:K,reducer:E},L),{...x,..._(K,!0)}}};return x}}function OV(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var nN=MV();function NV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function LV({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!DV(r))throw new Error(la(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?yP(t,s):yP(t))}function BV(t){return t._reducerDefinitionType==="asyncThunk"}function DV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FV({type:t,reducerName:e},n,r,i){if(!i)throw new Error(la(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:d}=n,h=i(t,o,d);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:s||W0,pending:a||W0,rejected:l||W0,settled:u||W0})}function W0(){}function la(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const jV={titleHeader:"Inicio"},rN=nN({name:"global",initialState:jV,reducers:{changeTitle:(t,e)=>{t.titleHeader=e.payload}}}),{changeTitle:iN}=rN.actions,UV=rN.reducer,$V={fullname:"",email:"",wallet:"",rol:"lender"},oN=nN({name:"user",initialState:$V,reducers:{setUser:(t,e)=>{t.fullname=e.payload.fullname}}}),{setUser:yue}=oN.actions,HV=oN.reducer,VV=kV({reducer:{global:UV,user:HV},middleware:t=>t({serializableCheck:!1})});var Xf={},bP;function zV(){if(bP)return Xf;bP=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.parse=s,Xf.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function s(m,g){const b=new o,w=m.length;if(w<2)return b;const E=(g==null?void 0:g.decode)||d;let y=0;do{const _=m.indexOf("=",y);if(_===-1)break;const x=m.indexOf(";",y),P=x===-1?w:x;if(_>P){y=m.lastIndexOf(";",_-1)+1;continue}const M=a(m,y,_),L=l(m,_,M),K=m.slice(M,L);if(b[K]===void 0){let j=a(m,_+1,P),G=l(m,P,j);const V=E(m.slice(j,G));b[K]=V}y=P+1}while(y<w);return b}function a(m,g,b){do{const w=m.charCodeAt(g);if(w!==32&&w!==9)return g}while(++g<b);return b}function l(m,g,b){for(;g>b;){const w=m.charCodeAt(--g);if(w!==32&&w!==9)return g+1}return b}function u(m,g,b){const w=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(m))throw new TypeError(`argument name is invalid: ${m}`);const E=w(g);if(!e.test(E))throw new TypeError(`argument val is invalid: ${g}`);let y=m+"="+E;if(!b)return y;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);y+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);y+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);y+="; Path="+b.path}if(b.expires){if(!h(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);y+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(y+="; HttpOnly"),b.secure&&(y+="; Secure"),b.partitioned&&(y+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return y}function d(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function h(m){return i.call(m)==="[object Date]"}return Xf}zV();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sN=t=>{throw TypeError(t)},KV=(t,e,n)=>e.has(t)||sN("Cannot "+n),mE=(t,e,n)=>(KV(t,e,"read from private field"),n?n.call(t):e.get(t)),qV=(t,e,n)=>e.has(t)?sN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),EP="popstate";function GV(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return dp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Pl(i)}return YV(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WV(){return Math.random().toString(36).substring(2,10)}function _P(t,e){return{usr:t.state,key:t.key,idx:e}}function dp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:n,key:e&&e.key||r||WV()}}function Pl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){a="POP";let E=d(),y=E==null?null:E-u;u=E,l&&l({action:a,location:w.location,delta:y})}function m(E,y){a="PUSH";let _=dp(w.location,E,y);u=d()+1;let x=_P(_,u),P=w.createHref(_);try{s.pushState(x,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}o&&l&&l({action:a,location:w.location,delta:1})}function g(E,y){a="REPLACE";let _=dp(w.location,E,y);u=d();let x=_P(_,u),P=w.createHref(_);s.replaceState(x,"",P),o&&l&&l({action:a,location:w.location,delta:0})}function b(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:Pl(E);return _=_.replace(/ $/,"%20"),Ot(y,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,y)}let w={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(EP,h),l=E,()=>{i.removeEventListener(EP,h),l=null}},createHref(E){return e(i,E)},createURL:b,encodeLocation(E){let y=b(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(E){return s.go(E)}};return w}var yh,xP=class{constructor(t){if(qV(this,yh,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(mE(this,yh).has(t))return mE(this,yh).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){mE(this,yh).set(t,e)}};yh=new WeakMap;var QV=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZV(t){return QV.has(t)}var JV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function XV(t){return JV.has(t)}function ez(t){return t.index===!0}function _y(t,e,n=[],r={}){return t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(Ot(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ot(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),ez(i)){let l={...i,...e(i),id:a};return r[a]=l,l}else{let l={...i,...e(i),id:a,children:void 0};return r[a]=l,i.children&&(l.children=_y(i.children,e,s,r)),l}})}function pl(t,e,n="/"){return kg(t,e,n,!1)}function kg(t,e,n,r){let i=typeof e=="string"?Fl(e):e,o=co(i.pathname||"/",n);if(o==null)return null;let s=aN(t);nz(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=hz(o);a=dz(s[l],u,r)}return a}function tz(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function aN(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=ds([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),aN(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:cz(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of lN(o.path))i(o,s,l)}),e}function lN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=lN(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rz=/^:[\w-]+$/,iz=3,oz=2,sz=1,az=10,lz=-2,SP=t=>t==="*";function cz(t,e){let n=t.split("/"),r=n.length;return n.some(SP)&&(r+=lz),e&&(r+=oz),n.filter(i=>!SP(i)).reduce((i,o)=>i+(rz.test(o)?iz:o===""?sz:az),r)}function uz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dz(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=xy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=xy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ds([o,h.pathname]),pathnameBase:gz(ds([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=ds([o,h.pathnameBase]))}return s}function xy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let b=a[m]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=a[m];return h&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function fz(t,e=!1,n=!0){Dn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function co(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fl(t):t;return{pathname:n?n.startsWith("/")?n:mz(n,e):e,search:yz(r),hash:vz(i)}}function mz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YS(t){let e=cN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function QS(t,e,n,r=!1){let i;typeof t=="string"?i=Fl(t):(i={...t},Ot(!i.pathname||!i.pathname.includes("?"),gE("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),gE("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),gE("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=pz(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var ds=t=>t.join("/").replace(/\/\/+/g,"/"),gz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Sy=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var uN=["POST","PUT","PATCH","DELETE"],wz=new Set(uN),bz=["GET",...uN],Ez=new Set(bz),_z=new Set([301,302,303,307,308]),xz=new Set([307,308]),yE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Az=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),dN="remix-router-transitions",fN=Symbol("ResetLoaderData");function Cz(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ot(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||Az,o={},s=_y(t.routes,i,void 0,o),a,l=t.basename||"/",u=t.dataStrategy||Rz,d={unstable_middleware:!1,...t.future},h=null,m=new Set,g=null,b=null,w=null,E=t.hydrationData!=null,y=pl(s,t.history.location,l),_=!1,x=null;if(y==null&&!t.patchRoutesOnNavigation){let te=Xi(404,{pathname:t.history.location.pathname}),{matches:ae,route:me}=BP(s);y=ae,x={[me.id]:te}}y&&!t.hydrationData&&ql(y,s,t.history.location.pathname).active&&(y=null);let P;if(y)if(y.some(te=>te.route.lazy))P=!1;else if(!y.some(te=>te.route.loader))P=!0;else{let te=t.hydrationData?t.hydrationData.loaderData:null,ae=t.hydrationData?t.hydrationData.errors:null;if(ae){let me=y.findIndex(De=>ae[De.route.id]!==void 0);P=y.slice(0,me+1).every(De=>!Q_(De.route,te,ae))}else P=y.every(me=>!Q_(me.route,te,ae))}else{P=!1,y=[];let te=ql(null,s,t.history.location.pathname);te.active&&te.matches&&(_=!0,y=te.matches)}let M,L={historyAction:t.history.action,location:t.history.location,matches:y,initialized:P,navigation:yE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},K="POP",j=!1,G,V=!1,W=new Map,q=null,k=!1,C=!1,S=new Set,T=new Map,R=0,B=-1,F=new Map,U=new Set,D=new Map,O=new Map,N=new Set,H=new Map,z,Y=null;function ee(){if(h=t.history.listen(({action:te,location:ae,delta:me})=>{if(z){z(),z=void 0;return}Dn(H.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=Ir({currentLocation:L.location,nextLocation:ae,historyAction:te});if(De&&me!=null){let He=new Promise(it=>{z=it});t.history.go(me*-1),Li(De,{state:"blocked",location:ae,proceed(){Li(De,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),He.then(()=>t.history.go(me))},reset(){let it=new Map(L.blockers);it.set(De,eh),se({blockers:it})}});return}return je(te,ae)}),n){Hz(e,W);let te=()=>Vz(e,W);e.addEventListener("pagehide",te),q=()=>e.removeEventListener("pagehide",te)}return L.initialized||je("POP",L.location,{initialHydration:!0}),M}function J(){h&&h(),q&&q(),m.clear(),G&&G.abort(),L.fetchers.forEach((te,ae)=>xt(ae)),L.blockers.forEach((te,ae)=>mi(ae))}function oe(te){return m.add(te),()=>m.delete(te)}function se(te,ae={}){L={...L,...te};let me=[],De=[];L.fetchers.forEach((He,it)=>{He.state==="idle"&&(N.has(it)?me.push(it):De.push(it))}),N.forEach(He=>{!L.fetchers.has(He)&&!T.has(He)&&me.push(He)}),[...m].forEach(He=>He(L,{deletedFetchers:me,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),me.forEach(He=>xt(He)),De.forEach(He=>L.fetchers.delete(He))}function ve(te,ae,{flushSync:me}={}){var ot,bt;let De=L.actionData!=null&&L.navigation.formMethod!=null&&ki(L.navigation.formMethod)&&L.navigation.state==="loading"&&((ot=te.state)==null?void 0:ot._isRedirect)!==!0,He;ae.actionData?Object.keys(ae.actionData).length>0?He=ae.actionData:He=null:De?He=L.actionData:He=null;let it=ae.loaderData?NP(L.loaderData,ae.loaderData,ae.matches||[],ae.errors):L.loaderData,lt=L.blockers;lt.size>0&&(lt=new Map(lt),lt.forEach((st,St)=>lt.set(St,eh)));let Ye=j===!0||L.navigation.formMethod!=null&&ki(L.navigation.formMethod)&&((bt=te.state)==null?void 0:bt._isRedirect)!==!0;a&&(s=a,a=void 0),k||K==="POP"||(K==="PUSH"?t.history.push(te,te.state):K==="REPLACE"&&t.history.replace(te,te.state));let rt;if(K==="POP"){let st=W.get(L.location.pathname);st&&st.has(te.pathname)?rt={currentLocation:L.location,nextLocation:te}:W.has(te.pathname)&&(rt={currentLocation:te,nextLocation:L.location})}else if(V){let st=W.get(L.location.pathname);st?st.add(te.pathname):(st=new Set([te.pathname]),W.set(L.location.pathname,st)),rt={currentLocation:L.location,nextLocation:te}}se({...ae,actionData:He,loaderData:it,historyAction:K,location:te,initialized:!0,navigation:yE,revalidation:"idle",restoreScrollPosition:df(te,ae.matches||L.matches),preventScrollReset:Ye,blockers:lt},{viewTransitionOpts:rt,flushSync:me===!0}),K="POP",j=!1,V=!1,k=!1,C=!1,Y==null||Y.resolve(),Y=null}async function de(te,ae){if(typeof te=="number"){t.history.go(te);return}let me=Y_(L.location,L.matches,l,te,ae==null?void 0:ae.fromRouteId,ae==null?void 0:ae.relative),{path:De,submission:He,error:it}=AP(!1,me,ae),lt=L.location,Ye=dp(L.location,De,ae&&ae.state);Ye={...Ye,...t.history.encodeLocation(Ye)};let rt=ae&&ae.replace!=null?ae.replace:void 0,ot="PUSH";rt===!0?ot="REPLACE":rt===!1||He!=null&&ki(He.formMethod)&&He.formAction===L.location.pathname+L.location.search&&(ot="REPLACE");let bt=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,st=(ae&&ae.flushSync)===!0,St=Ir({currentLocation:lt,nextLocation:Ye,historyAction:ot});if(St){Li(St,{state:"blocked",location:Ye,proceed(){Li(St,{state:"proceeding",proceed:void 0,reset:void 0,location:Ye}),de(te,ae)},reset(){let Dt=new Map(L.blockers);Dt.set(St,eh),se({blockers:Dt})}});return}await je(ot,Ye,{submission:He,pendingError:it,preventScrollReset:bt,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:st})}function Oe(){Y||(Y=zz()),Ce(),se({revalidation:"loading"});let te=Y.promise;return L.navigation.state==="submitting"?te:L.navigation.state==="idle"?(je(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),te):(je(K||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:V===!0}),te)}async function je(te,ae,me){G&&G.abort(),G=null,K=te,k=(me&&me.startUninterruptedRevalidation)===!0,Aa(L.location,L.matches),j=(me&&me.preventScrollReset)===!0,V=(me&&me.enableViewTransition)===!0;let De=a||s,He=me&&me.overrideNavigation,it=me!=null&&me.initialHydration&&L.matches&&L.matches.length>0&&!_?L.matches:pl(De,ae,l),lt=(me&&me.flushSync)===!0;if(it&&L.initialized&&!C&&Dz(L.location,ae)&&!(me&&me.submission&&ki(me.submission.formMethod))){ve(ae,{matches:it},{flushSync:lt});return}let Ye=ql(it,De,ae.pathname);if(Ye.active&&Ye.matches&&(it=Ye.matches),!it){let{error:Fn,notFoundMatches:Pr,route:Lt}=Ss(ae.pathname);ve(ae,{matches:Pr,loaderData:{},errors:{[Lt.id]:Fn}},{flushSync:lt});return}G=new AbortController;let rt=Zu(t.history,ae,G.signal,me&&me.submission),ot=new xP(t.unstable_getContext?await t.unstable_getContext():void 0),bt;if(me&&me.pendingError)bt=[vc(it).route.id,{type:"error",error:me.pendingError}];else if(me&&me.submission&&ki(me.submission.formMethod)){let Fn=await we(rt,ae,me.submission,it,ot,Ye.active,me&&me.initialHydration===!0,{replace:me.replace,flushSync:lt});if(Fn.shortCircuited)return;if(Fn.pendingActionResult){let[Pr,Lt]=Fn.pendingActionResult;if(Ci(Lt)&&fp(Lt.error)&&Lt.error.status===404){G=null,ve(ae,{matches:Fn.matches,loaderData:{},errors:{[Pr]:Lt.error}});return}}it=Fn.matches||it,bt=Fn.pendingActionResult,He=vE(ae,me.submission),lt=!1,Ye.active=!1,rt=Zu(t.history,rt.url,rt.signal)}let{shortCircuited:st,matches:St,loaderData:Dt,errors:wn}=await _e(rt,ae,it,ot,Ye.active,He,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,lt,bt);st||(G=null,ve(ae,{matches:St||it,...LP(bt),loaderData:Dt,errors:wn}))}async function we(te,ae,me,De,He,it,lt,Ye={}){Ce();let rt=Uz(ae,me);if(se({navigation:rt},{flushSync:Ye.flushSync===!0}),it){let st=await Gl(De,ae.pathname,te.signal);if(st.type==="aborted")return{shortCircuited:!0};if(st.type==="error"){let St=vc(st.partialMatches).route.id;return{matches:st.partialMatches,pendingActionResult:[St,{type:"error",error:st.error}]}}else if(st.matches)De=st.matches;else{let{notFoundMatches:St,error:Dt,route:wn}=Ss(ae.pathname);return{matches:St,pendingActionResult:[wn.id,{type:"error",error:Dt}]}}}let ot,bt=vh(De,ae);if(!bt.route.action&&!bt.route.lazy)ot={type:"error",error:Xi(405,{method:te.method,pathname:ae.pathname,routeId:bt.route.id})};else{let st=Ad(i,o,te,De,bt,lt?[]:r,He),St=await re(te,st,He,null);if(ot=St[bt.route.id],!ot){for(let Dt of De)if(St[Dt.route.id]){ot=St[Dt.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(Ac(ot)){let st;return Ye&&Ye.replace!=null?st=Ye.replace:st=RP(ot.response.headers.get("Location"),new URL(te.url),l)===L.location.pathname+L.location.search,await Q(te,ot,!0,{submission:me,replace:st}),{shortCircuited:!0}}if(Ci(ot)){let st=vc(De,bt.route.id);return(Ye&&Ye.replace)!==!0&&(K="PUSH"),{matches:De,pendingActionResult:[st.route.id,ot,bt.route.id]}}return{matches:De,pendingActionResult:[bt.route.id,ot]}}async function _e(te,ae,me,De,He,it,lt,Ye,rt,ot,bt,st){let St=it||vE(ae,lt),Dt=lt||Ye||FP(St),wn=!k&&!ot;if(He){if(wn){let Yr=Ee(st);se({navigation:St,...Yr!==void 0?{actionData:Yr}:{}},{flushSync:bt})}let $t=await Gl(me,ae.pathname,te.signal);if($t.type==="aborted")return{shortCircuited:!0};if($t.type==="error"){let Yr=vc($t.partialMatches).route.id;return{matches:$t.partialMatches,loaderData:{},errors:{[Yr]:$t.error}}}else if($t.matches)me=$t.matches;else{let{error:Yr,notFoundMatches:po,route:Cs}=Ss(ae.pathname);return{matches:po,loaderData:{},errors:{[Cs.id]:Yr}}}}let Fn=a||s,{dsMatches:Pr,revalidatingFetchers:Lt}=CP(te,De,i,o,t.history,L,me,Dt,ae,ot?[]:r,ot===!0,C,S,N,D,U,Fn,l,st);if(B=++R,!t.dataStrategy&&!Pr.some($t=>$t.shouldLoad)&&Lt.length===0){let $t=uo();return ve(ae,{matches:me,loaderData:{},errors:st&&Ci(st[1])?{[st[0]]:st[1].error}:null,...LP(st),...$t?{fetchers:new Map(L.fetchers)}:{}},{flushSync:bt}),{shortCircuited:!0}}if(wn){let $t={};if(!He){$t.navigation=St;let Yr=Ee(st);Yr!==void 0&&($t.actionData=Yr)}Lt.length>0&&($t.fetchers=Ae(Lt)),se($t,{flushSync:bt})}Lt.forEach($t=>{Mt($t.key),$t.controller&&T.set($t.key,$t.controller)});let Ca=()=>Lt.forEach($t=>Mt($t.key));G&&G.signal.addEventListener("abort",Ca);let{loaderResults:Fo,fetcherResults:ka}=await le(Pr,Lt,te,De);if(te.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",Ca),Lt.forEach($t=>T.delete($t.key));let Wr=Y0(Fo);if(Wr)return await Q(te,Wr.result,!0,{replace:rt}),{shortCircuited:!0};if(Wr=Y0(ka),Wr)return U.add(Wr.key),await Q(te,Wr.result,!0,{replace:rt}),{shortCircuited:!0};let{loaderData:Wl,errors:Xt}=OP(L,me,Fo,st,Lt,ka);ot&&L.errors&&(Xt={...L.errors,...Xt});let ff=uo(),ho=fo(B),Yl=ff||ho||Lt.length>0;return{matches:me,loaderData:Wl,errors:Xt,...Yl?{fetchers:new Map(L.fetchers)}:{}}}function Ee(te){if(te&&!Ci(te[1]))return{[te[0]]:te[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Ae(te){return te.forEach(ae=>{let me=L.fetchers.get(ae.key),De=th(void 0,me?me.data:void 0);L.fetchers.set(ae.key,De)}),new Map(L.fetchers)}async function Re(te,ae,me,De){Mt(te);let He=(De&&De.flushSync)===!0,it=a||s,lt=Y_(L.location,L.matches,l,me,ae,De==null?void 0:De.relative),Ye=pl(it,lt,l),rt=ql(Ye,it,lt);if(rt.active&&rt.matches&&(Ye=rt.matches),!Ye){Te(te,ae,Xi(404,{pathname:lt}),{flushSync:He});return}let{path:ot,submission:bt,error:st}=AP(!0,lt,De);if(st){Te(te,ae,st,{flushSync:He});return}let St=vh(Ye,ot),Dt=new xP(t.unstable_getContext?await t.unstable_getContext():void 0),wn=(De&&De.preventScrollReset)===!0;if(bt&&ki(bt.formMethod)){await $e(te,ae,ot,St,Ye,Dt,rt.active,He,wn,bt);return}D.set(te,{routeId:ae,path:ot}),await Ke(te,ae,ot,St,Ye,Dt,rt.active,He,wn,bt)}async function $e(te,ae,me,De,He,it,lt,Ye,rt,ot){Ce(),D.delete(te);function bt(bn){if(!bn.route.action&&!bn.route.lazy){let zn=Xi(405,{method:ot.formMethod,pathname:me,routeId:ae});return Te(te,ae,zn,{flushSync:Ye}),!0}return!1}if(!lt&&bt(De))return;let st=L.fetchers.get(te);Ie(te,$z(ot,st),{flushSync:Ye});let St=new AbortController,Dt=Zu(t.history,me,St.signal,ot);if(lt){let bn=await Gl(He,me,Dt.signal,te);if(bn.type==="aborted")return;if(bn.type==="error"){Te(te,ae,bn.error,{flushSync:Ye});return}else if(bn.matches){if(He=bn.matches,De=vh(He,me),bt(De))return}else{Te(te,ae,Xi(404,{pathname:me}),{flushSync:Ye});return}}T.set(te,St);let wn=R,Fn=Ad(i,o,Dt,He,De,r,it),Lt=(await re(Dt,Fn,it,te))[De.route.id];if(Dt.signal.aborted){T.get(te)===St&&T.delete(te);return}if(N.has(te)){if(Ac(Lt)||Ci(Lt)){Ie(te,sl(void 0));return}}else{if(Ac(Lt))if(T.delete(te),B>wn){Ie(te,sl(void 0));return}else return U.add(te),Ie(te,th(ot)),Q(Dt,Lt,!1,{fetcherSubmission:ot,preventScrollReset:rt});if(Ci(Lt)){Te(te,ae,Lt.error);return}}let Ca=L.navigation.location||L.location,Fo=Zu(t.history,Ca,St.signal),ka=a||s,Wr=L.navigation.state!=="idle"?pl(ka,L.navigation.location,l):L.matches;Ot(Wr,"Didn't find any matches after fetcher action");let Wl=++R;F.set(te,Wl);let Xt=th(ot,Lt.data);L.fetchers.set(te,Xt);let{dsMatches:ff,revalidatingFetchers:ho}=CP(Fo,it,i,o,t.history,L,Wr,ot,Ca,r,!1,C,S,N,D,U,ka,l,[De.route.id,Lt]);ho.filter(bn=>bn.key!==te).forEach(bn=>{let zn=bn.key,wm=L.fetchers.get(zn),Tw=th(void 0,wm?wm.data:void 0);L.fetchers.set(zn,Tw),Mt(zn),bn.controller&&T.set(zn,bn.controller)}),se({fetchers:new Map(L.fetchers)});let Yl=()=>ho.forEach(bn=>Mt(bn.key));St.signal.addEventListener("abort",Yl);let{loaderResults:$t,fetcherResults:Yr}=await le(ff,ho,Fo,it);if(St.signal.aborted)return;St.signal.removeEventListener("abort",Yl),F.delete(te),T.delete(te),ho.forEach(bn=>T.delete(bn.key));let po=Y0($t);if(po)return Q(Fo,po.result,!1,{preventScrollReset:rt});if(po=Y0(Yr),po)return U.add(po.key),Q(Fo,po.result,!1,{preventScrollReset:rt});let{loaderData:Cs,errors:Qr}=OP(L,Wr,$t,void 0,ho,Yr);if(L.fetchers.has(te)){let bn=sl(Lt.data);L.fetchers.set(te,bn)}fo(Wl),L.navigation.state==="loading"&&Wl>B?(Ot(K,"Expected pending action"),G&&G.abort(),ve(L.navigation.location,{matches:Wr,loaderData:Cs,errors:Qr,fetchers:new Map(L.fetchers)})):(se({errors:Qr,loaderData:NP(L.loaderData,Cs,Wr,Qr),fetchers:new Map(L.fetchers)}),C=!1)}async function Ke(te,ae,me,De,He,it,lt,Ye,rt,ot){let bt=L.fetchers.get(te);Ie(te,th(ot,bt?bt.data:void 0),{flushSync:Ye});let st=new AbortController,St=Zu(t.history,me,st.signal);if(lt){let Lt=await Gl(He,me,St.signal,te);if(Lt.type==="aborted")return;if(Lt.type==="error"){Te(te,ae,Lt.error,{flushSync:Ye});return}else if(Lt.matches)He=Lt.matches,De=vh(He,me);else{Te(te,ae,Xi(404,{pathname:me}),{flushSync:Ye});return}}T.set(te,st);let Dt=R,wn=Ad(i,o,St,He,De,r,it),Pr=(await re(St,wn,it,te))[De.route.id];if(T.get(te)===st&&T.delete(te),!St.signal.aborted){if(N.has(te)){Ie(te,sl(void 0));return}if(Ac(Pr))if(B>Dt){Ie(te,sl(void 0));return}else{U.add(te),await Q(St,Pr,!1,{preventScrollReset:rt});return}if(Ci(Pr)){Te(te,ae,Pr.error);return}Ie(te,sl(Pr.data))}}async function Q(te,ae,me,{submission:De,fetcherSubmission:He,preventScrollReset:it,replace:lt}={}){ae.response.headers.has("X-Remix-Revalidate")&&(C=!0);let Ye=ae.response.headers.get("Location");Ot(Ye,"Expected a Location header on the redirect Response"),Ye=RP(Ye,new URL(te.url),l);let rt=dp(L.location,Ye,{_isRedirect:!0});if(n){let wn=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))wn=!0;else if(ZS.test(Ye)){const Fn=t.history.createURL(Ye);wn=Fn.origin!==e.location.origin||co(Fn.pathname,l)==null}if(wn){lt?e.location.replace(Ye):e.location.assign(Ye);return}}G=null;let ot=lt===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:bt,formAction:st,formEncType:St}=L.navigation;!De&&!He&&bt&&st&&St&&(De=FP(L.navigation));let Dt=De||He;if(xz.has(ae.response.status)&&Dt&&ki(Dt.formMethod))await je(ot,rt,{submission:{...Dt,formAction:Ye},preventScrollReset:it||j,enableViewTransition:me?V:void 0});else{let wn=vE(rt,De);await je(ot,rt,{overrideNavigation:wn,fetcherSubmission:He,preventScrollReset:it||j,enableViewTransition:me?V:void 0})}}async function re(te,ae,me,De){let He,it={};try{He=await Mz(u,te,ae,De,me,!1)}catch(lt){return ae.filter(Ye=>Ye.shouldLoad).forEach(Ye=>{it[Ye.route.id]={type:"error",error:lt}}),it}for(let[lt,Ye]of Object.entries(He))if(Fz(Ye)){let rt=Ye.result;it[lt]={type:"redirect",response:Lz(rt,te,lt,ae,l)}}else it[lt]=await Nz(Ye);return it}async function le(te,ae,me,De){let He=re(me,te,De,null),it=Promise.all(ae.map(async rt=>{if(rt.matches&&rt.match&&rt.request&&rt.controller){let bt=(await re(rt.request,rt.matches,De,rt.key))[rt.match.route.id];return{[rt.key]:bt}}else return Promise.resolve({[rt.key]:{type:"error",error:Xi(404,{pathname:rt.path})}})})),lt=await He,Ye=(await it).reduce((rt,ot)=>Object.assign(rt,ot),{});return{loaderResults:lt,fetcherResults:Ye}}function Ce(){C=!0,D.forEach((te,ae)=>{T.has(ae)&&S.add(ae),Mt(ae)})}function Ie(te,ae,me={}){L.fetchers.set(te,ae),se({fetchers:new Map(L.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Te(te,ae,me,De={}){let He=vc(L.matches,ae);xt(te),se({errors:{[He.route.id]:me},fetchers:new Map(L.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function ze(te){return O.set(te,(O.get(te)||0)+1),N.has(te)&&N.delete(te),L.fetchers.get(te)||Sz}function xt(te){let ae=L.fetchers.get(te);T.has(te)&&!(ae&&ae.state==="loading"&&F.has(te))&&Mt(te),D.delete(te),F.delete(te),U.delete(te),N.delete(te),S.delete(te),L.fetchers.delete(te)}function Gt(te){let ae=(O.get(te)||0)-1;ae<=0?(O.delete(te),N.add(te)):O.set(te,ae),se({fetchers:new Map(L.fetchers)})}function Mt(te){let ae=T.get(te);ae&&(ae.abort(),T.delete(te))}function Sa(te){for(let ae of te){let me=ze(ae),De=sl(me.data);L.fetchers.set(ae,De)}}function uo(){let te=[],ae=!1;for(let me of U){let De=L.fetchers.get(me);Ot(De,`Expected fetcher: ${me}`),De.state==="loading"&&(U.delete(me),te.push(me),ae=!0)}return Sa(te),ae}function fo(te){let ae=[];for(let[me,De]of F)if(De<te){let He=L.fetchers.get(me);Ot(He,`Expected fetcher: ${me}`),He.state==="loading"&&(Mt(me),F.delete(me),ae.push(me))}return Sa(ae),ae.length>0}function Kl(te,ae){let me=L.blockers.get(te)||eh;return H.get(te)!==ae&&H.set(te,ae),me}function mi(te){L.blockers.delete(te),H.delete(te)}function Li(te,ae){let me=L.blockers.get(te)||eh;Ot(me.state==="unblocked"&&ae.state==="blocked"||me.state==="blocked"&&ae.state==="blocked"||me.state==="blocked"&&ae.state==="proceeding"||me.state==="blocked"&&ae.state==="unblocked"||me.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${me.state} -> ${ae.state}`);let De=new Map(L.blockers);De.set(te,ae),se({blockers:De})}function Ir({currentLocation:te,nextLocation:ae,historyAction:me}){if(H.size===0)return;H.size>1&&Dn(!1,"A router only supports one blocker at a time");let De=Array.from(H.entries()),[He,it]=De[De.length-1],lt=L.blockers.get(He);if(!(lt&&lt.state==="proceeding")&&it({currentLocation:te,nextLocation:ae,historyAction:me}))return He}function Ss(te){let ae=Xi(404,{pathname:te}),me=a||s,{matches:De,route:He}=BP(me);return{notFoundMatches:De,route:He,error:ae}}function uf(te,ae,me){if(g=te,w=ae,b=me||null,!E&&L.navigation===yE){E=!0;let De=df(L.location,L.matches);De!=null&&se({restoreScrollPosition:De})}return()=>{g=null,w=null,b=null}}function As(te,ae){return b&&b(te,ae.map(De=>tz(De,L.loaderData)))||te.key}function Aa(te,ae){if(g&&w){let me=As(te,ae);g[me]=w()}}function df(te,ae){if(g){let me=As(te,ae),De=g[me];if(typeof De=="number")return De}return null}function ql(te,ae,me){if(t.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:kg(ae,me,l,!0)}}else return{active:!0,matches:kg(ae,me,l,!0)||[]};return{active:!1,matches:null}}async function Gl(te,ae,me,De){if(!t.patchRoutesOnNavigation)return{type:"success",matches:te};let He=te;for(;;){let it=a==null,lt=a||s,Ye=o;try{await t.patchRoutesOnNavigation({signal:me,path:ae,matches:He,fetcherKey:De,patch:(bt,st)=>{me.aborted||kP(bt,st,lt,Ye,i)}})}catch(bt){return{type:"error",error:bt,partialMatches:He}}finally{it&&!me.aborted&&(s=[...s])}if(me.aborted)return{type:"aborted"};let rt=pl(lt,ae,l);if(rt)return{type:"success",matches:rt};let ot=kg(lt,ae,l,!0);if(!ot||He.length===ot.length&&He.every((bt,st)=>bt.route.id===ot[st].route.id))return{type:"success",matches:null};He=ot}}function ym(te){o={},a=_y(te,i,void 0,o)}function vm(te,ae){let me=a==null;kP(te,ae,a||s,o,i),me&&(s=[...s],se({}))}return M={get basename(){return l},get future(){return d},get state(){return L},get routes(){return s},get window(){return e},initialize:ee,subscribe:oe,enableScrollRestoration:uf,navigate:de,fetch:Re,revalidate:Oe,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:ze,deleteFetcher:Gt,dispose:J,getBlocker:Kl,deleteBlocker:mi,patchRoutes:vm,_internalFetchControllers:T,_internalSetRoutes:ym},M}function kz(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Y_(t,e,n,r,i,o){let s,a;if(i){s=[];for(let u of e)if(s.push(u),u.route.id===i){a=u;break}}else s=e,a=e[e.length-1];let l=QS(r||".",YS(s),co(t.pathname,n)||t.pathname,o==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&a){let u=JS(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let d=new URLSearchParams(l.search),h=d.getAll("index");d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let m=d.toString();l.search=m?`?${m}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:ds([n,l.pathname])),Pl(l)}function AP(t,e,n){if(!n||!kz(n))return{path:e};if(n.formMethod&&!jz(n.formMethod))return{path:e,error:Xi(405,{method:n.formMethod})};let r=()=>({path:e,error:Xi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),s=vN(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ki(o))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[g,b])=>`${m}${g}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!ki(o))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Ot(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=J_(n.formData),l=n.formData;else if(n.body instanceof FormData)a=J_(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=MP(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=MP(a)}catch{return r()}let u={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ki(u.formMethod))return{path:e,submission:u};let d=Fl(e);return t&&d.search&&JS(d.search)&&a.append("index",""),d.search=`?${a}`,{path:Pl(d),submission:u}}function CP(t,e,n,r,i,o,s,a,l,u,d,h,m,g,b,w,E,y,_){var q;let x=_?Ci(_[1])?_[1].error:_[1].data:void 0,P=i.createURL(o.location),M=i.createURL(l),L;if(d&&o.errors){let k=Object.keys(o.errors)[0];L=s.findIndex(C=>C.route.id===k)}else if(_&&Ci(_[1])){let k=_[0];L=s.findIndex(C=>C.route.id===k)-1}let K=_?_[1].statusCode:void 0,j=K&&K>=400,G={currentUrl:P,currentParams:((q=o.matches[0])==null?void 0:q.params)||{},nextUrl:M,nextParams:s[0].params,...a,actionResult:x,actionStatus:K},V=s.map((k,C)=>{let{route:S}=k,T=null;if(L!=null&&C>L?T=!1:S.lazy?T=!0:S.loader==null?T=!1:d?T=Q_(S,o.loaderData,o.errors):Tz(o.loaderData,o.matches[C],k)&&(T=!0),T!==null)return Z_(n,r,t,k,u,e,T);let R=j?!1:h||P.pathname+P.search===M.pathname+M.search||P.search!==M.search||Iz(o.matches[C],k),B={...G,defaultShouldRevalidate:R},F=Ay(k,B);return Z_(n,r,t,k,u,e,F,B)}),W=[];return b.forEach((k,C)=>{if(d||!s.some(D=>D.route.id===k.routeId)||g.has(C))return;let S=pl(E,k.path,y);if(!S){W.push({key:C,routeId:k.routeId,path:k.path,matches:null,match:null,request:null,controller:null});return}if(w.has(C))return;let T=o.fetchers.get(C),R=vh(S,k.path),B=new AbortController,F=Zu(i,k.path,B.signal),U=null;if(m.has(C))m.delete(C),U=Ad(n,r,F,S,R,u,e);else if(T&&T.state!=="idle"&&T.data===void 0)h&&(U=Ad(n,r,F,S,R,u,e));else{let D={...G,defaultShouldRevalidate:j?!1:h};Ay(R,D)&&(U=Ad(n,r,F,S,R,u,e,D))}U&&W.push({key:C,routeId:k.routeId,path:k.path,matches:U,match:R,request:F,controller:B})}),{dsMatches:V,revalidatingFetchers:W}}function Q_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Tz(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function Iz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ay(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function kP(t,e,n,r,i){let o;if(t){let l=r[t];Ot(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),o=l.children}else o=n;let s=e.filter(l=>!o.some(u=>hN(l,u))),a=_y(s,i,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...a)}function hN(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>hN(n,o))}):!1}var TP=new WeakMap,pN=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Ot(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let s=TP.get(i);s||(s={},TP.set(i,s));let a=s[t];if(a)return a;let l=(async()=>{let u=ZV(t),h=i[t]!==void 0&&t!=="hasErrorBoundary";if(u)Dn(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(h)Dn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let m=await o();m!=null&&(Object.assign(i,{[t]:m}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(m=>m===void 0)&&(i.lazy=void 0))})();return s[t]=l,l},IP=new WeakMap;function Pz(t,e,n,r,i){let o=n[t.id];if(Ot(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=IP.get(o);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{Ot(typeof t.lazy=="function","No lazy route function found");let m=await t.lazy(),g={};for(let b in m){let w=m[b];if(w===void 0)continue;let E=XV(b),_=o[b]!==void 0&&b!=="hasErrorBoundary";E?Dn(!E,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):_?Dn(!_,`Route "${o.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):g[b]=w}Object.assign(o,g),Object.assign(o,{...r(o),lazy:void 0})})();return IP.set(o,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let s=Object.keys(t.lazy),a=[],l;for(let d of s){if(i&&i.includes(d))continue;let h=pN({key:d,route:t,manifest:n,mapRouteProperties:r});h&&(a.push(h),d===e&&(l=h))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function PP(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function Rz(t){return t.matches.some(e=>e.route.unstable_middleware)?mN(t,!1,()=>PP(t),(e,n)=>({[n]:{type:"error",result:e}})):PP(t)}async function mN(t,e,n,r){let{matches:i,request:o,params:s,context:a}=t,l={handlerResult:void 0};try{let u=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(m=>[h.route.id,m]):[]),d=await gN({request:o,params:s,context:a},u,e,l,n);return e?d:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let d=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,d):d}}async function gN(t,e,n,r,i,o=0){let{request:s}=t;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let a=e[o];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,u]=a,d=!1,h,m=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await gN(t,e,n,r,i,o+1)};try{let g=await u({request:t.request,params:t.params,context:t.context},m);return d?g===void 0?h:g:m()}catch(g){throw r.middlewareError?r.middlewareError.error!==g&&(r.middlewareError={routeId:l,error:g}):r.middlewareError={routeId:l,error:g},g}}function yN(t,e,n,r,i){let o=pN({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),s=Pz(r.route,ki(n.method)?"action":"loader",e,t,i);return{middleware:o,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function Z_(t,e,n,r,i,o,s,a=null){let l=!1,u=yN(t,e,n,r,i);return{...r,_lazyPromises:u,shouldLoad:s,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(d){return l=!0,a?typeof d=="boolean"?Ay(r,{...a,defaultShouldRevalidate:d}):Ay(r,a):s},resolve(d){return l||s||d&&n.method==="GET"&&(r.route.lazy||r.route.loader)?Oz({request:n,match:r,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ad(t,e,n,r,i,o,s,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:yN(t,e,n,l,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Z_(t,e,n,l,o,s,!0,a))}async function Mz(t,e,n,r,i,o){n.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(n.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let s={request:e,params:n[0].params,context:i,matches:n},l=await t({...s,fetcherKey:r,unstable_runClientMiddleware:u=>{let d=s;return mN(d,!1,()=>u({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,m)=>({[m]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return l}async function Oz({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let s,a,l=ki(t.method),u=l?"action":"loader",d=h=>{let m,g=new Promise((E,y)=>m=y);a=()=>m(),t.signal.addEventListener("abort",a);let b=E=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${e.route.id}]`)):h({request:t,params:e.params,context:o},...E!==void 0?[E]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(y=>b(y)):b())}}catch(E){return{type:"error",result:E}}})();return Promise.race([w,g])};try{let h=l?e.route.action:e.route.loader;if(n||r)if(h){let m,[g]=await Promise.all([d(h).catch(b=>{m=b}),n,r]);if(m!==void 0)throw m;s=g}else{await n;let m=l?e.route.action:e.route.loader;if(m)[s]=await Promise.all([d(m),r]);else if(u==="action"){let g=new URL(t.url),b=g.pathname+g.search;throw Xi(405,{method:t.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(h)s=await d(h);else{let m=new URL(t.url),g=m.pathname+m.search;throw Xi(404,{pathname:g})}}catch(h){return{type:"error",result:h}}finally{a&&t.signal.removeEventListener("abort",a)}return s}async function Nz(t){var r,i,o,s,a,l;let{result:e,type:n}=t;if(wN(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new Sy(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?DP(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Sy(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:fp(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:fp(e)?e.status:void 0}:DP(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Lz(t,e,n,r,i){let o=t.headers.get("Location");if(Ot(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZS.test(o)){let s=r.slice(0,r.findIndex(a=>a.route.id===n)+1);o=Y_(new URL(e.url),s,i,o),t.headers.set("Location",o)}return t}function RP(t,e,n){if(ZS.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=co(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Zu(t,e,n,r){let i=t.createURL(vN(e)).toString(),o={signal:n};if(r&&ki(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=J_(r.formData):o.body=r.formData}return new Request(i,o)}function J_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function MP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Bz(t,e,n,r=!1,i=!1){let o={},s=null,a,l=!1,u={},d=n&&Ci(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let m=h.route.id,g=e[m];if(Ot(!Ac(g),"Cannot handle redirect results in processLoaderData"),Ci(g)){let b=g.error;if(d!==void 0&&(b=d,d=void 0),s=s||{},i)s[m]=b;else{let w=vc(t,m);s[w.route.id]==null&&(s[w.route.id]=b)}r||(o[m]=fN),l||(l=!0,a=fp(g.error)?g.error.status:500),g.headers&&(u[m]=g.headers)}else o[m]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(u[m]=g.headers)}),d!==void 0&&n&&(s={[n[0]]:d},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function OP(t,e,n,r,i,o){let{loaderData:s,errors:a}=Bz(e,n,r);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:d,controller:h}=l,m=o[u];if(Ot(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Ci(m)){let g=vc(t.matches,d==null?void 0:d.route.id);a&&a[g.route.id]||(a={...a,[g.route.id]:m.error}),t.fetchers.delete(u)}else if(Ac(m))Ot(!1,"Unhandled fetcher revalidation redirect");else{let g=sl(m.data);t.fetchers.set(u,g)}}),{loaderData:s,errors:a}}function NP(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==fN).reduce((o,[s,a])=>(o[s]=a,o),{});for(let o of n){let s=o.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function LP(t){return t?Ci(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function vc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function BP(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xi(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&e&&n?a=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a=`Route "${n}" does not match URL "${e}"`):t===404?(s="Not Found",a=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",r&&e&&n?a=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Sy(t||500,s,new Error(a),!0)}function Y0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ac(i))return{key:r,result:i}}}function vN(t){let e=typeof t=="string"?Fl(t):t;return Pl({...e,hash:""})}function Dz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Fz(t){return wN(t.result)&&_z.has(t.result.status)}function Ci(t){return t.type==="error"}function Ac(t){return(t&&t.type)==="redirect"}function DP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function wN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jz(t){return Ez.has(t.toUpperCase())}function ki(t){return wz.has(t.toUpperCase())}function JS(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function vh(t,e){let n=typeof e=="string"?Fl(e).search:e.search;if(t[t.length-1].route.index&&JS(n||""))return t[t.length-1];let r=cN(t);return r[r.length-1]}function FP(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function vE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Uz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function th(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $z(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function sl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hz(t,e){try{let n=t.sessionStorage.getItem(dN);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Vz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(dN,JSON.stringify(n))}catch(r){Dn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function zz(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var uu=Z.createContext(null);uu.displayName="DataRouter";var Xp=Z.createContext(null);Xp.displayName="DataRouterState";var XS=Z.createContext({isTransitioning:!1});XS.displayName="ViewTransition";var bN=Z.createContext(new Map);bN.displayName="Fetchers";var Kz=Z.createContext(null);Kz.displayName="Await";var Es=Z.createContext(null);Es.displayName="Navigation";var Gv=Z.createContext(null);Gv.displayName="Location";var _s=Z.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var e2=Z.createContext(null);e2.displayName="RouteError";function qz(t,{relative:e}={}){Ot(em(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Z.useContext(Es),{hash:i,pathname:o,search:s}=tm(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:ds([n,o])),r.createHref({pathname:a,search:s,hash:i})}function em(){return Z.useContext(Gv)!=null}function du(){return Ot(em(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Gv).location}var EN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _N(t){Z.useContext(Es).static||Z.useLayoutEffect(t)}function Wv(){let{isDataRoute:t}=Z.useContext(_s);return t?aK():Gz()}function Gz(){Ot(em(),"useNavigate() may be used only in the context of a <Router> component.");let t=Z.useContext(uu),{basename:e,navigator:n}=Z.useContext(Es),{matches:r}=Z.useContext(_s),{pathname:i}=du(),o=JSON.stringify(YS(r)),s=Z.useRef(!1);return _N(()=>{s.current=!0}),Z.useCallback((l,u={})=>{if(Dn(s.current,EN),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=QS(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ds([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,i,t])}var Wz=Z.createContext(null);function Yz(t){let e=Z.useContext(_s).outlet;return e&&Z.createElement(Wz.Provider,{value:t},e)}function tm(t,{relative:e}={}){let{matches:n}=Z.useContext(_s),{pathname:r}=du(),i=JSON.stringify(YS(n));return Z.useMemo(()=>QS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Qz(t,e,n,r){Ot(em(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=Z.useContext(Es),{matches:s}=Z.useContext(_s),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let _=h&&h.path||"";xN(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=du(),g;g=m;let b=g.pathname||"/",w=b;if(d!=="/"){let _=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=!o&&n&&n.matches&&n.matches.length>0?n.matches:pl(t,{pathname:w});return Dn(h||E!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Dn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),tK(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ds([d,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:ds([d,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r)}function Zz(){let t=sK(),e=fp(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:i},n):null,s)}var Jz=Z.createElement(Zz,null),Xz=class extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Z.createElement(_s.Provider,{value:this.props.routeContext},Z.createElement(e2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eK({routeContext:t,match:e,children:n}){let r=Z.useContext(uu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(_s.Provider,{value:t},n)}function tK(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Ot(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,m=!1,g=null,b=null;n&&(h=o&&u.route.id?o[u.route.id]:void 0,g=u.route.errorElement||Jz,s&&(a<0&&d===0?(xN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):a===d&&(m=!0,b=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),E=()=>{let y;return h?y=g:m?y=b:u.route.Component?y=Z.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,Z.createElement(eK,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?Z.createElement(Xz,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function t2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nK(t){let e=Z.useContext(uu);return Ot(e,t2(t)),e}function rK(t){let e=Z.useContext(Xp);return Ot(e,t2(t)),e}function iK(t){let e=Z.useContext(_s);return Ot(e,t2(t)),e}function n2(t){let e=iK(t),n=e.matches[e.matches.length-1];return Ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oK(){return n2("useRouteId")}function sK(){var r;let t=Z.useContext(e2),e=rK("useRouteError"),n=n2("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function aK(){let{router:t}=nK("useNavigate"),e=n2("useNavigate"),n=Z.useRef(!1);return _N(()=>{n.current=!0}),Z.useCallback(async(i,o={})=>{Dn(n.current,EN),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var jP={};function xN(t,e,n){!e&&!jP[t]&&(jP[t]=!0,Dn(!1,n))}var UP={};function $P(t,e){!t&&!UP[e]&&(UP[e]=!0,console.warn(e))}function lK(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Dn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Z.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Dn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Z.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Dn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Z.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var cK=["HydrateFallback","hydrateFallbackElement"],uK=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function dK({router:t,flushSync:e}){let[n,r]=Z.useState(t.state),[i,o]=Z.useState(),[s,a]=Z.useState({isTransitioning:!1}),[l,u]=Z.useState(),[d,h]=Z.useState(),[m,g]=Z.useState(),b=Z.useRef(new Map),w=Z.useCallback((x,{deletedFetchers:P,flushSync:M,viewTransitionOpts:L})=>{x.fetchers.forEach((j,G)=>{j.data!==void 0&&b.current.set(G,j.data)}),P.forEach(j=>b.current.delete(j)),$P(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let K=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if($P(L==null||K,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!K){e&&M?e(()=>r(x)):Z.startTransition(()=>r(x));return}if(e&&M){e(()=>{d&&(l&&l.resolve(),d.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let j=t.window.document.startViewTransition(()=>{e(()=>r(x))});j.finished.finally(()=>{e(()=>{u(void 0),h(void 0),o(void 0),a({isTransitioning:!1})})}),e(()=>h(j));return}d?(l&&l.resolve(),d.skipTransition(),g({state:x,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(o(x),a({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,e,d,l]);Z.useLayoutEffect(()=>t.subscribe(w),[t,w]),Z.useEffect(()=>{s.isTransitioning&&!s.flushSync&&u(new uK)},[s]),Z.useEffect(()=>{if(l&&i&&t.window){let x=i,P=l.promise,M=t.window.document.startViewTransition(async()=>{Z.startTransition(()=>r(x)),await P});M.finished.finally(()=>{u(void 0),h(void 0),o(void 0),a({isTransitioning:!1})}),h(M)}},[i,l,t.window]),Z.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,d,n.location,i]),Z.useEffect(()=>{!s.isTransitioning&&m&&(o(m.state),a({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[s.isTransitioning,m]);let E=Z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,P,M)=>t.navigate(x,{state:P,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(x,P,M)=>t.navigate(x,{replace:!0,state:P,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[t]),y=t.basename||"/",_=Z.useMemo(()=>({router:t,navigator:E,static:!1,basename:y}),[t,E,y]);return Z.createElement(Z.Fragment,null,Z.createElement(uu.Provider,{value:_},Z.createElement(Xp.Provider,{value:n},Z.createElement(bN.Provider,{value:b.current},Z.createElement(XS.Provider,{value:s},Z.createElement(mK,{basename:y,location:n.location,navigationType:n.historyAction,navigator:E},Z.createElement(fK,{routes:t.routes,future:t.future,state:n})))))),null)}var fK=Z.memo(hK);function hK({routes:t,future:e,state:n}){return Qz(t,void 0,n,e)}function pK(t){return Yz(t.context)}function mK({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ot(!em(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=Z.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Fl(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:m="default"}=n,g=Z.useMemo(()=>{let b=co(l,s);return b==null?null:{location:{pathname:b,search:u,hash:d,state:h,key:m},navigationType:r}},[s,l,u,d,h,m,r]);return Dn(g!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:Z.createElement(Es.Provider,{value:a},Z.createElement(Gv.Provider,{children:e,value:g}))}var Tg="get",Ig="application/x-www-form-urlencoded";function Yv(t){return t!=null&&typeof t.tagName=="string"}function gK(t){return Yv(t)&&t.tagName.toLowerCase()==="button"}function yK(t){return Yv(t)&&t.tagName.toLowerCase()==="form"}function vK(t){return Yv(t)&&t.tagName.toLowerCase()==="input"}function wK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bK(t,e){return t.button===0&&(!e||e==="_self")&&!wK(t)}var Q0=null;function EK(){if(Q0===null)try{new FormData(document.createElement("form"),0),Q0=!1}catch{Q0=!0}return Q0}var _K=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wE(t){return t!=null&&!_K.has(t)?(Dn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):t}function xK(t,e){let n,r,i,o,s;if(yK(t)){let a=t.getAttribute("action");r=a?co(a,e):null,n=t.getAttribute("method")||Tg,i=wE(t.getAttribute("enctype"))||Ig,o=new FormData(t)}else if(gK(t)||vK(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?co(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Tg,i=wE(t.getAttribute("formenctype"))||wE(a.getAttribute("enctype"))||Ig,o=new FormData(a,t),!EK()){let{name:u,type:d,value:h}=t;if(d==="image"){let m=u?`${u}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else u&&o.append(u,h)}}else{if(Yv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tg,r=null,i=Ig,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function r2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function SK(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AK(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CK(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await SK(o,n);return s.links?s.links():[]}return[]}));return PK(r.flat(1).filter(AK).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function HP(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function kK(t,e,{includeHydrateFallback:n}={}){return TK(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function TK(t){return[...new Set(t)]}function IK(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function PK(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(IK(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}var RK=new Set([100,101,204,205]);function MK(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&co(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function SN(){let t=Z.useContext(uu);return r2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OK(){let t=Z.useContext(Xp);return r2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var i2=Z.createContext(void 0);i2.displayName="FrameworkContext";function AN(){let t=Z.useContext(i2);return r2(t,"You must render this element inside a <HydratedRouter> element"),t}function NK(t,e){let n=Z.useContext(i2),[r,i]=Z.useState(!1),[o,s]=Z.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,m=Z.useRef(null);Z.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=y=>{y.forEach(_=>{s(_.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return m.current&&E.observe(m.current),()=>{E.disconnect()}}},[t]),Z.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let g=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,m,{}]:[o,m,{onFocus:nh(a,g),onBlur:nh(l,b),onMouseEnter:nh(u,g),onMouseLeave:nh(d,b),onTouchStart:nh(h,g)}]:[!1,m,{}]}function nh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LK({page:t,...e}){let{router:n}=SN(),r=Z.useMemo(()=>pl(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?Z.createElement(DK,{page:t,matches:r,...e}):null}function BK(t){let{manifest:e,routeModules:n}=AN(),[r,i]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return CK(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function DK({page:t,matches:e,...n}){let r=du(),{manifest:i,routeModules:o}=AN(),{basename:s}=SN(),{loaderData:a,matches:l}=OK(),u=Z.useMemo(()=>HP(t,e,l,i,r,"data"),[t,e,l,i,r]),d=Z.useMemo(()=>HP(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=Z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(e.forEach(y=>{var x;let _=i.routes[y.route.id];!_||!_.hasLoader||(!u.some(P=>P.route.id===y.route.id)&&y.route.id in a&&((x=o[y.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?w=!0:b.add(y.route.id))}),b.size===0)return[];let E=MK(t,s);return w&&b.size>0&&E.searchParams.set("_routes",e.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[E.pathname+E.search]},[s,a,r,i,u,e,t,o]),m=Z.useMemo(()=>kK(d,i),[d,i]),g=BK(d);return Z.createElement(Z.Fragment,null,h.map(b=>Z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>Z.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:w})=>Z.createElement("link",{key:b,...w})))}function FK(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CN&&(window.__reactRouterVersion="7.5.3")}catch{}function jK(t,e){return Cz({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:GV({window:e==null?void 0:e.window}),hydrationData:UK(),routes:t,mapRouteProperties:lK,hydrationRouteProperties:cK,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function UK(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:$K(t.errors)}),t}function $K(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Sy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var kN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TN=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...m},g){let{basename:b}=Z.useContext(Es),w=typeof u=="string"&&kN.test(u),E,y=!1;if(typeof u=="string"&&w&&(E=u,CN))try{let G=new URL(window.location.href),V=u.startsWith("//")?new URL(G.protocol+u):new URL(u),W=co(V.pathname,b);V.origin===G.origin&&W!=null?u=W+V.search+V.hash:y=!0}catch{Dn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=qz(u,{relative:i}),[x,P,M]=NK(r,m),L=zK(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function K(G){e&&e(G),G.defaultPrevented||L(G)}let j=Z.createElement("a",{...m,...M,href:E||_,onClick:y||o?e:K,ref:FK(g,P),target:l,"data-discover":!w&&n==="render"?"true":void 0});return x&&!w?Z.createElement(Z.Fragment,null,j,Z.createElement(LK,{page:_})):j});TN.displayName="Link";var X_=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},d){let h=tm(s,{relative:u.relative}),m=du(),g=Z.useContext(Xp),{navigator:b,basename:w}=Z.useContext(Es),E=g!=null&&YK(h)&&a===!0,y=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,_=m.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&w&&(x=co(x,w)||x);const P=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=_===y||!i&&_.startsWith(y)&&_.charAt(P)==="/",L=x!=null&&(x===y||!i&&x.startsWith(y)&&x.charAt(y.length)==="/"),K={isActive:M,isPending:L,isTransitioning:E},j=M?e:void 0,G;typeof r=="function"?G=r(K):G=[r,M?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(K):o;return Z.createElement(TN,{...u,"aria-current":j,className:G,ref:d,style:V,to:s,viewTransition:a},typeof l=="function"?l(K):l)});X_.displayName="NavLink";var HK=Z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Tg,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...m},g)=>{let b=GK(),w=WK(a,{relative:u}),E=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&kN.test(a),_=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let P=x.nativeEvent.submitter,M=(P==null?void 0:P.getAttribute("formmethod"))||s;b(P||x.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:h})};return Z.createElement("form",{ref:g,method:E,action:w,onSubmit:r?l:_,...m,"data-discover":!y&&t==="render"?"true":void 0})});HK.displayName="Form";function VK(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IN(t){let e=Z.useContext(uu);return Ot(e,VK(t)),e}function zK(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Wv(),l=du(),u=tm(t,{relative:o});return Z.useCallback(d=>{if(bK(d,e)){d.preventDefault();let h=n!==void 0?n:Pl(l)===Pl(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var KK=0,qK=()=>`__${String(++KK)}__`;function GK(){let{router:t}=IN("useSubmit"),{basename:e}=Z.useContext(Es),n=oK();return Z.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=xK(r,e);if(i.navigate===!1){let d=i.fetcherKey||qK();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function WK(t,{relative:e}={}){let{basename:n}=Z.useContext(Es),r=Z.useContext(_s);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...tm(t||".",{relative:e})},s=du();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ds([n,o.pathname])),Pl(o)}function YK(t,e={}){let n=Z.useContext(XS);Ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IN("useViewTransitionState"),i=tm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=co(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=co(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xy(i.pathname,s)!=null||xy(i.pathname,o)!=null}new TextEncoder;[...RK];var QK=M5();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ZK(t){return Z.createElement(dK,{flushSync:QK.flushSync,...t})}const oa={initPage:"/",loans:"/loans"},JK="/assets/logo-ChV1zyB9.png";var PN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VP=cn.createContext&&cn.createContext(PN),XK=["attr","size","title"];function eq(t,e){if(t==null)return{};var n=tq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){nq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nq(t,e,n){return e=rq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rq(t){var e=iq(t,"string");return typeof e=="symbol"?e:e+""}function iq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RN(t){return t&&t.map((e,n)=>cn.createElement(e.tag,ky({key:n},e.attr),RN(e.child)))}function jl(t){return e=>cn.createElement(oq,Cy({attr:ky({},t.attr)},e),RN(t.child))}function oq(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=eq(t,XK),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),cn.createElement("svg",Cy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:ky(ky({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&cn.createElement("title",null,o),t.children)};return VP!==void 0?cn.createElement(VP.Consumer,null,n=>e(n)):e(PN)}function sq(t){return jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466 355.9H46c-7.7 0-14 6.3-14 14s6.3 14 14 14h420c7.7 0 14-6.3 14-14s-6.3-14-14-14zM466 403.9H46c-7.7 0-14 6.3-14 14s6.3 14 14 14h420c7.7 0 14-6.3 14-14s-6.3-14-14-14zM444.9 80.1H67.1C47.8 80.1 32 95.9 32 115.2V293c0 19.3 15.8 35.1 35.1 35.1h377.8c19.3 0 35.1-15.8 35.1-35.1V115.2c0-19.3-15.8-35.1-35.1-35.1zM114 296.1H78c-7.7 0-14-6.3-14-14s6.3-14 14-14h36c7.7 0 14 6.3 14 14s-6.3 14-14 14zm0-156H78c-7.7 0-14-6.3-14-14s6.3-14 14-14h36c7.7 0 14 6.3 14 14s-6.3 14-14 14zm142 144c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm178 12h-36c-7.7 0-14-6.3-14-14s6.3-14 14-14h36c7.7 0 14 6.3 14 14s-6.3 14-14 14zm0-156h-36c-7.7 0-14-6.3-14-14s6.3-14 14-14h36c7.7 0 14 6.3 14 14s-6.3 14-14 14z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"206",r:"53"},child:[]}]})(t)}function aq(t){return jl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.97 2.59a1.5 1.5 0 0 0-1.94 0l-7.5 6.363A1.5 1.5 0 0 0 3 10.097V19.5A1.5 1.5 0 0 0 4.5 21h4.75a.75.75 0 0 0 .75-.75V14h4v6.25c0 .414.336.75.75.75h4.75a1.5 1.5 0 0 0 1.5-1.5v-9.403a1.5 1.5 0 0 0-.53-1.144l-7.5-6.363Z"},child:[]}]})(t)}const lq=({isOpen:t,toggleSidebar:e})=>pe.jsxs("aside",{className:`fixed sm:static top-0 left-0 ${t?"w-52":"w-16"} h-screen text-onPrimary bg-background  flex  border- flex-col transform transition-all duration-300 z-50 sm:w-40`,children:[pe.jsx("div",{className:"p-6 justify-center flex",children:pe.jsx("img",{src:JK,alt:"logo",className:"w-50"})}),pe.jsxs("nav",{className:"flex-1 space-y-4 mt-10  px-2",children:[pe.jsxs(X_,{to:oa.initPage,className:({isActive:n})=>`flex items-center rounded-lg gap-4 p-2 text-sm text-primary bg-hintColor hover:bg-primary hover:text-onPrimary ${n?"text-white bg-primary ":"text-onPrimary"}`,children:[pe.jsx(aq,{className:"text-lg"}),pe.jsx("span",{className:`${!t&&"hidden"} sm:block`,children:"Inicio"})]},oa.initPage),pe.jsxs(X_,{to:oa.loans,className:({isActive:n})=>`flex items-center rounded-lg gap-4 p-2 text-sm text-onBackground bg-background hover:bg-primary hover:text-onPrimary ${n?"text-white bg-primary ":"text-onPrimary"}`,children:[pe.jsx(sq,{className:"text-lg"}),pe.jsx("span",{className:`${!t&&"hidden"} sm:block`,children:"Prestamos"})]},oa.loans)]}),t&&pe.jsx("button",{className:"absolute top-4 right-4 text-colorText",onClick:e,children:""})]});function MN(t){return jl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function cq(t){return jl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}var Tn=(t=>(t[t.init=0]="init",t[t.loading=1]="loading",t[t.success=2]="success",t[t.error=3]="error",t))(Tn||{}),Ar=(t=>(t[t.Enabled=0]="Enabled",t[t.Loading=1]="Loading",t[t.Disabled=2]="Disabled",t))(Ar||{});const Qv=({type:t="submit",children:e,status:n=Ar.Enabled,onClick:r,classname:i=""})=>pe.jsxs(pe.Fragment,{children:[n===Ar.Enabled&&pe.jsx("button",{className:` cursor-pointer rounded-2xl h-10 px-5 text-sm bg-primary text-onPrimary hover:bg-hoverPrimary transition ${i}`,onClick:r,type:t,children:e}),n===Ar.Loading&&pe.jsxs("button",{className:`rounded-2xl h-10 flex flex-row justify-center items-center px-5 bg-primary text-onPrimary hover:bg-hoverPrimary transition ${i}`,onClick:r,type:t,children:[" ",pe.jsxs("svg",{className:"w-8 h-8 mr-2 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[pe.jsx("circle",{className:"opacity-75",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),pe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})]})]});function uq(t){return jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L80 128c-8.8 0-16-7.2-16-16s7.2-16 16-16l368 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L64 32zM416 272a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"},child:[]}]})(t)}let dq={data:""},fq=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dq,hq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pq=/\/\*[^]*?\*\/|  +/g,KP=/\n+/g,ml=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?ml(s,o):o+"{"+ml(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=ml(s,e?e.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ml.p?ml.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ds={},ON=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+ON(t[n]);return e}return t},mq=(t,e,n,r,i)=>{let o=ON(t),s=Ds[o]||(Ds[o]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(o));if(!Ds[s]){let l=o!==t?t:(u=>{let d,h,m=[{}];for(;d=hq.exec(u.replace(pq,""));)d[4]?m.shift():d[3]?(h=d[3].replace(KP," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(KP," ").trim();return m[0]})(t);Ds[s]=ml(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Ds.g?Ds.g:null;return n&&(Ds.g=Ds[s]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Ds[s],e,r,a),s},gq=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":ml(a,""):a===!1?"":a}return r+i+(s??"")},"");function Zv(t){let e=this||{},n=t.call?t(e.p):t;return mq(n.unshift?n.raw?gq(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,fq(e.target),e.g,e.o,e.k)}let NN,ex,tx;Zv.bind({g:1});let fa=Zv.bind({k:1});function yq(t,e,n,r){ml.p=e,NN=t,ex=n,tx=r}function Ul(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:ex&&ex()},a),n.o=/ *go\d+/.test(l),a.className=Zv.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),tx&&u[0]&&tx(a),NN(u,a)}return i}}var vq=t=>typeof t=="function",Ty=(t,e)=>vq(t)?t(e):t,wq=(()=>{let t=0;return()=>(++t).toString()})(),LN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),bq=20,BN=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,bq)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return BN(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Pg=[],Cc={toasts:[],pausedAt:void 0},fu=t=>{Cc=BN(Cc,t),Pg.forEach(e=>{e(Cc)})},Eq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_q=(t={})=>{let[e,n]=Z.useState(Cc),r=Z.useRef(Cc);Z.useEffect(()=>(r.current!==Cc&&n(Cc),Pg.push(n),()=>{let o=Pg.indexOf(n);o>-1&&Pg.splice(o,1)}),[]);let i=e.toasts.map(o=>{var s,a,l;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((s=t[o.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((a=t[o.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||Eq[o.type],style:{...t.style,...(l=t[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:i}},xq=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||wq()}),nm=t=>(e,n)=>{let r=xq(e,t,n);return fu({type:2,toast:r}),r.id},Fr=(t,e)=>nm("blank")(t,e);Fr.error=nm("error");Fr.success=nm("success");Fr.loading=nm("loading");Fr.custom=nm("custom");Fr.dismiss=t=>{fu({type:3,toastId:t})};Fr.remove=t=>fu({type:4,toastId:t});Fr.promise=(t,e,n)=>{let r=Fr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?Ty(e.success,i):void 0;return o?Fr.success(o,{id:r,...n,...n==null?void 0:n.success}):Fr.dismiss(r),i}).catch(i=>{let o=e.error?Ty(e.error,i):void 0;o?Fr.error(o,{id:r,...n,...n==null?void 0:n.error}):Fr.dismiss(r)}),t};var Sq=(t,e)=>{fu({type:1,toast:{id:t,height:e}})},Aq=()=>{fu({type:5,time:Date.now()})},Dh=new Map,Cq=1e3,kq=(t,e=Cq)=>{if(Dh.has(t))return;let n=setTimeout(()=>{Dh.delete(t),fu({type:4,toastId:t})},e);Dh.set(t,n)},Tq=t=>{let{toasts:e,pausedAt:n}=_q(t);Z.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&Fr.dismiss(a.id);return}return setTimeout(()=>Fr.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=Z.useCallback(()=>{n&&fu({type:6,time:Date.now()})},[n]),i=Z.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},d=e.filter(g=>(g.position||u)===(o.position||u)&&g.height),h=d.findIndex(g=>g.id===o.id),m=d.filter((g,b)=>b<h&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[m+1]:[0,m]).reduce((g,b)=>g+(b.height||0)+l,0)},[e]);return Z.useEffect(()=>{e.forEach(o=>{if(o.dismissed)kq(o.id,o.removeDelay);else{let s=Dh.get(o.id);s&&(clearTimeout(s),Dh.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:Sq,startPause:Aq,endPause:r,calculateOffset:i}}},Iq=fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Pq=fa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rq=fa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Mq=Ul("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Iq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Pq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Oq=fa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nq=Ul("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Oq} 1s linear infinite;
`,Lq=fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Bq=fa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Dq=Ul("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Bq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fq=Ul("div")`
  position: absolute;
`,jq=Ul("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Uq=fa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$q=Ul("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Uq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Hq=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Z.createElement($q,null,e):e:n==="blank"?null:Z.createElement(jq,null,Z.createElement(Nq,{...r}),n!=="loading"&&Z.createElement(Fq,null,n==="error"?Z.createElement(Mq,{...r}):Z.createElement(Dq,{...r})))},Vq=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zq=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Kq="0%{opacity:0;} 100%{opacity:1;}",qq="0%{opacity:1;} 100%{opacity:0;}",Gq=Ul("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Wq=Ul("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Yq=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=LN()?[Kq,qq]:[Vq(n),zq(n)];return{animation:e?`${fa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Qq=Z.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Yq(t.position||e||"top-center",t.visible):{opacity:0},o=Z.createElement(Hq,{toast:t}),s=Z.createElement(Wq,{...t.ariaProps},Ty(t.message,t));return Z.createElement(Gq,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):Z.createElement(Z.Fragment,null,o,s))});yq(Z.createElement);var Zq=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=Z.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Z.createElement("div",{ref:o,className:e,style:n},i)},Jq=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:LN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Xq=Zv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Z0=16,DN=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=Tq(n);return Z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Z0,left:Z0,right:Z0,bottom:Z0,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),m=Jq(d,h);return Z.createElement(Zq,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Xq:"",style:m},u.type==="custom"?Ty(u.message,u):i?i(u):Z.createElement(Qq,{toast:u,position:d}))}))},sa=Fr;const FN=()=>{const t=Wv(),{sdk:e,connected:n,connecting:r,provider:i}=LH(),[o,s]=Z.useState(!1),a=async w=>{try{const E={chainId:w.chainIdHex,chainName:w.name,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:w.rpcUrl,blockExplorerUrls:w.rpcBlockExplorerUrls};console.info("========Network configuration:",E);try{if(await(i==null?void 0:i.request({method:"eth_chainId"}))===w.chainId)return;console.log("Switching network..."),await(i==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:w.chainIdHex}]})),console.log("Switching network... success")}catch(y){if(y.code===4902)try{await(i==null?void 0:i.request({method:"wallet_addEthereumChain",params:[E]})),await a(w)}catch{throw new Error("Failed to add "+w.name+" network")}else throw new Error("Failed to switch to "+w.name+" network");throw new Error(y.message)}console.log("Network and Chain configured.")}catch(E){throw new Error(E.message)}},l=async()=>{try{e==null||e.disconnect();return}catch(w){sa.error(w.message)}},u=async w=>{try{localStorage.setItem(Sd,w);return}catch(E){throw console.log(E),e==null||e.terminate(),new Error(E.message)}},d=async w=>{try{s(!0),console.log(e);const E=await(e==null?void 0:e.connect());if(console.log(E),!E)throw e==null||e.terminate(),new Error("Error al conectar");await a(w),sa.success("User conectado con exito"),localStorage.setItem(Sd,E[0])}catch(E){throw e==null||e.terminate(),new Error(E.message)}},h=async w=>{try{const E=localStorage.getItem(Sd)??"";if(E===""||E===void 0){await l(),console.log("===== SESION INVALIDA ====== "),await d(w);return}console.log("===== SESION VALIDA ====== ")}catch{await l()}},m=async w=>{try{const E=await(i==null?void 0:i.request({method:"eth_getBalance",params:[w,"latest"]})),_=(parseInt(E,16)/Math.pow(10,18)).toString().toString();return _!=="NaN"?_:0}catch(E){sa.error(E.message)}},g=async()=>{try{e==null||e.terminate(),localStorage.clear(),t(oa.initPage,{replace:!0})}catch(w){sa.error(w)}},b=async w=>{w.length===0?l():await u(w[0])};return Z.useEffect(()=>{console.log("isSendingData updated:",o),e?console.log("SDK initialized successfully",e):console.log("SDK is undefined")},[o]),{disconnect:l,connect:d,validateSession:h,getBalanceAddress:m,configureNetwork:a,logout:g,handleAccountsChanged:b,isSendingData:o,connected:n,connecting:r,provider:i,sdk:e}};function eG(t){return jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm-16.79 192.47 51.55-59a16 16 0 0 1 24.1 21.06l-51.55 59a16 16 0 1 1-24.1-21.06zm-38.86 90.85a16 16 0 0 1-22.62 0l-47.95-48a16 16 0 1 1 22.64-22.62l48 48a16 16 0 0 1-.07 22.62zm176.8-128.79-111.88 128a16 16 0 0 1-11.51 5.47h-.54a16 16 0 0 1-11.32-4.69l-47.94-48a16 16 0 1 1 22.64-22.62l29.8 29.83a8 8 0 0 0 11.68-.39l95-108.66a16 16 0 0 1 24.1 21.06z"},child:[]}]})(t)}const tG=({toggleSidebar:t})=>{const e=nV(m=>m.global.titleHeader),n=Wv(),[r,i]=Z.useState(Ar.Enabled),[o,s]=Z.useState(""),{connect:a,disconnect:l}=FN(),u=()=>{n(oa.initPage,{replace:!0}),l(),s("")},d=async()=>{try{i(Ar.Loading),await a({name:"Arbitrum Sepolia",chainId:"421614",chainIdHex:"0x66eee",rpcUrl:["sepolia-rollup.arbitrum.io/rpc"],rpcBlockExplorerUrls:["https://sepolia.arbiscan.io"]}),s(localStorage.getItem(Sd)??""),i(Ar.Enabled)}catch(m){sa.error(m.message),i(Ar.Enabled)}},h=()=>{const m=localStorage.getItem(Sd);s(m??"")};return Z.useEffect(()=>{h()},[]),pe.jsxs("header",{className:"flex justify-between items-center p-2 bg-light-background text-onPrimary bg-backgroundSecondary ",children:[pe.jsx("button",{className:"sm:hidden p-2 text-colorText ",onClick:t,children:pe.jsx(MN,{className:"text-xl"})}),pe.jsx("div",{className:"flex items-center justify  w-2/3 rounded-2xl ",children:pe.jsx("span",{className:"text-colorText font-bold text-3xl",children:e})}),pe.jsxs("div",{className:" flex flex-row items-center",children:[pe.jsx("div",{className:"w-10 h-10 rounded-full p-1 bg-hintColor",children:pe.jsx("img",{className:"w-full h-full rounded-full",src:"https://robohash.org/stefan-one",alt:""})}),pe.jsx("div",{className:"ml-10",children:pe.jsxs(Qv,{classname:"text-ellipsis flex flex-row items-center justify-between bg-hintColor text-onPrimary hover:bg-hoverPrimary",type:"button",onClick:o!==""?u:d,status:r,children:[o!==""?"Desconectar":"Conectar",o!==""?pe.jsx(eG,{className:"ml-2"}):pe.jsx(uq,{className:"ml-2"})]})})]})]})},nG=()=>{const[t,e]=Z.useState(!1),n=()=>{e(!t)};return pe.jsxs("div",{className:"flex h-screen bg-background  text-colorText ",children:[pe.jsxs("div",{className:"relative",children:[pe.jsx("button",{className:"sm:hidden p-4 text-onPrimary ",onClick:n,children:pe.jsx(MN,{className:"text-xl"})}),pe.jsx(lq,{isOpen:t,toggleSidebar:n})]}),pe.jsxs("div",{className:"flex-1 flex flex-col bg-backgroundSecondary m-2 rounded-2xl p-2",children:[pe.jsx(tG,{toggleSidebar:n}),pe.jsx("main",{className:"flex-1  p-1 overflow-auto w-full h-full",children:pe.jsx("div",{className:"bg-hintColor  w-full h-full p-2 rounded-lg ",children:pe.jsx(pK,{})})})]})]})},jN=()=>pe.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[pe.jsx("div",{className:"w-5 h-5 bg-primary   rounded-full animate-bubble"}),pe.jsx("div",{className:"w-5 h-5  bg-primary rounded-full animate-bubble delay-200"}),pe.jsx("div",{className:"w-5 h-5  bg-primary rounded-full animate-bubble delay-400"})]}),rG=({columns:t,data:e,status:n=Tn.loading,messageError:r="sadas d dsfsd",actions:i,headerRightComponent:o,onReintent:s})=>pe.jsxs("div",{className:"relative overflow-x-auto w-full py-1",children:[pe.jsx("div",{className:"flex flex-row flex-wrap justify-between ",children:o&&pe.jsx("div",{className:"w-full flex justify-end",children:o})}),pe.jsxs("section",{className:"bg-backgroundSecondary rounded-lg mt-5",children:[pe.jsx("div",{className:"max-h-[500px] overflow-y-auto ",children:pe.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-colorText mt-3 mb-5 ",children:[pe.jsx("thead",{className:"sticky top-0 z-0 text-sm text-colorText uppercase bg-backgroundSecondary rounded-lg border-b border-onBackground",children:pe.jsxs("tr",{children:[pe.jsx("th",{scope:"col",className:"p-4",children:pe.jsx("div",{className:"flex items-center"})}),t.map(a=>pe.jsx("th",{scope:"col",className:"px-6 py-3",children:a.Header},a.accessor.toString())),pe.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),n===Tn.success&&pe.jsx("tbody",{children:e.map((a,l)=>pe.jsxs("tr",{className:"bg-backgroundSecondary border-b mb-5   border-onBackground hover:bg-hintColor ",children:[pe.jsx("td",{className:"w-4 p-2 rounded-md",children:pe.jsx("div",{className:"flex items-center"})}),t.map(u=>pe.jsx("td",{className:"px-6 py-4",children:typeof u.accessor=="function"?u.accessor(a):a[u.accessor]},typeof u.accessor=="string"?u.accessor:u.Header)),pe.jsx("td",{className:"px-6 p-2 rounded-md",children:pe.jsx("div",{className:"flex items-center space-x-4 text-lg",children:i==null?void 0:i.map((u,d)=>{const h=u.icon;return pe.jsx("button",{onClick:()=>u.onClick(a),className:`cursor-pointer hover:opacity-75 ${u.color??"text-primary"}`,title:u.label,children:pe.jsx(h,{})},d)})})})]},l))})]})}),n===Tn.loading&&pe.jsx("div",{className:"w-full py-10 flex justify-center items-center",children:pe.jsx(jN,{})}),n===Tn.error&&pe.jsxs("div",{className:"w-full py-10 flex  flex-col justify-center items-center",children:[pe.jsx("span",{className:"text-colorText text-sm text-center mt-5",children:r}),pe.jsx(Qv,{type:"button",onClick:s,children:"Reintentar"})]})]})]}),iG=()=>{const t=Wv(),e=z6(),[n,r]=Z.useState(Tn.success),i=()=>{try{e(iN("Mis prestamos")),o()}catch(l){sa.error(l.message)}},o=async()=>{try{r(Tn.loading),r(Tn.success)}catch(l){sa.error(l.message)}};Z.useEffect(()=>{i()},[]);const s=[{Header:"Nombre",accessor:"name"},{Header:"Monto de prestamo",accessor:"amount"},{Header:"Estado del prestamo",accessor:"status"}],a=[{icon:cq,label:"Editar",onClick:()=>{}}];return pe.jsxs(pe.Fragment,{children:[pe.jsx(DN,{position:"top-center",reverseOrder:!1}),pe.jsx("div",{className:"h-full w-full flex flex-col items-end",children:pe.jsx("div",{className:"w-full",children:pe.jsx(rG,{columns:s,data:[],status:n,actions:a,onSearch:l=>console.log(l),headerRightComponent:pe.jsx(Qv,{onClick:()=>t(""),children:"Solicitar nuevo prestamo"})})})})]})};function qP(t){return jl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.59 3.475a5.1 5.1 0 00-3.05-3.05c-1.31-.42-2.5-.42-4.92-.42H8.36c-2.4 0-3.61 0-4.9.4a5.1 5.1 0 00-3.05 3.06C0 4.765 0 5.965 0 8.365v7.27c0 2.41 0 3.6.4 4.9a5.1 5.1 0 003.05 3.05c1.3.41 2.5.41 4.9.41h7.28c2.41 0 3.61 0 4.9-.4a5.1 5.1 0 003.06-3.06c.41-1.3.41-2.5.41-4.9v-7.25c0-2.41 0-3.61-.41-4.91zm-6.17 4.63l-.93.93a.5.5 0 01-.67.01 5 5 0 00-3.22-1.18c-.97 0-1.94.32-1.94 1.21 0 .9 1.04 1.2 2.24 1.65 2.1.7 3.84 1.58 3.84 3.64 0 2.24-1.74 3.78-4.58 3.95l-.26 1.2a.49.49 0 01-.48.39H9.63l-.09-.01a.5.5 0 01-.38-.59l.28-1.27a6.54 6.54 0 01-2.88-1.57v-.01a.48.48 0 010-.68l1-.97a.49.49 0 01.67 0c.91.86 2.13 1.34 3.39 1.32 1.3 0 2.17-.55 2.17-1.42 0-.87-.88-1.1-2.54-1.72-1.76-.63-3.43-1.52-3.43-3.6 0-2.42 2.01-3.6 4.39-3.71l.25-1.23a.48.48 0 01.48-.38h1.78l.1.01c.26.06.43.31.37.57l-.27 1.37c.9.3 1.75.77 2.48 1.39l.02.02c.19.2.19.5 0 .68z"},child:[]}]})(t)}const UN=({type:t,children:e,status:n=Ar.Enabled,onClick:r})=>pe.jsxs(pe.Fragment,{children:[n===Ar.Enabled&&pe.jsx("button",{className:"cursor-pointer rounded-2xl flex-row justify-center items-center w-full  h-12 px-5 text-sm bg-primary text-onPrimary hover:bg-hoverPrimary transition",onClick:r,type:t,children:e}),n===Ar.Loading&&pe.jsx("button",{className:"rounded-2xl flex flex-row justify-center items-center w-full h-12 px-5 bg-primary text-onPrimary hover:bg-hoverPrimary transition",children:pe.jsxs("svg",{className:"w-8 h-8 mr-2 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",type:"button",children:[pe.jsx("circle",{className:"opacity-75",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),pe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]});var rm=t=>t.type==="checkbox",kc=t=>t instanceof Date,Lr=t=>t==null;const $N=t=>typeof t=="object";var Rn=t=>!Lr(t)&&!Array.isArray(t)&&$N(t)&&!kc(t),oG=t=>Rn(t)&&t.target?rm(t.target)?t.target.checked:t.target.value:t,sG=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aG=(t,e)=>t.has(sG(e)),lG=t=>{const e=t.constructor&&t.constructor.prototype;return Rn(e)&&e.hasOwnProperty("isPrototypeOf")},o2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(o2&&(t instanceof Blob||r))&&(n||Rn(t)))if(e=n?[]:{},!n&&!lG(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=vr(t[i]));else return t;return e}var Jv=t=>Array.isArray(t)?t.filter(Boolean):[],Ln=t=>t===void 0,et=(t,e,n)=>{if(!e||!Rn(t))return n;const r=Jv(e.split(/[,[\].]+?/)).reduce((i,o)=>Lr(i)?i:i[o],t);return Ln(r)||r===t?Ln(t[e])?n:t[e]:r},Wo=t=>typeof t=="boolean",s2=t=>/^\w*$/.test(t),HN=t=>Jv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ln=(t,e,n)=>{let r=-1;const i=s2(e)?[e]:HN(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=Rn(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const GP={BLUR:"blur",FOCUS_OUT:"focusout"},Po={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};cn.createContext(null);var cG=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Po.all&&(e._proxyFormState[s]=!r||Po.all),t[s]}});return i},nx=t=>Lr(t)||!$N(t);function gl(t,e){if(nx(t)||nx(e))return t===e;if(kc(t)&&kc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(kc(o)&&kc(s)||Rn(o)&&Rn(s)||Array.isArray(o)&&Array.isArray(s)?!gl(o,s):o!==s)return!1}}return!0}var as=t=>typeof t=="string",uG=(t,e,n,r,i)=>as(t)?(r&&e.watch.add(t),et(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),et(n,o))):(r&&(e.watchAll=!0),n),dG=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Fh=t=>Array.isArray(t)?t:[t],WP=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Nr=t=>Rn(t)&&!Object.keys(t).length,a2=t=>t.type==="file",Ro=t=>typeof t=="function",Iy=t=>{if(!o2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},VN=t=>t.type==="select-multiple",l2=t=>t.type==="radio",fG=t=>l2(t)||rm(t),bE=t=>Iy(t)&&t.isConnected;function hG(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ln(t)?r++:t[e[r++]];return t}function pG(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ln(t[e]))return!1;return!0}function $n(t,e){const n=Array.isArray(e)?e:s2(e)?[e]:HN(e),r=n.length===1?t:hG(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Rn(r)&&Nr(r)||Array.isArray(r)&&pG(r))&&$n(t,n.slice(0,-1)),t}var zN=t=>{for(const e in t)if(Ro(t[e]))return!0;return!1};function Py(t,e={}){const n=Array.isArray(t);if(Rn(t)||n)for(const r in t)Array.isArray(t[r])||Rn(t[r])&&!zN(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Py(t[r],e[r])):Lr(t[r])||(e[r]=!0);return e}function KN(t,e,n){const r=Array.isArray(t);if(Rn(t)||r)for(const i in t)Array.isArray(t[i])||Rn(t[i])&&!zN(t[i])?Ln(e)||nx(n[i])?n[i]=Array.isArray(t[i])?Py(t[i],[]):{...Py(t[i])}:KN(t[i],Lr(e)?{}:e[i],n[i]):n[i]=!gl(t[i],e[i]);return n}var rh=(t,e)=>KN(t,e,Py(e));const YP={value:!1,isValid:!1},QP={value:!0,isValid:!0};var qN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ln(t[0].attributes.value)?Ln(t[0].value)||t[0].value===""?QP:{value:t[0].value,isValid:!0}:QP:YP}return YP},GN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ln(t)?t:e?t===""?NaN:t&&+t:n&&as(t)?new Date(t):r?r(t):t;const ZP={isValid:!1,value:null};var WN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,ZP):ZP;function JP(t){const e=t.ref;return a2(e)?e.files:l2(e)?WN(t.refs).value:VN(e)?[...e.selectedOptions].map(({value:n})=>n):rm(e)?qN(t.refs).value:GN(Ln(e.value)?t.ref.value:e.value,t)}var mG=(t,e,n,r)=>{const i={};for(const o of t){const s=et(e,o);s&&ln(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ry=t=>t instanceof RegExp,ih=t=>Ln(t)?t:Ry(t)?t.source:Rn(t)?Ry(t.value)?t.value.source:t.value:t,XP=t=>({isOnSubmit:!t||t===Po.onSubmit,isOnBlur:t===Po.onBlur,isOnChange:t===Po.onChange,isOnAll:t===Po.all,isOnTouch:t===Po.onTouched});const eR="AsyncFunction";var gG=t=>!!t&&!!t.validate&&!!(Ro(t.validate)&&t.validate.constructor.name===eR||Rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===eR)),yG=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),tR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const jh=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=et(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(jh(a,e))break}else if(Rn(a)&&jh(a,e))break}}};function nR(t,e,n){const r=et(t,n);if(r||s2(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=et(e,o),a=et(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var vG=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Nr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||Po.all))},wG=(t,e,n)=>!t||!e||t===e||Fh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),bG=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,EG=(t,e)=>!Jv(et(t,e)).length&&$n(t,e),_G=(t,e,n)=>{const r=Fh(et(t,n));return ln(r,"root",e[n]),ln(t,n,r),t},Rg=t=>as(t);function rR(t,e,n="validate"){if(Rg(t)||Array.isArray(t)&&t.every(Rg)||Wo(t)&&!t)return{type:n,message:Rg(t)?t:"",ref:e}}var $u=t=>Rn(t)&&!Ry(t)?t:{value:t,message:""},iR=async(t,e,n,r,i,o)=>{const{ref:s,refs:a,required:l,maxLength:u,minLength:d,min:h,max:m,pattern:g,validate:b,name:w,valueAsNumber:E,mount:y}=t._f,_=et(n,w);if(!y||e.has(w))return{};const x=a?a[0]:s,P=q=>{i&&x.reportValidity&&(x.setCustomValidity(Wo(q)?"":q||""),x.reportValidity())},M={},L=l2(s),K=rm(s),j=L||K,G=(E||a2(s))&&Ln(s.value)&&Ln(_)||Iy(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,V=dG.bind(null,w,r,M),W=(q,k,C,S=Fs.maxLength,T=Fs.minLength)=>{const R=q?k:C;M[w]={type:q?S:T,message:R,ref:s,...V(q?S:T,R)}};if(o?!Array.isArray(_)||!_.length:l&&(!j&&(G||Lr(_))||Wo(_)&&!_||K&&!qN(a).isValid||L&&!WN(a).isValid)){const{value:q,message:k}=Rg(l)?{value:!!l,message:l}:$u(l);if(q&&(M[w]={type:Fs.required,message:k,ref:x,...V(Fs.required,k)},!r))return P(k),M}if(!G&&(!Lr(h)||!Lr(m))){let q,k;const C=$u(m),S=$u(h);if(!Lr(_)&&!isNaN(_)){const T=s.valueAsNumber||_&&+_;Lr(C.value)||(q=T>C.value),Lr(S.value)||(k=T<S.value)}else{const T=s.valueAsDate||new Date(_),R=U=>new Date(new Date().toDateString()+" "+U),B=s.type=="time",F=s.type=="week";as(C.value)&&_&&(q=B?R(_)>R(C.value):F?_>C.value:T>new Date(C.value)),as(S.value)&&_&&(k=B?R(_)<R(S.value):F?_<S.value:T<new Date(S.value))}if((q||k)&&(W(!!q,C.message,S.message,Fs.max,Fs.min),!r))return P(M[w].message),M}if((u||d)&&!G&&(as(_)||o&&Array.isArray(_))){const q=$u(u),k=$u(d),C=!Lr(q.value)&&_.length>+q.value,S=!Lr(k.value)&&_.length<+k.value;if((C||S)&&(W(C,q.message,k.message),!r))return P(M[w].message),M}if(g&&!G&&as(_)){const{value:q,message:k}=$u(g);if(Ry(q)&&!_.match(q)&&(M[w]={type:Fs.pattern,message:k,ref:s,...V(Fs.pattern,k)},!r))return P(k),M}if(b){if(Ro(b)){const q=await b(_,n),k=rR(q,x);if(k&&(M[w]={...k,...V(Fs.validate,k.message)},!r))return P(k.message),M}else if(Rn(b)){let q={};for(const k in b){if(!Nr(q)&&!r)break;const C=rR(await b[k](_,n),x,k);C&&(q={...C,...V(k,C.message)},P(C.message),r&&(M[w]=q))}if(!Nr(q)&&(M[w]={ref:x,...q},!r))return M}}return P(!0),M};const xG={mode:Po.onSubmit,reValidateMode:Po.onChange,shouldFocusError:!0};function SG(t={}){let e={...xG,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ro(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Rn(e.defaultValues)||Rn(e.values)?vr(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:vr(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:WP(),state:WP()},g=XP(e.mode),b=XP(e.reValidateMode),w=e.criteriaMode===Po.all,E=Q=>re=>{clearTimeout(u),u=setTimeout(Q,re)},y=async Q=>{if(!e.disabled&&(d.isValid||h.isValid||Q)){const re=e.resolver?Nr((await G()).errors):await W(r,!0);re!==n.isValid&&m.state.next({isValid:re})}},_=(Q,re)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((Q||Array.from(a.mount)).forEach(le=>{le&&(re?ln(n.validatingFields,le,re):$n(n.validatingFields,le))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Nr(n.validatingFields)}))},x=(Q,re=[],le,Ce,Ie=!0,Te=!0)=>{if(Ce&&le&&!e.disabled){if(s.action=!0,Te&&Array.isArray(et(r,Q))){const ze=le(et(r,Q),Ce.argA,Ce.argB);Ie&&ln(r,Q,ze)}if(Te&&Array.isArray(et(n.errors,Q))){const ze=le(et(n.errors,Q),Ce.argA,Ce.argB);Ie&&ln(n.errors,Q,ze),EG(n.errors,Q)}if((d.touchedFields||h.touchedFields)&&Te&&Array.isArray(et(n.touchedFields,Q))){const ze=le(et(n.touchedFields,Q),Ce.argA,Ce.argB);Ie&&ln(n.touchedFields,Q,ze)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=rh(i,o)),m.state.next({name:Q,isDirty:k(Q,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ln(o,Q,re)},P=(Q,re)=>{ln(n.errors,Q,re),m.state.next({errors:n.errors})},M=Q=>{n.errors=Q,m.state.next({errors:n.errors,isValid:!1})},L=(Q,re,le,Ce)=>{const Ie=et(r,Q);if(Ie){const Te=et(o,Q,Ln(le)?et(i,Q):le);Ln(Te)||Ce&&Ce.defaultChecked||re?ln(o,Q,re?Te:JP(Ie._f)):T(Q,Te),s.mount&&y()}},K=(Q,re,le,Ce,Ie)=>{let Te=!1,ze=!1;const xt={name:Q};if(!e.disabled){if(!le||Ce){(d.isDirty||h.isDirty)&&(ze=n.isDirty,n.isDirty=xt.isDirty=k(),Te=ze!==xt.isDirty);const Gt=gl(et(i,Q),re);ze=!!et(n.dirtyFields,Q),Gt?$n(n.dirtyFields,Q):ln(n.dirtyFields,Q,!0),xt.dirtyFields=n.dirtyFields,Te=Te||(d.dirtyFields||h.dirtyFields)&&ze!==!Gt}if(le){const Gt=et(n.touchedFields,Q);Gt||(ln(n.touchedFields,Q,le),xt.touchedFields=n.touchedFields,Te=Te||(d.touchedFields||h.touchedFields)&&Gt!==le)}Te&&Ie&&m.state.next(xt)}return Te?xt:{}},j=(Q,re,le,Ce)=>{const Ie=et(n.errors,Q),Te=(d.isValid||h.isValid)&&Wo(re)&&n.isValid!==re;if(e.delayError&&le?(l=E(()=>P(Q,le)),l(e.delayError)):(clearTimeout(u),l=null,le?ln(n.errors,Q,le):$n(n.errors,Q)),(le?!gl(Ie,le):Ie)||!Nr(Ce)||Te){const ze={...Ce,...Te&&Wo(re)?{isValid:re}:{},errors:n.errors,name:Q};n={...n,...ze},m.state.next(ze)}},G=async Q=>{_(Q,!0);const re=await e.resolver(o,e.context,mG(Q||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(Q),re},V=async Q=>{const{errors:re}=await G(Q);if(Q)for(const le of Q){const Ce=et(re,le);Ce?ln(n.errors,le,Ce):$n(n.errors,le)}else n.errors=re;return re},W=async(Q,re,le={valid:!0})=>{for(const Ce in Q){const Ie=Q[Ce];if(Ie){const{_f:Te,...ze}=Ie;if(Te){const xt=a.array.has(Te.name),Gt=Ie._f&&gG(Ie._f);Gt&&d.validatingFields&&_([Ce],!0);const Mt=await iR(Ie,a.disabled,o,w,e.shouldUseNativeValidation&&!re,xt);if(Gt&&d.validatingFields&&_([Ce]),Mt[Te.name]&&(le.valid=!1,re))break;!re&&(et(Mt,Te.name)?xt?_G(n.errors,Mt,Te.name):ln(n.errors,Te.name,Mt[Te.name]):$n(n.errors,Te.name))}!Nr(ze)&&await W(ze,re,le)}}return le.valid},q=()=>{for(const Q of a.unMount){const re=et(r,Q);re&&(re._f.refs?re._f.refs.every(le=>!bE(le)):!bE(re._f.ref))&&oe(Q)}a.unMount=new Set},k=(Q,re)=>!e.disabled&&(Q&&re&&ln(o,Q,re),!gl(O(),i)),C=(Q,re,le)=>uG(Q,a,{...s.mount?o:Ln(re)?i:as(Q)?{[Q]:re}:re},le,re),S=Q=>Jv(et(s.mount?o:i,Q,e.shouldUnregister?et(i,Q,[]):[])),T=(Q,re,le={})=>{const Ce=et(r,Q);let Ie=re;if(Ce){const Te=Ce._f;Te&&(!Te.disabled&&ln(o,Q,GN(re,Te)),Ie=Iy(Te.ref)&&Lr(re)?"":re,VN(Te.ref)?[...Te.ref.options].forEach(ze=>ze.selected=Ie.includes(ze.value)):Te.refs?rm(Te.ref)?Te.refs.length>1?Te.refs.forEach(ze=>(!ze.defaultChecked||!ze.disabled)&&(ze.checked=Array.isArray(Ie)?!!Ie.find(xt=>xt===ze.value):Ie===ze.value)):Te.refs[0]&&(Te.refs[0].checked=!!Ie):Te.refs.forEach(ze=>ze.checked=ze.value===Ie):a2(Te.ref)?Te.ref.value="":(Te.ref.value=Ie,Te.ref.type||m.state.next({name:Q,values:vr(o)})))}(le.shouldDirty||le.shouldTouch)&&K(Q,Ie,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&D(Q)},R=(Q,re,le)=>{for(const Ce in re){const Ie=re[Ce],Te=`${Q}.${Ce}`,ze=et(r,Te);(a.array.has(Q)||Rn(Ie)||ze&&!ze._f)&&!kc(Ie)?R(Te,Ie,le):T(Te,Ie,le)}},B=(Q,re,le={})=>{const Ce=et(r,Q),Ie=a.array.has(Q),Te=vr(re);ln(o,Q,Te),Ie?(m.array.next({name:Q,values:vr(o)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&le.shouldDirty&&m.state.next({name:Q,dirtyFields:rh(i,o),isDirty:k(Q,Te)})):Ce&&!Ce._f&&!Lr(Te)?R(Q,Te,le):T(Q,Te,le),tR(Q,a)&&m.state.next({...n}),m.state.next({name:s.mount?Q:void 0,values:vr(o)})},F=async Q=>{s.mount=!0;const re=Q.target;let le=re.name,Ce=!0;const Ie=et(r,le),Te=ze=>{Ce=Number.isNaN(ze)||kc(ze)&&isNaN(ze.getTime())||gl(ze,et(o,le,ze))};if(Ie){let ze,xt;const Gt=re.type?JP(Ie._f):oG(Q),Mt=Q.type===GP.BLUR||Q.type===GP.FOCUS_OUT,Sa=!yG(Ie._f)&&!e.resolver&&!et(n.errors,le)&&!Ie._f.deps||bG(Mt,et(n.touchedFields,le),n.isSubmitted,b,g),uo=tR(le,a,Mt);ln(o,le,Gt),Mt?(Ie._f.onBlur&&Ie._f.onBlur(Q),l&&l(0)):Ie._f.onChange&&Ie._f.onChange(Q);const fo=K(le,Gt,Mt),Kl=!Nr(fo)||uo;if(!Mt&&m.state.next({name:le,type:Q.type,values:vr(o)}),Sa)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Mt&&y():Mt||y()),Kl&&m.state.next({name:le,...uo?{}:fo});if(!Mt&&uo&&m.state.next({...n}),e.resolver){const{errors:mi}=await G([le]);if(Te(Gt),Ce){const Li=nR(n.errors,r,le),Ir=nR(mi,r,Li.name||le);ze=Ir.error,le=Ir.name,xt=Nr(mi)}}else _([le],!0),ze=(await iR(Ie,a.disabled,o,w,e.shouldUseNativeValidation))[le],_([le]),Te(Gt),Ce&&(ze?xt=!1:(d.isValid||h.isValid)&&(xt=await W(r,!0)));Ce&&(Ie._f.deps&&D(Ie._f.deps),j(le,xt,ze,fo))}},U=(Q,re)=>{if(et(n.errors,re)&&Q.focus)return Q.focus(),1},D=async(Q,re={})=>{let le,Ce;const Ie=Fh(Q);if(e.resolver){const Te=await V(Ln(Q)?Q:Ie);le=Nr(Te),Ce=Q?!Ie.some(ze=>et(Te,ze)):le}else Q?(Ce=(await Promise.all(Ie.map(async Te=>{const ze=et(r,Te);return await W(ze&&ze._f?{[Te]:ze}:ze)}))).every(Boolean),!(!Ce&&!n.isValid)&&y()):Ce=le=await W(r);return m.state.next({...!as(Q)||(d.isValid||h.isValid)&&le!==n.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:le}:{},errors:n.errors}),re.shouldFocus&&!Ce&&jh(r,U,Q?Ie:a.mount),Ce},O=Q=>{const re={...s.mount?o:i};return Ln(Q)?re:as(Q)?et(re,Q):Q.map(le=>et(re,le))},N=(Q,re)=>({invalid:!!et((re||n).errors,Q),isDirty:!!et((re||n).dirtyFields,Q),error:et((re||n).errors,Q),isValidating:!!et(n.validatingFields,Q),isTouched:!!et((re||n).touchedFields,Q)}),H=Q=>{Q&&Fh(Q).forEach(re=>$n(n.errors,re)),m.state.next({errors:Q?n.errors:{}})},z=(Q,re,le)=>{const Ce=(et(r,Q,{_f:{}})._f||{}).ref,Ie=et(n.errors,Q)||{},{ref:Te,message:ze,type:xt,...Gt}=Ie;ln(n.errors,Q,{...Gt,...re,ref:Ce}),m.state.next({name:Q,errors:n.errors,isValid:!1}),le&&le.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},Y=(Q,re)=>Ro(Q)?m.state.subscribe({next:le=>Q(C(void 0,re),le)}):C(Q,re,!0),ee=Q=>m.state.subscribe({next:re=>{wG(Q.name,re.name,Q.exact)&&vG(re,Q.formState||d,Re,Q.reRenderRoot)&&Q.callback({values:{...o},...n,...re})}}).unsubscribe,J=Q=>(s.mount=!0,h={...h,...Q.formState},ee({...Q,formState:h})),oe=(Q,re={})=>{for(const le of Q?Fh(Q):a.mount)a.mount.delete(le),a.array.delete(le),re.keepValue||($n(r,le),$n(o,le)),!re.keepError&&$n(n.errors,le),!re.keepDirty&&$n(n.dirtyFields,le),!re.keepTouched&&$n(n.touchedFields,le),!re.keepIsValidating&&$n(n.validatingFields,le),!e.shouldUnregister&&!re.keepDefaultValue&&$n(i,le);m.state.next({values:vr(o)}),m.state.next({...n,...re.keepDirty?{isDirty:k()}:{}}),!re.keepIsValid&&y()},se=({disabled:Q,name:re})=>{(Wo(Q)&&s.mount||Q||a.disabled.has(re))&&(Q?a.disabled.add(re):a.disabled.delete(re))},ve=(Q,re={})=>{let le=et(r,Q);const Ce=Wo(re.disabled)||Wo(e.disabled);return ln(r,Q,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:Q}},name:Q,mount:!0,...re}}),a.mount.add(Q),le?se({disabled:Wo(re.disabled)?re.disabled:e.disabled,name:Q}):L(Q,!0,re.value),{...Ce?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:ih(re.min),max:ih(re.max),minLength:ih(re.minLength),maxLength:ih(re.maxLength),pattern:ih(re.pattern)}:{},name:Q,onChange:F,onBlur:F,ref:Ie=>{if(Ie){ve(Q,re),le=et(r,Q);const Te=Ln(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,ze=fG(Te),xt=le._f.refs||[];if(ze?xt.find(Gt=>Gt===Te):Te===le._f.ref)return;ln(r,Q,{_f:{...le._f,...ze?{refs:[...xt.filter(bE),Te,...Array.isArray(et(i,Q))?[{}]:[]],ref:{type:Te.type,name:Q}}:{ref:Te}}}),L(Q,!1,void 0,Te)}else le=et(r,Q,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(aG(a.array,Q)&&s.action)&&a.unMount.add(Q)}}},de=()=>e.shouldFocusError&&jh(r,U,a.mount),Oe=Q=>{Wo(Q)&&(m.state.next({disabled:Q}),jh(r,(re,le)=>{const Ce=et(r,le);Ce&&(re.disabled=Ce._f.disabled||Q,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(Ie=>{Ie.disabled=Ce._f.disabled||Q}))},0,!1))},je=(Q,re)=>async le=>{let Ce;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let Ie=vr(o);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Te,values:ze}=await G();n.errors=Te,Ie=ze}else await W(r);if(a.disabled.size)for(const Te of a.disabled)ln(Ie,Te,void 0);if($n(n.errors,"root"),Nr(n.errors)){m.state.next({errors:{}});try{await Q(Ie,le)}catch(Te){Ce=Te}}else re&&await re({...n.errors},le),de(),setTimeout(de);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(n.errors)&&!Ce,submitCount:n.submitCount+1,errors:n.errors}),Ce)throw Ce},we=(Q,re={})=>{et(r,Q)&&(Ln(re.defaultValue)?B(Q,vr(et(i,Q))):(B(Q,re.defaultValue),ln(i,Q,vr(re.defaultValue))),re.keepTouched||$n(n.touchedFields,Q),re.keepDirty||($n(n.dirtyFields,Q),n.isDirty=re.defaultValue?k(Q,vr(et(i,Q))):k()),re.keepError||($n(n.errors,Q),d.isValid&&y()),m.state.next({...n}))},_e=(Q,re={})=>{const le=Q?vr(Q):i,Ce=vr(le),Ie=Nr(Q),Te=Ie?i:Ce;if(re.keepDefaultValues||(i=le),!re.keepValues){if(re.keepDirtyValues){const ze=new Set([...a.mount,...Object.keys(rh(i,o))]);for(const xt of Array.from(ze))et(n.dirtyFields,xt)?ln(Te,xt,et(o,xt)):B(xt,et(Te,xt))}else{if(o2&&Ln(Q))for(const ze of a.mount){const xt=et(r,ze);if(xt&&xt._f){const Gt=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(Iy(Gt)){const Mt=Gt.closest("form");if(Mt){Mt.reset();break}}}}for(const ze of a.mount)B(ze,et(Te,ze))}o=vr(Te),m.array.next({values:{...Te}}),m.state.next({values:{...Te}})}a={mount:re.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!re.keepIsValid||!!re.keepDirtyValues,s.watch=!!e.shouldUnregister,m.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Ie?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!gl(Q,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ie?{}:re.keepDirtyValues?re.keepDefaultValues&&o?rh(i,o):n.dirtyFields:re.keepDefaultValues&&Q?rh(i,Q):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ee=(Q,re)=>_e(Ro(Q)?Q(o):Q,re),Ae=(Q,re={})=>{const le=et(r,Q),Ce=le&&le._f;if(Ce){const Ie=Ce.refs?Ce.refs[0]:Ce.ref;Ie.focus&&(Ie.focus(),re.shouldSelect&&Ro(Ie.select)&&Ie.select())}},Re=Q=>{n={...n,...Q}},Ke={control:{register:ve,unregister:oe,getFieldState:N,handleSubmit:je,setError:z,_subscribe:ee,_runSchema:G,_getWatch:C,_getDirty:k,_setValid:y,_setFieldArray:x,_setDisabledField:se,_setErrors:M,_getFieldArray:S,_reset:_e,_resetDefaultValues:()=>Ro(e.defaultValues)&&e.defaultValues().then(Q=>{Ee(Q,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:Oe,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(Q){s=Q},get _defaultValues(){return i},get _names(){return a},set _names(Q){a=Q},get _formState(){return n},get _options(){return e},set _options(Q){e={...e,...Q}}},subscribe:J,trigger:D,register:ve,handleSubmit:je,watch:Y,setValue:B,getValues:O,reset:Ee,resetField:we,clearErrors:H,unregister:oe,setError:z,setFocus:Ae,getFieldState:N};return{...Ke,formControl:Ke}}const AG=typeof window<"u"?cn.useLayoutEffect:cn.useEffect;function CG(t={}){const e=cn.useRef(void 0),n=cn.useRef(void 0),[r,i]=cn.useState({isDirty:!1,isValidating:!1,isLoading:Ro(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ro(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:SG(t),formState:r},t.formControl&&t.defaultValues&&!Ro(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,AG(()=>{const s=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),o._formState.isReady=!0,s},[o]),cn.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),cn.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode),t.errors&&!Nr(t.errors)&&o._setErrors(t.errors)},[o,t.errors,t.mode,t.reValidateMode]),cn.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),cn.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),cn.useEffect(()=>{t.values&&!gl(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[o,t.values]),cn.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=cG(r,o),e.current}const kG=({type:t,children:e,status:n=Ar.Enabled,onClick:r,className:i})=>pe.jsxs(pe.Fragment,{children:[n===Ar.Enabled&&pe.jsx("button",{className:`rounded-md  flex-row justify-center items-center w-full  h-12 px-5 text-sm bg-background border border-primary text-primary hover:bg-hintColor transition ${i}`,onClick:r,type:t,children:e}),n===Ar.Loading&&pe.jsx("button",{className:`rounded-md flex flex-row justify-center items-center w-full h-12 px-5 bg-background
          text-primary hover:bg-background transition ${i}`,children:pe.jsxs("svg",{className:"w-8 h-8 mr-2 animate-spin text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",type:"button",children:[pe.jsx("circle",{className:"opacity-75",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),pe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]});function TG(t){return jl({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Remove"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M9.525,13.765a.5.5,0,0,0,.71.71c.59-.59,1.175-1.18,1.765-1.76l1.765,1.76a.5.5,0,0,0,.71-.71c-.59-.58-1.18-1.175-1.76-1.765.41-.42.82-.825,1.23-1.235.18-.18.35-.36.53-.53a.5.5,0,0,0-.71-.71L12,11.293,10.235,9.525a.5.5,0,0,0-.71.71L11.293,12Z"},child:[]},{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.934,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(t)}const YN=Z.createContext({});function IG(t){const e=Z.useRef(null);return e.current===null&&(e.current=t()),e.current}const c2=typeof window<"u",PG=c2?Z.useLayoutEffect:Z.useEffect,u2=Z.createContext(null),QN=Z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function RG(t=!0){const e=Z.useContext(u2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=Z.useId();Z.useEffect(()=>{if(t)return i(o)},[t]);const s=Z.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}function d2(t,e){t.indexOf(e)===-1&&t.push(e)}function f2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ha=(t,e,n)=>n>e?e:n<t?t:n;let h2=()=>{};const pa={},ZN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),JN=t=>/^0[^.\s]+$/u.test(t);function p2(t){let e;return()=>(e===void 0&&(e=t()),e)}const lo=t=>t,MG=(t,e)=>n=>e(t(n)),im=(...t)=>t.reduce(MG),hp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class m2{constructor(){this.subscriptions=[]}add(e){return d2(this.subscriptions,e),()=>f2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fs=t=>t*1e3,hs=t=>t/1e3;function XN(t,e){return e?t*(1e3/e):0}const eL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OG=1e-7,NG=12;function LG(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=eL(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>OG&&++a<NG);return s}function om(t,e,n,r){if(t===e&&n===r)return lo;const i=o=>LG(o,0,1,t,n);return o=>o===0||o===1?o:eL(i(o),e,r)}const tL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nL=t=>e=>1-t(1-e),rL=om(.33,1.53,.69,.99),g2=nL(rL),iL=tL(g2),oL=t=>(t*=2)<1?.5*g2(t):.5*(2-Math.pow(2,-10*(t-1))),y2=t=>1-Math.sin(Math.acos(t)),sL=nL(y2),aL=tL(y2),BG=om(.42,0,1,1),DG=om(0,0,.58,1),lL=om(.42,0,.58,1),FG=t=>Array.isArray(t)&&typeof t[0]!="number",cL=t=>Array.isArray(t)&&typeof t[0]=="number",jG={linear:lo,easeIn:BG,easeInOut:lL,easeOut:DG,circIn:y2,circInOut:aL,circOut:sL,backIn:g2,backInOut:iL,backOut:rL,anticipate:oL},UG=t=>typeof t=="string",oR=t=>{if(cL(t)){h2(t.length===4);const[e,n,r,i]=t;return om(e,n,r,i)}else if(UG(t))return jG[t];return t},J0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sR={value:null};function $G(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(h){s.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,m=!1,g=!1)=>{const w=g&&i?n:r;return m&&s.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(a=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&sR.value&&sR.value.frameloop[e].push(l),l=0,n.clear(),i=!1,o&&(o=!1,d.process(h))}};return d}const HG=40;function uL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=J0.reduce((x,P)=>(x[P]=$G(o,e?P:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:m,render:g,postRender:b}=s,w=()=>{const x=pa.useManualTiming?i.timestamp:performance.now();n=!1,pa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,HG),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),m.process(i),g.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},E=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:J0.reduce((x,P)=>{const M=s[P];return x[P]=(L,K=!1,j=!1)=>(n||E(),M.schedule(L,K,j)),x},{}),cancel:x=>{for(let P=0;P<J0.length;P++)s[J0[P]].cancel(x)},state:i,steps:s}}const{schedule:vn,cancel:Rl,state:sr,steps:EE}=uL(typeof requestAnimationFrame<"u"?requestAnimationFrame:lo,!0);let Mg;function VG(){Mg=void 0}const ui={now:()=>(Mg===void 0&&ui.set(sr.isProcessing||pa.useManualTiming?sr.timestamp:performance.now()),Mg),set:t=>{Mg=t,queueMicrotask(VG)}},dL=t=>e=>typeof e=="string"&&e.startsWith(t),v2=dL("--"),zG=dL("var(--"),w2=t=>zG(t)?KG.test(t.split("/*")[0].trim()):!1,KG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ef={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pp={...ef,transform:t=>ha(0,1,t)},X0={...ef,default:1},Uh=t=>Math.round(t*1e5)/1e5,b2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qG(t){return t==null}const GG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E2=(t,e)=>n=>!!(typeof n=="string"&&GG.test(n)&&n.startsWith(t)||e&&!qG(n)&&Object.prototype.hasOwnProperty.call(n,e)),fL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(b2);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},WG=t=>ha(0,255,t),_E={...ef,transform:t=>Math.round(WG(t))},Tc={test:E2("rgb","red"),parse:fL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_E.transform(t)+", "+_E.transform(e)+", "+_E.transform(n)+", "+Uh(pp.transform(r))+")"};function YG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rx={test:E2("#"),parse:YG,transform:Tc.transform},sm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),al=sm("deg"),ps=sm("%"),pt=sm("px"),QG=sm("vh"),ZG=sm("vw"),aR={...ps,parse:t=>ps.parse(t)/100,transform:t=>ps.transform(t*100)},ud={test:E2("hsl","hue"),parse:fL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ps.transform(Uh(e))+", "+ps.transform(Uh(n))+", "+Uh(pp.transform(r))+")"},br={test:t=>Tc.test(t)||rx.test(t)||ud.test(t),parse:t=>Tc.test(t)?Tc.parse(t):ud.test(t)?ud.parse(t):rx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Tc.transform(t):ud.transform(t)},JG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(b2))==null?void 0:e.length)||0)+(((n=t.match(JG))==null?void 0:n.length)||0)>0}const hL="number",pL="color",eW="var",tW="var(",lR="${}",nW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(nW,l=>(br.test(l)?(r.color.push(o),i.push(pL),n.push(br.parse(l))):l.startsWith(tW)?(r.var.push(o),i.push(eW),n.push(l)):(r.number.push(o),i.push(hL),n.push(parseFloat(l))),++o,lR)).split(lR);return{values:n,split:a,indexes:r,types:i}}function mL(t){return mp(t).values}function gL(t){const{split:e,types:n}=mp(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===hL?o+=Uh(i[s]):a===pL?o+=br.transform(i[s]):o+=i[s]}return o}}const rW=t=>typeof t=="number"?0:t;function iW(t){const e=mL(t);return gL(t)(e.map(rW))}const Ml={test:XG,parse:mL,createTransformer:gL,getAnimatableNone:iW};function xE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xE(l,a,t+1/3),o=xE(l,a,t),s=xE(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function My(t,e){return n=>n>0?e:t}const yn=(t,e,n)=>t+(e-t)*n,SE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},sW=[rx,Tc,ud],aW=t=>sW.find(e=>e.test(t));function cR(t){const e=aW(t);if(!e)return!1;let n=e.parse(t);return e===ud&&(n=oW(n)),n}const uR=(t,e)=>{const n=cR(t),r=cR(e);if(!n||!r)return My(t,e);const i={...n};return o=>(i.red=SE(n.red,r.red,o),i.green=SE(n.green,r.green,o),i.blue=SE(n.blue,r.blue,o),i.alpha=yn(n.alpha,r.alpha,o),Tc.transform(i))},ix=new Set(["none","hidden"]);function lW(t,e){return ix.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function cW(t,e){return n=>yn(t,e,n)}function _2(t){return typeof t=="number"?cW:typeof t=="string"?w2(t)?My:br.test(t)?uR:fW:Array.isArray(t)?yL:typeof t=="object"?br.test(t)?uR:uW:My}function yL(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>_2(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function uW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=_2(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function dW(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],a=t.values[s]??0;n[i]=a,r[o]++}return n}const fW=(t,e)=>{const n=Ml.createTransformer(e),r=mp(t),i=mp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ix.has(t)&&!i.values.length||ix.has(e)&&!r.values.length?lW(t,e):im(yL(dW(r,i),i.values),n):My(t,e)};function vL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yn(t,e,n):_2(t)(t,e)}const hW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>vn.update(e,!0),stop:()=>Rl(e),now:()=>sr.isProcessing?sr.timestamp:ui.now()}},wL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Oy=2e4;function x2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Oy;)e+=n,r=t.next(e);return e>=Oy?1/0:e}function pW(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(x2(r),Oy);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:hs(i)}}const mW=5;function bL(t,e,n){const r=Math.max(e-mW,0);return XN(n-t(r),e-r)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dR=.001;function gW({duration:t=xn.duration,bounce:e=xn.bounce,velocity:n=xn.velocity,mass:r=xn.mass}){let i,o,s=1-e;s=ha(xn.minDamping,xn.maxDamping,s),t=ha(xn.minDuration,xn.maxDuration,hs(t)),s<1?(i=u=>{const d=u*s,h=d*t,m=d-n,g=ox(u,s),b=Math.exp(-h);return dR-m/g*b},o=u=>{const h=u*s*t,m=h*n+n,g=Math.pow(s,2)*Math.pow(u,2)*t,b=Math.exp(-h),w=ox(Math.pow(u,2),s);return(-i(u)+dR>0?-1:1)*((m-g)*b)/w}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},o=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=vW(i,o,a);if(t=fs(t),isNaN(l))return{stiffness:xn.stiffness,damping:xn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const yW=12;function vW(t,e,n){let r=n;for(let i=1;i<yW;i++)r=r-t(r)/e(r);return r}function ox(t,e){return t*Math.sqrt(1-e*e)}const wW=["duration","bounce"],bW=["stiffness","damping","mass"];function fR(t,e){return e.some(n=>t[n]!==void 0)}function EW(t){let e={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...t};if(!fR(t,bW)&&fR(t,wW))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ha(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:xn.mass,stiffness:i,damping:o}}else{const n=gW(t);e={...e,...n,mass:xn.mass},e.isResolvedFromDuration=!0}return e}function Ny(t=xn.visualDuration,e=xn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=EW({...n,velocity:-hs(n.velocity||0)}),b=m||0,w=u/(2*Math.sqrt(l*d)),E=s-o,y=hs(Math.sqrt(l/d)),_=Math.abs(E)<5;r||(r=_?xn.restSpeed.granular:xn.restSpeed.default),i||(i=_?xn.restDelta.granular:xn.restDelta.default);let x;if(w<1){const M=ox(y,w);x=L=>{const K=Math.exp(-w*y*L);return s-K*((b+w*y*E)/M*Math.sin(M*L)+E*Math.cos(M*L))}}else if(w===1)x=M=>s-Math.exp(-y*M)*(E+(b+y*E)*M);else{const M=y*Math.sqrt(w*w-1);x=L=>{const K=Math.exp(-w*y*L),j=Math.min(M*L,300);return s-K*((b+w*y*E)*Math.sinh(j)+M*E*Math.cosh(j))/M}}const P={calculatedDuration:g&&h||null,next:M=>{const L=x(M);if(g)a.done=M>=h;else{let K=M===0?b:0;w<1&&(K=M===0?fs(b):bL(x,M,L));const j=Math.abs(K)<=r,G=Math.abs(s-L)<=i;a.done=j&&G}return a.value=a.done?s:L,a},toString:()=>{const M=Math.min(x2(P),Oy),L=wL(K=>P.next(M*K).value,M,30);return M+"ms "+L},toTransition:()=>{}};return P}Ny.applyToOptions=t=>{const e=pW(t,100,Ny);return t.ease=e.ease,t.duration=fs(e.duration),t.type="keyframes",t};function sx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},g=j=>a!==void 0&&j<a||l!==void 0&&j>l,b=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let w=n*e;const E=h+w,y=s===void 0?E:s(E);y!==E&&(w=y-h);const _=j=>-w*Math.exp(-j/r),x=j=>y+_(j),P=j=>{const G=_(j),V=x(j);m.done=Math.abs(G)<=u,m.value=m.done?y:V};let M,L;const K=j=>{g(m.value)&&(M=j,L=Ny({keyframes:[m.value,b(m.value)],velocity:bL(x,j,m.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return K(0),{calculatedDuration:null,next:j=>{let G=!1;return!L&&M===void 0&&(G=!0,P(j),K(j)),M!==void 0&&j>=M?L.next(j-M):(!G&&P(j),m)}}}function _W(t,e,n){const r=[],i=n||pa.mix||vL,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||lo:e;a=im(l,a)}r.push(a)}return r}function xW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(h2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=_W(e,r,i),l=a.length,u=d=>{if(s&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=hp(t[h],t[h+1],d);return a[h](m)};return n?d=>u(ha(t[0],t[o-1],d)):u}function SW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hp(0,e,r);t.push(yn(n,1,i))}}function AW(t){const e=[0];return SW(e,t.length-1),e}function CW(t,e){return t.map(n=>n*e)}function kW(t,e){return t.map(()=>e||lL).splice(0,t.length-1)}function $h({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=FG(r)?r.map(oR):oR(r),o={done:!1,value:e[0]},s=CW(n&&n.length===e.length?n:AW(e),t),a=xW(s,e,{ease:Array.isArray(i)?i:kW(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const TW=t=>t!==null;function S2(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(TW),a=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const IW={decay:sx,inertia:sx,tween:$h,keyframes:$h,spring:Ny};function EL(t){typeof t.type=="string"&&(t.type=IW[t.type])}class A2{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PW=t=>t/100;class _L extends A2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==ui.now()&&this.tick(ui.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;EL(e);const{type:n=$h,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=e;let{keyframes:a}=e;const l=n||$h;l!==$h&&typeof a[0]!="number"&&(this.mixKeyframes=im(PW,vL(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=x2(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:g,type:b,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,P=r;if(h){const j=Math.min(this.currentTime,i)/a;let G=Math.floor(j),V=j%1;!V&&j>=1&&(V=1),V===1&&G--,G=Math.min(G,h+1),!!(G%2)&&(m==="reverse"?(V=1-V,g&&(V-=g/a)):m==="mirror"&&(P=s)),x=ha(0,1,V)*a}const M=_?{done:!1,value:d[0]}:P.next(x);o&&(M.value=o(M.value));let{done:L}=M;!_&&l!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return K&&b!==sx&&(M.value=S2(d,this.options,E,this.speed)),w&&w(M.value),K&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return hs(this.calculatedDuration)}get time(){return hs(this.currentTime)}set time(e){e=fs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ui.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=hW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ui.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function RW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ic=t=>t*180/Math.PI,ax=t=>{const e=Ic(Math.atan2(t[1],t[0]));return lx(e)},MW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ax,rotateZ:ax,skewX:t=>Ic(Math.atan(t[1])),skewY:t=>Ic(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lx=t=>(t=t%360,t<0&&(t+=360),t),hR=ax,pR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),mR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pR,scaleY:mR,scale:t=>(pR(t)+mR(t))/2,rotateX:t=>lx(Ic(Math.atan2(t[6],t[5]))),rotateY:t=>lx(Ic(Math.atan2(-t[2],t[0]))),rotateZ:hR,rotate:hR,skewX:t=>Ic(Math.atan(t[4])),skewY:t=>Ic(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gR(t){return t.includes("scale")?1:0}function cx(t,e){if(!t||t==="none")return gR(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=OW,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=MW,i=a}if(!i)return gR(e);const o=r[e],s=i[1].split(",").map(LW);return typeof o=="function"?o(s):s[o]}const NW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cx(n,e)};function LW(t){return parseFloat(t.trim())}const tf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nf=new Set(tf),yR=t=>t===ef||t===pt,BW=new Set(["x","y","z"]),DW=tf.filter(t=>!BW.has(t));function FW(t){const e=[];return DW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Od={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cx(e,"x"),y:(t,{transform:e})=>cx(e,"y")};Od.translateX=Od.x;Od.translateY=Od.y;const Dc=new Set;let ux=!1,dx=!1,fx=!1;function xL(){if(dx){const t=Array.from(Dc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=FW(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dx=!1,ux=!1,Dc.forEach(t=>t.complete(fx)),Dc.clear()}function SL(){Dc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dx=!0)})}function jW(){fx=!0,SL(),xL(),fx=!1}class C2{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Dc.add(this),ux||(ux=!0,vn.read(SL),vn.resolveKeyframes(xL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}RW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Dc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const UW=t=>t.startsWith("--");function $W(t,e,n){UW(e)?t.style.setProperty(e,n):t.style[e]=n}const HW=p2(()=>window.ScrollTimeline!==void 0),VW={};function zW(t,e){const n=p2(t);return()=>VW[e]??n()}const AL=zW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wh([0,.65,.55,1]),circOut:wh([.55,0,1,.45]),backIn:wh([.31,.01,.66,-.59]),backOut:wh([.33,1.53,.69,.99])};function CL(t,e){if(t)return typeof t=="function"?AL()?wL(t,e):"ease-out":cL(t)?wh(t):Array.isArray(t)?t.map(n=>CL(n,e)||vR.easeOut):vR[t]}function KW(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=CL(a,i);Array.isArray(h)&&(d.easing=h);const m={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(d,m)}function kL(t){return typeof t=="function"&&"applyToOptions"in t}function qW({type:t,...e}){return kL(t)&&AL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GW extends A2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=e,h2(typeof e.type!="string");const u=qW(e);this.animation=KW(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=S2(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):$W(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hs(Number(e))}get time(){return hs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HW()?(this.animation.timeline=e,lo):n(this)}}const TL={anticipate:oL,backInOut:iL,circInOut:aL};function WW(t){return t in TL}function YW(t){typeof t.ease=="string"&&WW(t.ease)&&(t.ease=TL[t.ease])}const wR=10;class QW extends GW{constructor(e){YW(e),EL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new _L({...s,autoplay:!1}),l=fs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-wR).value,a.sample(l).value,wR),a.stop()}}const bR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ml.test(t)||t==="0")&&!t.startsWith("url("));function ZW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=bR(i,e),a=bR(o,e);return!s||!a?!1:ZW(t)||(n==="spring"||kL(n))&&r}const XW=new Set(["opacity","clipPath","filter","transform"]),eY=p2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tY(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return eY()&&n&&XW.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const nY=40;class rY extends A2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var b;super(),this.stop=()=>{var w,E;this._animation?(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)):(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=ui.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:l,motionValue:u,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||C2;this.keyframeResolver=new g(a,(w,E,y)=>this.onKeyframesResolved(w,E,m,!y),l,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=ui.now(),JW(e,o,s,a)||((pa.instantAnimations||!l)&&(d==null||d(S2(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>nY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&tY(m)?new QW({...m,element:m.motionValue.owner.current}):new _L(m);g.finished.then(()=>this.notifyFinished()).catch(lo),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||jW(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const iY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oY(t){const e=iY.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function IL(t,e,n=1){const[r,i]=oY(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return ZN(s)?parseFloat(s):s}return w2(i)?IL(i,e,n+1):i}function k2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const PL=new Set(["width","height","top","left","right","bottom",...tf]),sY={test:t=>t==="auto",parse:t=>t},RL=t=>e=>e.test(t),ML=[ef,pt,ps,al,ZG,QG,sY],ER=t=>ML.find(RL(t));function aY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JN(t):!0}const lY=new Set(["brightness","contrast","saturate","opacity"]);function cY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(b2)||[];if(!r)return t;const i=n.replace(r,"");let o=lY.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const uY=/\b([a-z-]*)\(.*?\)/gu,hx={...Ml,getAnimatableNone:t=>{const e=t.match(uY);return e?e.map(cY).join(" "):t}},_R={...ef,transform:Math.round},dY={rotate:al,rotateX:al,rotateY:al,rotateZ:al,scale:X0,scaleX:X0,scaleY:X0,scaleZ:X0,skew:al,skewX:al,skewY:al,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:pp,originX:aR,originY:aR,originZ:pt},T2={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...dY,zIndex:_R,fillOpacity:pp,strokeOpacity:pp,numOctaves:_R},fY={...T2,color:br,backgroundColor:br,outlineColor:br,fill:br,stroke:br,borderColor:br,borderTopColor:br,borderRightColor:br,borderBottomColor:br,borderLeftColor:br,filter:hx,WebkitFilter:hx},OL=t=>fY[t];function NL(t,e){let n=OL(t);return n!==hx&&(n=Ml),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hY=new Set(["auto","none","0"]);function pY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!hY.has(o)&&mp(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=NL(n,i)}class mY extends C2{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),w2(u))){const d=IL(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!PL.has(r)||e.length!==2)return;const[i,o]=e,s=ER(i),a=ER(o);if(s!==a)if(yR(s)&&yR(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||aY(e[i]))&&r.push(i);r.length&&pY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Od[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=Od[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function gY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const{schedule:I2}=uL(queueMicrotask,!1),So={x:!1,y:!1};function LL(){return So.x||So.y}function yY(t){return t==="x"||t==="y"?So[t]?null:(So[t]=!0,()=>{So[t]=!1}):So.x||So.y?null:(So.x=So.y=!0,()=>{So.x=So.y=!1})}function BL(t,e){const n=gY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function xR(t){return!(t.pointerType==="touch"||LL())}function vY(t,e,n={}){const[r,i,o]=BL(t,n),s=a=>{if(!xR(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{xR(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const DL=(t,e)=>e?t===e?!0:DL(t,e.parentElement):!1,P2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bY(t){return wY.has(t.tagName)||t.tabIndex!==-1}const bh=new WeakSet;function SR(t){return e=>{e.key==="Enter"&&t(e)}}function AE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const EY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=SR(()=>{if(bh.has(n))return;AE(n,"down");const i=SR(()=>{AE(n,"up")}),o=()=>AE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function AR(t){return P2(t)&&!LL()}function _Y(t,e,n={}){const[r,i,o]=BL(t,n),s=a=>{const l=a.currentTarget;if(!AR(a)||bh.has(l))return;bh.add(l);const u=e(l,a),d=(g,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!AR(g)||!bh.has(l))&&(bh.delete(l),typeof u=="function"&&u(g,{success:b}))},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||DL(l,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a instanceof HTMLElement&&(a.addEventListener("focus",u=>EY(u,i)),!bY(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}const CR=30,xY=t=>!isNaN(parseFloat(t));class SY{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var s,a;const o=ui.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current)),i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ui.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new m2);const r=this.events[e].add(n);return e==="change"?()=>{r(),vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ui.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CR);return XN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gp(t,e){return new SY(t,e)}const AY=[...ML,br,Ml],CY=t=>AY.find(RL(t)),FL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,jL=Z.createContext({strict:!1}),kR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nd={};for(const t in kR)Nd[t]={isEnabled:e=>kR[t].some(n=>!!e[n])};function kY(t){for(const e in t)Nd[e]={...Nd[e],...t[e]}}const TY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ly(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TY.has(t)}let UL=t=>!Ly(t);function IY(t){t&&(UL=e=>e.startsWith("on")?!Ly(e):t(e))}try{IY(require("@emotion/is-prop-valid").default)}catch{}function PY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UL(i)||n===!0&&Ly(i)||!e&&!Ly(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function RY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Xv=Z.createContext({});function ew(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function yp(t){return typeof t=="string"||Array.isArray(t)}const R2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],M2=["initial",...R2];function tw(t){return ew(t.animate)||M2.some(e=>yp(t[e]))}function $L(t){return!!(tw(t)||t.variants)}function MY(t,e){if(tw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yp(n)?n:void 0,animate:yp(r)?r:void 0}}return t.inherit!==!1?e:{}}function OY(t){const{initial:e,animate:n}=MY(t,Z.useContext(Xv));return Z.useMemo(()=>({initial:e,animate:n}),[TR(e),TR(n)])}function TR(t){return Array.isArray(t)?t.join(" "):t}const NY=Symbol.for("motionComponentSymbol");function dd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LY(t,e,n){return Z.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dd(n)&&(n.current=r))},[e])}const O2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BY="framerAppearId",HL="data-"+O2(BY),VL=Z.createContext({});function DY(t,e,n,r,i){var w,E;const{visualElement:o}=Z.useContext(Xv),s=Z.useContext(jL),a=Z.useContext(u2),l=Z.useContext(QN).reducedMotion,u=Z.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=Z.useContext(VL);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&FY(u.current,n,i,h);const m=Z.useRef(!1);Z.useInsertionEffect(()=>{d&&m.current&&d.update(n,a)});const g=n[HL],b=Z.useRef(!!g&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,g))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,g)));return PG(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),I2.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),Z.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),b.current=!1))}),d}function FY(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zL(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&dd(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function zL(t){if(t)return t.options.allowProjection!==!1?t.projection:zL(t.parent)}function jY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&kY(t);function o(a,l){let u;const d={...Z.useContext(QN),...a,layoutId:UY(a)},{isStatic:h}=d,m=OY(a),g=r(a,h);if(!h&&c2){$Y();const b=HY(d);u=b.MeasureLayout,m.visualElement=DY(i,g,d,e,b.ProjectionNode)}return pe.jsxs(Xv.Provider,{value:m,children:[u&&m.visualElement?pe.jsx(u,{visualElement:m.visualElement,...d}):null,n(i,a,LY(g,m.visualElement,l),g,h,m.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=Z.forwardRef(o);return s[NY]=i,s}function UY({layoutId:t}){const e=Z.useContext(YN).id;return e&&t!==void 0?e+"-"+t:t}function $Y(t,e){Z.useContext(jL).strict}function HY(t){const{drag:e,layout:n}=Nd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vp={};function VY(t){for(const e in t)vp[e]=t[e],v2(e)&&(vp[e].isCSSVariable=!0)}function KL(t,{layout:e,layoutId:n}){return nf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vp[t]||t==="opacity")}const Cr=t=>!!(t&&t.getVelocity),zY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KY=tf.length;function qY(t,e,n){let r="",i=!0;for(let o=0;o<KY;o++){const s=tf[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=FL(a,T2[s]);if(!l){i=!1;const d=zY[s]||s;r+=`${d}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function N2(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const u=e[l];if(nf.has(l)){s=!0;continue}else if(v2(l)){i[l]=u;continue}else{const d=FL(u,T2[l]);l.startsWith("origin")?(a=!0,o[l]=d):r[l]=d}}if(e.transform||(s||n?r.transform=qY(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}const L2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qL(t,e,n){for(const r in e)!Cr(e[r])&&!KL(r,n)&&(t[r]=e[r])}function GY({transformTemplate:t},e){return Z.useMemo(()=>{const n=L2();return N2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WY(t,e){const n=t.style||{},r={};return qL(r,n,t),Object.assign(r,GY(t,e)),r}function YY(t,e){const n={},r=WY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B2(t){return typeof t!="string"||t.includes("-")?!1:!!(QY.indexOf(t)>-1||/[A-Z]/u.test(t))}const ZY={offset:"stroke-dashoffset",array:"stroke-dasharray"},JY={offset:"strokeDashoffset",array:"strokeDasharray"};function XY(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?ZY:JY;t[o.offset]=pt.transform(-r);const s=pt.transform(e),a=pt.transform(n);t[o.array]=`${s} ${a}`}function GL(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,u){if(N2(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox="fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&XY(d,i,o,s,!1)}const WL=()=>({...L2(),attrs:{}}),YL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eQ(t,e,n,r){const i=Z.useMemo(()=>{const o=WL();return GL(o,e,YL(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};qL(o,t.style,t),i.style={...o,...i.style}}return i}function tQ(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(B2(n)?eQ:YY)(r,o,s,n),u=PY(r,typeof n=="string",t),d=n!==Z.Fragment?{...u,...l,ref:i}:{},{children:h}=r,m=Z.useMemo(()=>Cr(h)?h.get():h,[h]);return Z.createElement(n,{...d,children:m})}}function IR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function D2(t,e,n,r){if(typeof e=="function"){const[i,o]=IR(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=IR(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Og(t){return Cr(t)?t.get():t}function nQ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:rQ(n,r,i,t),renderState:e()}}const QL=t=>(e,n)=>{const r=Z.useContext(Xv),i=Z.useContext(u2),o=()=>nQ(t,e,r,i);return n?o():IG(o)};function rQ(t,e,n,r){const i={},o=r(t,{});for(const m in o)i[m]=Og(o[m]);let{initial:s,animate:a}=t;const l=tw(t),u=$L(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?a:s;if(h&&typeof h!="boolean"&&!ew(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const b=D2(t,m[g]);if(b){const{transitionEnd:w,transition:E,...y}=b;for(const _ in y){let x=y[_];if(Array.isArray(x)){const P=d?x.length-1:0;x=x[P]}x!==null&&(i[_]=x)}for(const _ in w)i[_]=w[_]}}}return i}function F2(t,e,n){var o;const{style:r}=t,i={};for(const s in r)(Cr(r[s])||e.style&&Cr(e.style[s])||KL(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const iQ={useVisualState:QL({scrapeMotionValuesFromProps:F2,createRenderState:L2})};function ZL(t,e,n){const r=F2(t,e,n);for(const i in t)if(Cr(t[i])||Cr(e[i])){const o=tf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const oQ={useVisualState:QL({scrapeMotionValuesFromProps:ZL,createRenderState:WL})};function sQ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...B2(r)?oQ:iQ,preloadedFeatures:t,useRender:tQ(i),createVisualElement:e,Component:r};return jY(s)}}function wp(t,e,n){const r=t.getProps();return D2(r,e,n!==void 0?n:r.custom,t)}const px=t=>Array.isArray(t);function aQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gp(n))}function lQ(t){return px(t)?t[t.length-1]||0:t}function cQ(t,e){const n=wp(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=lQ(o[s]);aQ(t,s,a)}}function uQ(t){return!!(Cr(t)&&t.add)}function mx(t,e){const n=t.getValue("willChange");if(uQ(n))return n.add(e);if(!n&&pa.WillChange){const r=new pa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function JL(t){return t.props[HL]}const dQ=t=>t!==null;function fQ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(dQ),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const hQ={type:"spring",stiffness:500,damping:25,restSpeed:10},pQ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mQ={type:"keyframes",duration:.8},gQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yQ=(t,{keyframes:e})=>e.length>2?mQ:nf.has(t)?t.startsWith("scale")?pQ(e[1]):hQ:gQ;function vQ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const j2=(t,e,n,r={},i,o)=>s=>{const a=k2(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-fs(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};vQ(a)||Object.assign(d,yQ(t,d)),d.duration&&(d.duration=fs(d.duration)),d.repeatDelay&&(d.repeatDelay=fs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(pa.instantAnimations||pa.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!o&&e.get()!==void 0){const m=fQ(d.keyframes,a);if(m!==void 0){vn.update(()=>{d.onUpdate(m),d.onComplete()});return}}return new rY(d)};function wQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(o=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),m=a[d];if(m===void 0||u&&wQ(u,d))continue;const g={delay:n,...k2(o||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===b&&!g.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const y=JL(t);if(y){const _=window.MotionHandoffAnimation(y,d,vn);_!==null&&(g.startTime=_,w=!0)}}mx(t,d),h.start(j2(d,h,m,t.shouldReduceMotion&&PL.has(d)?{type:!1}:g,t,w));const E=h.animation;E&&l.push(E)}return s&&Promise.all(l).then(()=>{vn.update(()=>{s&&cQ(t,s)})}),l}function gx(t,e,n={}){var l;const r=wp(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(XL(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return bQ(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[o,s]:[s,o];return u().then(()=>d())}else return Promise.all([o(),s(n.delay)])}function bQ(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(EQ).forEach((u,d)=>{u.notify("AnimationStart",e),s.push(gx(u,e,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function EQ(t,e){return t.sortNodePosition(e)}function _Q(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>gx(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=gx(t,e,n);else{const i=typeof e=="function"?wp(t,e,n.custom):e;r=Promise.all(XL(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function e8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const xQ=M2.length;function t8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?t8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xQ;n++){const r=M2[n],i=t.props[r];(yp(i)||i===!1)&&(e[r]=i)}return e}const SQ=[...R2].reverse(),AQ=R2.length;function CQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_Q(t,n,r)))}function kQ(t){let e=CQ(t),n=PR(),r=!0;const i=l=>(u,d)=>{var m;const h=wp(t,d,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:g,transitionEnd:b,...w}=h;u={...u,...w,...b}}return u};function o(l){e=l(t)}function s(l){const{props:u}=t,d=t8(t.parent)||{},h=[],m=new Set;let g={},b=1/0;for(let E=0;E<AQ;E++){const y=SQ[E],_=n[y],x=u[y]!==void 0?u[y]:d[y],P=yp(x),M=y===l?_.isActive:null;M===!1&&(b=E);let L=x===d[y]&&x!==u[y]&&P;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...g},!_.isActive&&M===null||!x&&!_.prevProp||ew(x)||typeof x=="boolean")continue;const K=TQ(_.prevProp,x);let j=K||y===l&&_.isActive&&!L&&P||E>b&&P,G=!1;const V=Array.isArray(x)?x:[x];let W=V.reduce(i(y),{});M===!1&&(W={});const{prevResolvedValues:q={}}=_,k={...q,...W},C=R=>{j=!0,m.has(R)&&(G=!0,m.delete(R)),_.needsAnimating[R]=!0;const B=t.getValue(R);B&&(B.liveStyle=!1)};for(const R in k){const B=W[R],F=q[R];if(g.hasOwnProperty(R))continue;let U=!1;px(B)&&px(F)?U=!e8(B,F):U=B!==F,U?B!=null?C(R):m.add(R):B!==void 0&&m.has(R)?C(R):_.protectedKeys[R]=!0}_.prevProp=x,_.prevResolvedValues=W,_.isActive&&(g={...g,...W}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(L&&K)||G)&&h.push(...V.map(R=>({animation:R,options:{type:y}})))}if(m.size){const E={};if(typeof u.initial!="boolean"){const y=wp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(E.transition=y.transition)}m.forEach(y=>{const _=t.getBaseTarget(y),x=t.getValue(y);x&&(x.liveStyle=!0),E[y]=_??null}),h.push({animation:E})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=PR(),r=!0}}}function TQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!e8(e,t):!1}function uc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PR(){return{animate:uc(!0),whileInView:uc(),whileHover:uc(),whileTap:uc(),whileDrag:uc(),whileFocus:uc(),exit:uc()}}class $l{constructor(e){this.isMounted=!1,this.node=e}update(){}}class IQ extends $l{constructor(e){super(e),e.animationState||(e.animationState=kQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ew(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PQ=0;class RQ extends $l{constructor(){super(...arguments),this.id=PQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MQ={animation:{Feature:IQ},exit:{Feature:RQ}};function bp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function am(t){return{point:{x:t.pageX,y:t.pageY}}}const OQ=t=>e=>P2(e)&&t(e,am(e));function Hh(t,e,n,r){return bp(t,e,OQ(n),r)}function n8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const r8=1e-4,BQ=1-r8,DQ=1+r8,i8=.01,FQ=0-i8,jQ=0+i8;function Ur(t){return t.max-t.min}function UQ(t,e,n){return Math.abs(t-e)<=n}function RR(t,e,n,r=.5){t.origin=r,t.originPoint=yn(e.min,e.max,t.origin),t.scale=Ur(n)/Ur(e),t.translate=yn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BQ&&t.scale<=DQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=FQ&&t.translate<=jQ||isNaN(t.translate))&&(t.translate=0)}function Vh(t,e,n,r){RR(t.x,e.x,n.x,r?r.originX:void 0),RR(t.y,e.y,n.y,r?r.originY:void 0)}function MR(t,e,n){t.min=n.min+e.min,t.max=t.min+Ur(e)}function $Q(t,e,n){MR(t.x,e.x,n.x),MR(t.y,e.y,n.y)}function OR(t,e,n){t.min=e.min-n.min,t.max=t.min+Ur(e)}function zh(t,e,n){OR(t.x,e.x,n.x),OR(t.y,e.y,n.y)}const NR=()=>({translate:0,scale:1,origin:0,originPoint:0}),fd=()=>({x:NR(),y:NR()}),LR=()=>({min:0,max:0}),kn=()=>({x:LR(),y:LR()});function Yi(t){return[t("x"),t("y")]}function CE(t){return t===void 0||t===1}function yx({scale:t,scaleX:e,scaleY:n}){return!CE(t)||!CE(e)||!CE(n)}function gc(t){return yx(t)||o8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function o8(t){return BR(t.x)||BR(t.y)}function BR(t){return t&&t!=="0%"}function By(t,e,n){const r=t-n,i=e*r;return n+i}function DR(t,e,n,r,i){return i!==void 0&&(t=By(t,i,r)),By(t,n,r)+e}function vx(t,e=0,n=1,r,i){t.min=DR(t.min,e,n,r,i),t.max=DR(t.max,e,n,r,i)}function s8(t,{x:e,y:n}){vx(t.x,e.translate,e.scale,e.originPoint),vx(t.y,n.translate,n.scale,n.originPoint)}const FR=.999999999999,jR=1.0000000000001;function HQ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pd(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,s8(t,s)),r&&gc(o.latestValues)&&pd(t,o.latestValues))}e.x<jR&&e.x>FR&&(e.x=1),e.y<jR&&e.y>FR&&(e.y=1)}function hd(t,e){t.min=t.min+e,t.max=t.max+e}function UR(t,e,n,r,i=.5){const o=yn(t.min,t.max,i);vx(t,e,n,o,r)}function pd(t,e){UR(t.x,e.x,e.scaleX,e.scale,e.originX),UR(t.y,e.y,e.scaleY,e.scale,e.originY)}function a8(t,e){return n8(LQ(t.getBoundingClientRect(),e))}function VQ(t,e,n){const r=a8(t,n),{scroll:i}=e;return i&&(hd(r.x,i.offset.x),hd(r.y,i.offset.y)),r}const l8=({current:t})=>t?t.ownerDocument.defaultView:null,$R=(t,e)=>Math.abs(t-e);function zQ(t,e){const n=$R(t.x,e.x),r=$R(t.y,e.y);return Math.sqrt(n**2+r**2)}class c8{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=TE(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=zQ(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=h,{timestamp:w}=sr;this.history.push({...b,timestamp:w});const{onStart:E,onMove:y}=this.handlers;m||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kE(m,this.transformPagePoint),vn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=TE(h.type==="pointercancel"?this.lastMoveEventInfo:kE(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,E),b&&b(h,E)},!P2(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=am(e),a=kE(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=sr;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,TE(a,this.history)),this.removeListeners=im(Hh(this.contextWindow,"pointermove",this.handlePointerMove),Hh(this.contextWindow,"pointerup",this.handlePointerUp),Hh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rl(this.updatePoint)}}function kE(t,e){return e?{point:e(t.point)}:t}function HR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function TE({point:t},e){return{point:t,delta:HR(t,u8(e)),offset:HR(t,KQ(e)),velocity:qQ(e,.1)}}function KQ(t){return t[0]}function u8(t){return t[t.length-1]}function qQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=u8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>fs(e)));)n--;if(!r)return{x:0,y:0};const o=hs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function GQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yn(n,t,r.max):Math.min(t,n)),t}function VR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WQ(t,{top:e,left:n,bottom:r,right:i}){return{x:VR(t.x,n,i),y:VR(t.y,e,r)}}function zR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function YQ(t,e){return{x:zR(t.x,e.x),y:zR(t.y,e.y)}}function QQ(t,e){let n=.5;const r=Ur(t),i=Ur(e);return i>r?n=hp(e.min,e.max-r,t.min):r>i&&(n=hp(t.min,t.max-i,e.min)),ha(0,1,n)}function ZQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wx=.35;function JQ(t=wx){return t===!1?t=0:t===!0&&(t=wx),{x:KR(t,"left","right"),y:KR(t,"top","bottom")}}function KR(t,e,n){return{min:qR(t,e),max:qR(t,n)}}function qR(t,e){return typeof t=="number"?t:t[e]||0}const XQ=new WeakMap;class eZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(am(d).point)},o=(d,h)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yY(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yi(E=>{let y=this.getAxisMotionValue(E).get()||0;if(ps.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const x=_.layout.layoutBox[E];x&&(y=Ur(x)*(parseFloat(y)/100))}}this.originPoint[E]=y}),b&&vn.postRender(()=>b(d,h)),mx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(d,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:E}=h;if(g&&this.currentDirection===null){this.currentDirection=tZ(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Yi(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new c8(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:l8(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&vn.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!eg(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=GQ(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&dd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=WQ(r.layoutBox,e):this.constraints=!1,this.elastic=JQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Yi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ZQ(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=VQ(r,i.root,this.visualElement.getTransformPagePoint());let s=YQ(i.layout.layoutBox,o);if(n){const a=n(NQ(s));this.hasMutatedConstraints=!!a,a&&(s=n8(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Yi(d=>{if(!eg(d,n,this.currentDirection))return;let h=l&&l[d]||{};s&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return mx(this.visualElement,e),r.start(j2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Yi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yi(n=>{const{drag:r}=this.getProps();if(!eg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-yn(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yi(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=QQ({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yi(s=>{if(!eg(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(yn(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;XQ.set(this.visualElement,this);const e=this.visualElement.current,n=Hh(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vn.read(r);const s=bp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=wx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function eg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nZ extends $l{constructor(e){super(e),this.removeGroupControls=lo,this.removeListeners=lo,this.controls=new eZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lo}unmount(){this.removeGroupControls(),this.removeListeners()}}const GR=t=>(e,n)=>{t&&vn.postRender(()=>t(e,n))};class rZ extends $l{constructor(){super(...arguments),this.removePointerDownListener=lo}onPointerDown(e){this.session=new c8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:GR(e),onStart:GR(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&vn.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Hh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const n=WR(t,e.target.x),r=WR(t,e.target.y);return`${n}% ${r}%`}},iZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ml.parse(t);if(i.length>5)return r;const o=Ml.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=yn(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class oZ extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;VY(sZ),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||vn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),I2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function d8(t){const[e,n]=RG(),r=Z.useContext(YN);return pe.jsx(oZ,{...t,layoutGroup:r,switchLayoutGroup:Z.useContext(VL),isPresent:e,safeToRemove:n})}const sZ={borderRadius:{...oh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oh,borderTopRightRadius:oh,borderBottomLeftRadius:oh,borderBottomRightRadius:oh,boxShadow:iZ};function aZ(t,e,n){const r=Cr(t)?t:gp(t);return r.start(j2("",r,e,n)),r.animation}function lZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const cZ=(t,e)=>t.depth-e.depth;class uZ{constructor(){this.children=[],this.isDirty=!1}add(e){d2(this.children,e),this.isDirty=!0}remove(e){f2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cZ),this.isDirty=!1,this.children.forEach(e)}}function dZ(t,e){const n=ui.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Rl(r),t(o-e))};return vn.setup(r,!0),()=>Rl(r)}const f8=["TopLeft","TopRight","BottomLeft","BottomRight"],fZ=f8.length,YR=t=>typeof t=="string"?parseFloat(t):t,QR=t=>typeof t=="number"||pt.test(t);function hZ(t,e,n,r,i,o){i?(t.opacity=yn(0,n.opacity??1,pZ(r)),t.opacityExit=yn(e.opacity??1,0,mZ(r))):o&&(t.opacity=yn(e.opacity??1,n.opacity??1,r));for(let s=0;s<fZ;s++){const a=`border${f8[s]}Radius`;let l=ZR(e,a),u=ZR(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||QR(l)===QR(u)?(t[a]=Math.max(yn(YR(l),YR(u),r),0),(ps.test(u)||ps.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=yn(e.rotate||0,n.rotate||0,r))}function ZR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pZ=h8(0,.5,sL),mZ=h8(.5,.95,lo);function h8(t,e,n){return r=>r<t?0:r>e?1:n(hp(t,e,r))}function JR(t,e){t.min=e.min,t.max=e.max}function zi(t,e){JR(t.x,e.x),JR(t.y,e.y)}function XR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eM(t,e,n,r,i){return t-=e,t=By(t,1/n,r),i!==void 0&&(t=By(t,1/i,r)),t}function gZ(t,e=0,n=1,r=.5,i,o=t,s=t){if(ps.test(e)&&(e=parseFloat(e),e=yn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=yn(o.min,o.max,r);t===o&&(a-=e),t.min=eM(t.min,e,n,a,i),t.max=eM(t.max,e,n,a,i)}function tM(t,e,[n,r,i],o,s){gZ(t,e[n],e[r],e[i],e.scale,o,s)}const yZ=["x","scaleX","originX"],vZ=["y","scaleY","originY"];function nM(t,e,n,r){tM(t.x,e,yZ,n?n.x:void 0,r?r.x:void 0),tM(t.y,e,vZ,n?n.y:void 0,r?r.y:void 0)}function rM(t){return t.translate===0&&t.scale===1}function p8(t){return rM(t.x)&&rM(t.y)}function iM(t,e){return t.min===e.min&&t.max===e.max}function wZ(t,e){return iM(t.x,e.x)&&iM(t.y,e.y)}function oM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function m8(t,e){return oM(t.x,e.x)&&oM(t.y,e.y)}function sM(t){return Ur(t.x)/Ur(t.y)}function aM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bZ{constructor(){this.members=[]}add(e){d2(this.members,e),e.scheduleRender()}remove(e){if(f2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EZ(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const IE=["","X","Y","Z"],_Z={visibility:"hidden"},lM=1e3;let xZ=0;function PE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function g8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=JL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vn,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&g8(r)}function y8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=xZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CZ),this.nodes.forEach(RZ),this.nodes.forEach(MZ),this.nodes.forEach(kZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uZ)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new m2),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lZ(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=dZ(m,250),Ng.hasAnimatedSinceResize&&(Ng.hasAnimatedSinceResize=!1,this.nodes.forEach(uM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||DZ,{onLayoutAnimationStart:E,onLayoutAnimationComplete:y}=d.getProps(),_=!this.targetLayout||!m8(this.targetLayout,b),x=!m&&g;if(this.options.layoutRoot||this.resumeFrom||x||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const P={...k2(w,"layout"),onPlay:E,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else m||uM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OZ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cM);return}this.isUpdating||this.nodes.forEach(IZ),this.isUpdating=!1,this.nodes.forEach(PZ),this.nodes.forEach(SZ),this.nodes.forEach(AZ),this.clearAllSnapshots();const a=ui.now();sr.delta=ha(0,1e3/60,a-sr.timestamp),sr.timestamp=a,sr.isProcessing=!0,EE.update.process(sr),EE.preRender.process(sr),EE.render.process(sr),sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,I2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TZ),this.sharedNodes.forEach(NZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ur(this.snapshot.measuredBox.x)&&!Ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!p8(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||gc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),FZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return kn();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(jZ))){const{scroll:d}=this.root;d&&(hd(a.x,d.offset.x),hd(a.y,d.offset.y))}return a}removeElementScroll(s){var l;const a=kn();if(zi(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&zi(a,s),hd(a.x,h.offset.x),hd(a.y,h.offset.y))}return a}applyTransform(s,a=!1){const l=kn();zi(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&pd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gc(d.latestValues)&&pd(l,d.latestValues)}return gc(this.latestValues)&&pd(l,this.latestValues),l}removeTransform(s){const a=kn();zi(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!gc(u.latestValues))continue;yx(u.latestValues)&&u.updateSnapshot();const d=kn(),h=u.measurePageBox();zi(d,h),nM(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return gc(this.latestValues)&&nM(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=sr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),zh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$Q(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zi(this.target,this.layout.layoutBox),s8(this.target,this.targetDelta)):zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),zh(this.relativeTargetOrigin,this.target,g.target),zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yx(this.parent.latestValues)||o8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===sr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;zi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;HQ(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=kn());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XR(this.prevProjectionDelta.x,this.projectionDelta.x),XR(this.prevProjectionDelta.y,this.projectionDelta.y)),Vh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!aM(this.projectionDelta.x,this.prevProjectionDelta.x)||!aM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fd(),this.projectionDelta=fd(),this.projectionDeltaWithTransform=fd()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=fd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=kn(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,w=g!==b,E=this.getStack(),y=!E||E.members.length<=1,_=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(BZ));this.animationProgress=0;let x;this.mixTargetDelta=P=>{const M=P/1e3;dM(h.x,s.x,M),dM(h.y,s.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LZ(this.relativeTarget,this.relativeTargetOrigin,m,M),x&&wZ(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=kn()),zi(x,this.relativeTarget)),w&&(this.animationValues=d,hZ(d,u,this.latestValues,M,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vn.update(()=>{Ng.hasAnimatedSinceResize=!0,this.currentAnimation=aZ(0,lM,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&v8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||kn();const h=Ur(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const m=Ur(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+m}zi(a,l),pd(a,d),Vh(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new bZ),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&PE("z",s,u,this.animationValues);for(let d=0;d<IE.length;d++)PE(`rotate${IE[d]}`,s,u,this.animationValues),PE(`skew${IE[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _Z;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Og(s==null?void 0:s.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Og(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!gc(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=EZ(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in vp){if(d[g]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:E}=vp[g],y=a.transform==="none"?d[g]:b(d[g],u);if(w){const _=w.length;for(let x=0;x<_;x++)a[w[x]]=y}else E?this.options.visualElement.renderState.vars[g]=y:a[g]=y}return this.options.layoutId&&(a.pointerEvents=u===this?Og(s==null?void 0:s.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(cM),this.root.sharedNodes.clear()}}}function SZ(t){t.updateLayout()}function AZ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?Yi(h=>{const m=s?e.measuredBox[h]:e.layoutBox[h],g=Ur(m);m.min=r[h].min,m.max=m.min+g}):v8(o,e.layoutBox,r)&&Yi(h=>{const m=s?e.measuredBox[h]:e.layoutBox[h],g=Ur(r[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=fd();Vh(a,r,e.layoutBox);const l=fd();s?Vh(l,t.applyTransform(i,!0),e.measuredBox):Vh(l,r,e.layoutBox);const u=!p8(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const b=kn();zh(b,e.layoutBox,m.layoutBox);const w=kn();zh(w,r,g.layoutBox),m8(b,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function CZ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TZ(t){t.clearSnapshot()}function cM(t){t.clearMeasurements()}function IZ(t){t.isLayoutDirty=!1}function PZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function uM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RZ(t){t.resolveTargetDelta()}function MZ(t){t.calcProjection()}function OZ(t){t.resetSkewAndRotation()}function NZ(t){t.removeLeadSnapshot()}function dM(t,e,n){t.translate=yn(e.translate,0,n),t.scale=yn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fM(t,e,n,r){t.min=yn(e.min,n.min,r),t.max=yn(e.max,n.max,r)}function LZ(t,e,n,r){fM(t.x,e.x,n.x,r),fM(t.y,e.y,n.y,r)}function BZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DZ={duration:.45,ease:[.4,0,.1,1]},hM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pM=hM("applewebkit/")&&!hM("chrome/")?Math.round:lo;function mM(t){t.min=pM(t.min),t.max=pM(t.max)}function FZ(t){mM(t.x),mM(t.y)}function v8(t,e,n){return t==="position"||t==="preserve-aspect"&&!UQ(sM(e),sM(n),.2)}function jZ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const UZ=y8({attachResizeListener:(t,e)=>bp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RE={current:void 0},w8=y8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!RE.current){const t=new UZ({});t.mount(window),t.setOptions({layoutScroll:!0}),RE.current=t}return RE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$Z={pan:{Feature:rZ},drag:{Feature:nZ,ProjectionNode:w8,MeasureLayout:d8}};function gM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&vn.postRender(()=>o(e,am(e)))}class HZ extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=vY(e,(n,r)=>(gM(this.node,r,"Start"),i=>gM(this.node,i,"End"))))}unmount(){}}class VZ extends $l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=im(bp(this.node.current,"focus",()=>this.onFocus()),bp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&vn.postRender(()=>o(e,am(e)))}class zZ extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=_Y(e,(n,r)=>(yM(this.node,r,"Start"),(i,{success:o})=>yM(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bx=new WeakMap,ME=new WeakMap,KZ=t=>{const e=bx.get(t.target);e&&e(t)},qZ=t=>{t.forEach(KZ)};function GZ({root:t,...e}){const n=t||document;ME.has(n)||ME.set(n,{});const r=ME.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(qZ,{root:t,...e})),r[i]}function WZ(t,e,n){const r=GZ(e);return bx.set(t,n),r.observe(t),()=>{bx.delete(t),r.unobserve(t)}}const YZ={some:0,all:1};class QZ extends $l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YZ[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(l)};return WZ(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZZ(e,n))&&this.startObserver()}unmount(){}}function ZZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JZ={inView:{Feature:QZ},tap:{Feature:zZ},focus:{Feature:VZ},hover:{Feature:HZ}},XZ={layout:{ProjectionNode:w8,MeasureLayout:d8}},Ex={current:null},b8={current:!1};function eJ(){if(b8.current=!0,!!c2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ex.current=t.matches;t.addListener(e),e()}else Ex.current=!1}const tJ=new WeakMap;function nJ(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Cr(i))t.addValue(r,i);else if(Cr(o))t.addValue(r,gp(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,gp(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ui.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=tw(n),this.isVariantNode=$L(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];l[m]!==void 0&&Cr(g)&&g.set(l[m],!1)}}mount(e){this.current=e,tJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b8.current||eJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ex.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Rl(this.notifyUpdate),Rl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&vn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nd){const n=Nd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vM.length;r++){const i=vM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=nJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZN(r)||JN(r))?r=parseFloat(r):!CY(r)&&Ml.test(n)&&(r=NL(e,n)),this.setBaseTarget(e,Cr(r)?r.get():r)),Cr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=D2(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Cr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new m2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class E8 extends rJ{constructor(){super(...arguments),this.KeyframeResolver=mY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _8(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function iJ(t){return window.getComputedStyle(t)}class oJ extends E8{constructor(){super(...arguments),this.type="html",this.renderInstance=_8}readValueFromInstance(e,n){if(nf.has(n))return NW(e,n);{const r=iJ(e),i=(v2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a8(e,n)}build(e,n,r){N2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return F2(e,n,r)}}const x8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sJ(t,e,n,r){_8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(x8.has(i)?i:O2(i),e.attrs[i])}class aJ extends E8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nf.has(n)){const r=OL(n);return r&&r.default||0}return n=x8.has(n)?n:O2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZL(e,n,r)}build(e,n,r){GL(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){sJ(e,n,r,i)}mount(e){this.isSVGTag=YL(e.tagName),super.mount(e)}}const lJ=(t,e)=>B2(t)?new aJ(e):new oJ(e,{allowProjection:t!==Z.Fragment}),cJ=sQ({...MQ,...JZ,...$Z,...XZ},lJ),uJ=RY(cJ),dJ=({children:t,title:e,childConfirmButton:n,cancelButton:r=!0,onCancelAction:i,onConfirmAction:o,statusModal:s=Tn.error,messageError:a="Ocurrio algo inesperado",onReintent:l})=>pe.jsx("div",{className:"min-h-screen absolute",children:pe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center  bg-opacity-50",children:pe.jsxs(uJ.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},whileInView:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"bg-backgroundSecondary rounded-lg shadow-lg p-5 w-full max-h-3/4  sm:w-1/2 overflow-auto",children:[pe.jsxs("div",{className:"px-4  text-lg font-semibold text-colorText  flex justify-between",children:[pe.jsx("span",{className:"font-bold text-colorText",children:e}),pe.jsx(TG,{className:"cursor-pointer",onClick:i})]}),pe.jsxs("div",{className:"px-4 py-6 bg-hintColor rounded-md my-5",children:[s===Tn.success&&t,s===Tn.error&&pe.jsxs("div",{className:"w-full py-10 flex  flex-col justify-center items-center",children:[pe.jsx("span",{className:"text-colorText text-sm text-center mt-5",children:a}),pe.jsx(Qv,{type:"button",onClick:l,children:"Reintentar"})]}),s===Tn.loading&&pe.jsxs("div",{className:"w-full",children:[" ",pe.jsx(jN,{})]})]}),s!==Tn.loading&&pe.jsxs("div",{className:"flex justify-end px-4 py-2 space-x-1",children:[r&&pe.jsx("div",{children:pe.jsx(kG,{type:"button",onClick:i,status:Ar.Enabled,children:"Cerrar"})}),o&&n===void 0?pe.jsx("div",{children:pe.jsx(UN,{type:"button",onClick:o,status:Ar.Enabled,children:"Aceptar"})}):n]})]})})}),OE=({label:t,name:e,type:n="text",placeholder:r="",register:i,error:o,className:s="",maxLength:a=60,minLength:l=void 0,disabled:u=!1,defaultValue:d,helperText:h,step:m})=>pe.jsxs("div",{className:`mb-4 flex flex-col ${s}`,children:[pe.jsx("label",{htmlFor:e,className:"text-colorText",children:t}),pe.jsx("input",{id:e,step:m,type:n,placeholder:r,...i,className:` mt-1 p-2 w-full border bg-backgroundSecondary border-hintColor ${u?"text-colorTextDisabled hover:border-primary ":"text-colorText hover:border-primary "} rounded-md  focus:outline-none`,maxLength:a,minLength:l,disabled:u,defaultValue:d}),o&&pe.jsx("span",{className:"text-red-500 text-sm",children:o.message}),!o&&h&&pe.jsx("span",{className:"text-colorText text-xs",children:h})]}),NE=[{name:"Arbitrum Sepolia",chainId:"421614",chainIdHex:"0x66eee",rpcUrl:["sepolia-rollup.arbitrum.io/rpc"],rpcBlockExplorerUrls:["https://sepolia.arbiscan.io"]},{name:"Scroll",chainId:"534351",chainIdHex:"0x8274f",rpcUrl:["https://sepolia-rpc.scroll.io"],rpcBlockExplorerUrls:["https://sepolia.scrollscan.com"]}],fJ=async()=>{try{const t=new Map;for(let e=0;e<NE.length;e++)t.set(NE[e].chainId,NE[e]);return t}catch(t){throw Error(t)}},hJ={getAll:fJ},pJ=[{inputs:[{internalType:"address",name:"_mxnbWrapper",type:"address"},{internalType:"address",name:"_reputation",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"groupId",type:"bytes32"},{indexed:!1,internalType:"address[]",name:"members",type:"address[]"}],name:"LoanCreated",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allGroupIds",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"members",type:"address[]"},{internalType:"uint256",name:"amountPerMember",type:"uint256"},{internalType:"uint256",name:"termInMonths",type:"uint256"}],name:"createLoanGroup",outputs:[{internalType:"bytes32",name:"groupId",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllLoanGroups",outputs:[{internalType:"address[][]",name:"membersList",type:"address[][]"},{internalType:"uint256[]",name:"totalAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"terms",type:"uint256[]"},{internalType:"uint256[]",name:"startDates",type:"uint256[]"},{internalType:"bytes32[]",name:"ids",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"groupCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"loanGroups",outputs:[{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"term",type:"uint256"},{internalType:"uint256",name:"startDate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mxnb",outputs:[{internalType:"contract MXNBWrapper",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"reputation",outputs:[{internalType:"contract Reputation",name:"",type:"address"}],stateMutability:"view",type:"function"}];var so;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(so||(so={}));var ma;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(ma||(ma={}));const Vr={number:so.BIGINT,bytes:ma.HEX},wt={number:so.HEX,bytes:ma.HEX};var Js;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Js||(Js={}));var Kh;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(Kh||(Kh={}));const U2=Object.getPrototypeOf(Uint8Array);var wM=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bM=Symbol.for("web3/base-provider");class lm{static isWeb3Provider(e){return e instanceof lm||!!(e&&e[bM])}get[bM](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return wM(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(i){return wM(this,void 0,void 0,function*(){return(yield n(i)).result})},e.asEIP1193Provider=void 0,e}}class mJ extends Array{constructor(e){super(),this._accountProvider=e}}const gJ=100,yJ=101,vJ=201,wJ=202,bJ=203,EJ=204,_J=205,xJ=206,SJ=207,AJ=208,CJ=300,kJ=301,TJ=310,IJ=311,PJ=400,RJ=402,MJ=405,OJ=407,NJ=408,LJ=410,BJ=411,DJ=412,FJ=413,jJ=414,UJ=415,$J=416,HJ=417,VJ=418,zJ=419,KJ=420,qJ=421,GJ=422,WJ=423,YJ=424,QJ=425,ZJ=426,JJ=427,XJ=428,eX=429,tX=430,nX=431,rX=432,iX=433,oX=434,sX=435,aX=436,lX=437,cX=438,uX=439,dX=440,fX=441,hX=500,pX=503,mX=505,gX=506,yX=507,vX=600,wX=602,bX=603,EX=604,_X=701,xX=702,SX=703,AX=704,CX=705,kX=706,TX=707,IX=709,PX=801,RX=802,MX=4001,OX=4100,NX=4200,LX=4900,BX=4901,DX=902,FX=903,jX=1001,UX=1002,$X=1003,HX=1004,VX=1005,zX=1006,KX=1008,qX=1009,GX=1010,WX=1011,YX=1012,QX=1014,ZX=1015,JX=1100,S8=1101,XX=1200,Dy=-32700,Fy=-32600,jy=-32601,Uy=-32602,$y=-32603,Hy=-32e3,Vy=-32001,zy=-32002,Ky=-32003,qy=-32004,Gy=-32005,Wy=-32006;class gt extends Error{get innerError(){return this.cause instanceof qh?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new qh(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new qh(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(i,o)=>typeof o=="bigint"?o.toString():o);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class qh extends gt{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=AJ,this.errors=e}}class It extends gt{constructor(e,n){super(`Invalid value given "${gt.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class EM extends gt{constructor(){super("Private key must be 32 bytes."),this.code=_X}}class eee extends gt{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=xX}}class tee extends gt{constructor(e){super(`"${e}"`),this.code=RX}}class A8 extends gt{constructor(){super("Invalid key derivation function"),this.code=SX}}class nee extends gt{constructor(){super("Key derivation failed - possibly wrong password"),this.code=AX}}class ree extends gt{constructor(){super("Unsupported key store version"),this.code=CX}}class iee extends gt{constructor(){super("Password cannot be empty"),this.code=kX}}class oee extends gt{constructor(){super("Initialization vector must be 16 bytes"),this.code=TX}}class see extends gt{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=IX}}class cm extends gt{constructor(e,n){super(e),this.code=hX,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class _x extends cm{constructor(e){super("Connection not open",e),this.code=pX}}class aee extends cm{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=mX}}class lee extends cm{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=gX}}class cee extends cm{constructor(e){super(`Request already sent with following id: ${e}`),this.code=yX}}class zr extends gt{constructor(e,n){super(e),this.code=CJ,this.receipt=n}}class _M extends gt{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=kJ}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class nw extends zr{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new nw(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Fc extends zr{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=TJ,this.cause=new nw(e)}}class uee extends It{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=IJ}}class dee extends gt{constructor(e){super(`ENS is not supported on network ${e}`),this.code=DX}}class fee extends gt{constructor(){super("Network not synced"),this.code=FX}}class xM extends gt{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=SJ}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class xx extends gt{constructor(){super(...arguments),this.code=vJ}}class js extends gt{constructor(){super("The method you're trying to call is not implemented."),this.code=wJ}}class C8 extends gt{constructor(){super(...arguments),this.code=bJ}}class hee extends gt{constructor(){super(...arguments),this.code=EJ}}class Nt extends gt{constructor(e,n){super(e),this.code=_J,this.props=n??{}}}class pee extends gt{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=xJ}}class Lg extends gt{constructor(){super(...arguments),this.code=vX}}class Sx extends gt{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=wX}}class Ks extends gt{constructor(){super(...arguments),this.code=bX}}class mee extends gt{constructor(){super(...arguments),this.code=EX}}class gee extends It{constructor(){super(...arguments),this.code=PX}}class $2 extends gt{constructor(e,n){super(e),this.receipt=n,this.code=PJ}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class Yy extends gt{constructor(e,n,r,i){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${gt.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=i,this.code=RJ}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class k8 extends Yy{constructor(e,n,r,i,o,s,a){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=i,this.signature=o,this.receipt=s,this.data=a,this.code=cX}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class T8 extends $2{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${gt.convertToString(e)}`}`,e),this.code=MJ}}class yee extends $2{constructor(){super("Raw transaction undefined"),this.code=OJ}}class SM extends $2{constructor(){super("Transaction not found"),this.code=tX}}class vee extends It{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=NJ}}class wee extends It{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=lX}}class bee extends It{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=LJ}}class Eee extends It{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=BJ}}class _ee extends It{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=DJ}}class xee extends It{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=sX}}class See extends It{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=aX}}class Aee extends It{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=FJ}}class Cee extends It{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=jJ}}class kee extends gt{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=dX}}class Tee extends It{constructor(e){var n,r,i,o;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(o=e.maxFeePerGas)!==null&&o!==void 0?o:"undefined"}`,'"gas" is missing'),this.code=UJ,this.cause=new kee}}class Iee extends gt{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=fX}}class Pee extends It{constructor(e){var n,r,i,o;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(o=e.maxFeePerGas)!==null&&o!==void 0?o:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=oX,this.cause=new Iee}}class Ree extends It{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=$J}}class Mee extends It{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=HJ}}class Oee extends It{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=VJ}}class I8 extends It{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=zJ}}class Nee extends It{constructor(e){super(e,"invalid transaction object"),this.code=KJ}}class Lee extends It{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=qJ}}class Bee extends It{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=GJ}}class Dee extends It{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=WJ}}class AM extends It{constructor(e){super(e,"unsupported transaction type"),this.code=YJ}}class P8 extends It{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=QJ}}class Fee extends gt{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=nX}}function R8(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class M8 extends gt{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${R8(e.transactionHash)}`),this.code=ZJ}}class O8 extends gt{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${R8(e.transactionHash)}`),this.code=rX}}class jee extends It{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=JJ}}class Uee extends It{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=XJ}}class Ax extends gt{constructor(e){super(`Invalid signature. "${e}"`),this.code=iX}}class CM extends It{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=eX}}class $ee extends gt{constructor(e,n){const r=[];e.forEach(i=>r.push(i.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=uX}}class Cd extends It{constructor(e){super(e,"can not parse as byte data"),this.code=UX}}class H2 extends It{constructor(e){super(e,"can not parse as number data"),this.code=$X}}class V2 extends It{constructor(e){super(e,"invalid ethereum address"),this.code=VX}}class Hee extends It{constructor(e){super(e,"not a valid string"),this.code=jX}}class N8 extends It{constructor(e){super(e,"invalid unit"),this.code=HX}}class L8 extends It{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=ZX}}class Vee extends It{constructor(e){super(e,"can not be converted to hex"),this.code=zX}}class B8 extends It{constructor(e){super(e,"value greater than the nibble width"),this.code=QX}}class z2 extends It{constructor(e){super(e,"not a valid boolean."),this.code=KX}}class zee extends It{constructor(e){super(e,"not a valid unsigned integer."),this.code=qX}}class kM extends It{constructor(e){super(e,"invalid size given."),this.code=GX}}class TM extends It{constructor(e){super(e,"value is larger than size."),this.code=WX}}class Kee extends It{constructor(e){super(e,"invalid string given"),this.code=YX}}const qee=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),IM=t=>qee(t)?t.error.message:"";class ts extends gt{constructor(e,n,r,i){var o;super(n??`Returned error: ${Array.isArray(e)?e.map(a=>IM(a)).join(","):IM(e)}`),this.code=gJ,n||(this.data=Array.isArray(e)?e.map(a=>{var l;return(l=a.error)===null||l===void 0?void 0:l.data}):(o=e==null?void 0:e.error)===null||o===void 0?void 0:o.data),this.statusCode=i,this.request=r;let s;"error"in e?s=e.error:e instanceof Array&&(s=e.filter(a=>a.error).map(a=>a.error)),Array.isArray(s)&&s.length>0?this.cause=new qh(s):this.cause=s}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class rw extends ts{constructor(e,n){super(e,void 0,n),this.code=yJ;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(i=>i.error)),Array.isArray(r)?this.cause=new qh(r):this.cause=r}}class PM extends gt{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=S8}}class RM extends gt{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=S8}}const D8="An Rpc error has occured with a code of *code*",kr={[Dy]:{message:"Parse error",description:"Invalid JSON"},[Fy]:{message:"Invalid request",description:"JSON is not a valid request object	"},[jy]:{message:"Method not found",description:"Method does not exist	"},[Uy]:{message:"Invalid params",description:"Invalid method parameters"},[$y]:{message:"Internal error",description:"Internal JSON-RPC error"},[Hy]:{message:"Invalid input",description:"Missing or invalid parameters"},[Vy]:{message:"Resource not found",description:"Requested resource not found"},[zy]:{message:"Resource unavailable",description:"Requested resource not available"},[Ky]:{message:"Transaction rejected",description:"Transaction creation failed"},[qy]:{message:"Method not supported",description:"Method is not implemented"},[Gy]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[Wy]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[MX]:{name:"User Rejected Request",message:"The user rejected the request."},[OX]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[NX]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[LX]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[BX]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class Ni extends gt{constructor(e,n){super(n??D8.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class Gee extends gt{constructor(e,n){var r,i,o,s;if(!e)super();else if(!((r=kr[e])===null||r===void 0)&&r.message)super(kr[e].message);else{const a=Object.keys(kr).find(l=>typeof l=="string"&&e>=parseInt(l.split("-")[0],10)&&e<=parseInt(l.split("-")[1],10));super((o=(i=kr[a??""])===null||i===void 0?void 0:i.message)!==null&&o!==void 0?o:D8.replace("*code*",(s=e==null?void 0:e.toString())!==null&&s!==void 0?s:'""'))}this.code=e,this.data=n}}class Wee extends Ni{constructor(e){super(e,kr[Dy].message),this.code=Dy}}class Yee extends Ni{constructor(e){super(e,kr[Fy].message),this.code=Fy}}class Qee extends Ni{constructor(e){super(e,kr[jy].message),this.code=jy}}class Zee extends Ni{constructor(e){super(e,kr[Uy].message),this.code=Uy}}class Jee extends Ni{constructor(e){super(e,kr[$y].message),this.code=$y}}class Xee extends Ni{constructor(e){super(e,kr[Hy].message),this.code=Hy}}class ete extends Ni{constructor(e){super(e,kr[qy].message),this.code=qy}}class tte extends Ni{constructor(e){super(e,kr[zy].message),this.code=zy}}class nte extends Ni{constructor(e){super(e,kr[Vy].message),this.code=Vy}}class rte extends Ni{constructor(e){super(e,kr[Wy].message),this.code=Wy}}class ite extends Ni{constructor(e){super(e,kr[Ky].message),this.code=Ky}}class ote extends Ni{constructor(e){super(e,kr[Gy].message),this.code=Gy}}const Kr=new Map;Kr.set(Dy,{error:Wee});Kr.set(Fy,{error:Yee});Kr.set(jy,{error:Qee});Kr.set(Uy,{error:Zee});Kr.set($y,{error:Jee});Kr.set(Hy,{error:Xee});Kr.set(qy,{error:ete});Kr.set(zy,{error:tte});Kr.set(Ky,{error:ite});Kr.set(Vy,{error:nte});Kr.set(Wy,{error:rte});Kr.set(Gy,{error:ote});class ste extends gt{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=XX}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function ai(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function ate(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function lte(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function rf(t,...e){if(!lte(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function K2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ai(t.outputLen),ai(t.blockLen)}function Yc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q2(t,e){rf(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const F8={number:ai,bool:ate,bytes:rf,hash:K2,exists:Yc,output:q2},tg=BigInt(2**32-1),MM=BigInt(32);function cte(t,e=!1){return e?{h:Number(t&tg),l:Number(t>>MM&tg)}:{h:Number(t>>MM&tg)|0,l:Number(t&tg)|0}}function ute(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=cte(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const dte=(t,e,n)=>t<<n|e>>>32-n,fte=(t,e,n)=>e<<n|t>>>32-n,hte=(t,e,n)=>e<<n-32|t>>>64-n,pte=(t,e,n)=>t<<n-32|e>>>64-n,Bg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dg=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Fg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Vo=(t,e)=>t<<32-e|t>>>e,Kt=(t,e)=>t<<e|t>>>32-e>>>0,Qy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,mte=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Zy(t){for(let e=0;e<t.length;e++)t[e]=mte(t[e])}function Ld(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Bd(t){return typeof t=="string"&&(t=Ld(t)),rf(t),t}function Jy(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];rf(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class G2{clone(){return this._cloneInto()}}const gte={}.toString;function j8(t,e){if(e!==void 0&&gte.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function U8(t){const e=r=>t().update(Bd(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $8(t=32){if(Bg&&typeof Bg.getRandomValues=="function")return Bg.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const H8=[],V8=[],z8=[],yte=BigInt(0),sh=BigInt(1),vte=BigInt(2),wte=BigInt(7),bte=BigInt(256),Ete=BigInt(113);for(let t=0,e=sh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],H8.push(2*(5*r+n)),V8.push((t+1)*(t+2)/2%64);let i=yte;for(let o=0;o<7;o++)e=(e<<sh^(e>>wte)*Ete)%bte,e&vte&&(i^=sh<<(sh<<BigInt(o))-sh);z8.push(i)}const[_te,xte]=ute(z8,!0),OM=(t,e,n)=>n>32?hte(t,e,n):dte(t,e,n),NM=(t,e,n)=>n>32?pte(t,e,n):fte(t,e,n);function Ste(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,u=n[l],d=n[l+1],h=OM(u,d,1)^n[a],m=NM(u,d,1)^n[a+1];for(let g=0;g<50;g+=10)t[s+g]^=h,t[s+g+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=V8[s],l=OM(i,o,a),u=NM(i,o,a),d=H8[s];i=t[d],o=t[d+1],t[d]=l,t[d+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=_te[r],t[1]^=xte[r]}n.fill(0)}class W2 extends G2{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ai(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Dg(this.state)}keccak(){Qy||Zy(this.state32),Ste(this.state32,this.rounds),Qy||Zy(this.state32),this.posOut=0,this.pos=0}update(e){Yc(this);const{blockLen:n,state:r}=this;e=Bd(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Yc(this,!1),rf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ai(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new W2(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Ate=(t,e,n)=>U8(()=>new W2(e,t,n)),LM=Ate(1,136,256/8),Xy=F8.bytes;function K8(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function Cte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function kte(t){return e=>(F8.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof Ah<"u"&&typeof Ah.require=="function"&&Ah.require.bind(Ah);return{node:e&&!t?e("crypto"):void 0,web:t}})();const $r=(()=>{const t=kte(LM);return t.create=LM.create,t})();var Ut;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Ut||(Ut={}));var Cx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Cx||(Cx={}));const We=Ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qs=t=>{switch(typeof t){case"undefined":return We.undefined;case"string":return We.string;case"number":return isNaN(t)?We.nan:We.number;case"boolean":return We.boolean;case"function":return We.function;case"bigint":return We.bigint;case"symbol":return We.symbol;case"object":return Array.isArray(t)?We.array:t===null?We.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?We.promise:typeof Map<"u"&&t instanceof Map?We.map:typeof Set<"u"&&t instanceof Set?We.set:typeof Date<"u"&&t instanceof Date?We.date:We.object;default:return We.unknown}},Be=Ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Tte=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ti extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Ti))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ti.create=t=>new Ti(t);const Dd=(t,e)=>{let n;switch(t.code){case Be.invalid_type:t.received===We.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ut.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ut.joinValues(t.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ut.joinValues(t.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Ut.joinValues(t.options)}, received '${t.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ut.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ut.assertNever(t)}return{message:n}};let q8=Dd;function Ite(t){q8=t}function ev(){return q8}const tv=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},Pte=[];function Ve(t,e){const n=ev(),r=tv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Dd?void 0:Dd].filter(i=>!!i)});t.common.issues.push(r)}class Tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return mt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Tr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return mt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const mt=Object.freeze({status:"aborted"}),md=t=>({status:"dirty",value:t}),qr=t=>({status:"valid",value:t}),kx=t=>t.status==="aborted",Tx=t=>t.status==="dirty",Qc=t=>t.status==="valid",Ep=t=>typeof Promise<"u"&&t instanceof Promise;function nv(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function G8(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var nt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(nt||(nt={}));var Eh,_h;class vs{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BM=(t,e)=>{if(Qc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ti(t.common.issues);return this._error=n,this._error}}};function At(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var l,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class kt{get description(){return this._def.description}_getType(e){return Qs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Qs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tr,ctx:{common:e.parent.common,data:e.data,parsedType:Qs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ep(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qs(e)},o=this._parseSync({data:e,path:i.path,parent:i});return BM(i,o)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qs(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return Qc(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>Qc(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qs(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Ep(i)?i:Promise.resolve(i));return BM(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Lo({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ms.create(this,this._def)}nullable(){return Bl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return No.create(this)}promise(){return jd.create(this,this._def)}or(e){return Ap.create([this,e],this._def)}and(e){return Cp.create(this,e,this._def)}transform(e){return new Lo({...At(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Rp({...At(this._def),innerType:this,defaultValue:n,typeName:ht.ZodDefault})}brand(){return new Y2({typeName:ht.ZodBranded,type:this,...At(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Mp({...At(this._def),innerType:this,catchValue:n,typeName:ht.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return um.create(this,e)}readonly(){return Op.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rte=/^c[^\s-]{8,}$/i,Mte=/^[0-9a-z]+$/,Ote=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lte=/^[a-z0-9_-]{21}$/i,Bte=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Dte=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let LE;const Ute=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$te=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zte=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Kte=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,W8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qte=new RegExp(`^${W8}$`);function Y8(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Gte(t){return new RegExp(`^${Y8(t)}$`)}function Q8(t){let e=`${W8}T${Y8(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Wte(t,e){return!!((e==="v4"||!e)&&Ute.test(t)||(e==="v6"||!e)&&Hte.test(t))}function Yte(t,e){if(!Bte.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Qte(t,e){return!!((e==="v4"||!e)&&$te.test(t)||(e==="v6"||!e)&&Vte.test(t))}class Mo extends kt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==We.string){const o=this._getOrReturnCtx(e);return Ve(o,{code:Be.invalid_type,expected:We.string,received:o.parsedType}),mt}const r=new Tr;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?Ve(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Ve(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Fte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"email",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")LE||(LE=new RegExp(jte,"u")),LE.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"emoji",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Nte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"uuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Lte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"nanoid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Rte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"cuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Mte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"cuid2",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Ote.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"ulid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ve(i,{validation:"url",code:Be.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"regex",code:Be.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?Q8(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?qte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Gte(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Dte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"duration",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Wte(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"ip",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Yte(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"jwt",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Qte(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"cidr",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?zte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"base64",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Kte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ve(i,{validation:"base64url",code:Be.invalid_string,message:o.message}),r.dirty()):Ut.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Be.invalid_string,...nt.errToObj(r)})}_addCheck(e){return new Mo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...nt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...nt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...nt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...nt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...nt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...nt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...nt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...nt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...nt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...nt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...nt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...nt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...nt.errToObj(n)})}nonempty(e){return this.min(1,nt.errToObj(e))}trim(){return new Mo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mo.create=t=>{var e;return new Mo({checks:[],typeName:ht.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...At(t)})};function Zte(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class Ol extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==We.number){const o=this._getOrReturnCtx(e);return Ve(o,{code:Be.invalid_type,expected:We.number,received:o.parsedType}),mt}let r;const i=new Tr;for(const o of this._def.checks)o.kind==="int"?Ut.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Zte(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.not_finite,message:o.message}),i.dirty()):Ut.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,nt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,nt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,nt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,nt.toString(n))}setLimit(e,n,r,i){return new Ol({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:nt.toString(i)}]})}_addCheck(e){return new Ol({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ut.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ol.create=t=>new Ol({checks:[],typeName:ht.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...At(t)});class Nl extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==We.bigint)return this._getInvalidInput(e);let r;const i=new Tr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ve(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Ut.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ve(n,{code:Be.invalid_type,expected:We.bigint,received:n.parsedType}),mt}gte(e,n){return this.setLimit("min",e,!0,nt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,nt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,nt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,nt.toString(n))}setLimit(e,n,r,i){return new Nl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:nt.toString(i)}]})}_addCheck(e){return new Nl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nl.create=t=>{var e;return new Nl({checks:[],typeName:ht.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...At(t)})};class _p extends kt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==We.boolean){const r=this._getOrReturnCtx(e);return Ve(r,{code:Be.invalid_type,expected:We.boolean,received:r.parsedType}),mt}return qr(e.data)}}_p.create=t=>new _p({typeName:ht.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...At(t)});class Zc extends kt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==We.date){const o=this._getOrReturnCtx(e);return Ve(o,{code:Be.invalid_type,expected:We.date,received:o.parsedType}),mt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ve(o,{code:Be.invalid_date}),mt}const r=new Tr;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Ve(i,{code:Be.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ut.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:nt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:nt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Zc.create=t=>new Zc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ht.ZodDate,...At(t)});class rv extends kt{_parse(e){if(this._getType(e)!==We.symbol){const r=this._getOrReturnCtx(e);return Ve(r,{code:Be.invalid_type,expected:We.symbol,received:r.parsedType}),mt}return qr(e.data)}}rv.create=t=>new rv({typeName:ht.ZodSymbol,...At(t)});class xp extends kt{_parse(e){if(this._getType(e)!==We.undefined){const r=this._getOrReturnCtx(e);return Ve(r,{code:Be.invalid_type,expected:We.undefined,received:r.parsedType}),mt}return qr(e.data)}}xp.create=t=>new xp({typeName:ht.ZodUndefined,...At(t)});class Sp extends kt{_parse(e){if(this._getType(e)!==We.null){const r=this._getOrReturnCtx(e);return Ve(r,{code:Be.invalid_type,expected:We.null,received:r.parsedType}),mt}return qr(e.data)}}Sp.create=t=>new Sp({typeName:ht.ZodNull,...At(t)});class Fd extends kt{constructor(){super(...arguments),this._any=!0}_parse(e){return qr(e.data)}}Fd.create=t=>new Fd({typeName:ht.ZodAny,...At(t)});class jc extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qr(e.data)}}jc.create=t=>new jc({typeName:ht.ZodUnknown,...At(t)});class ga extends kt{_parse(e){const n=this._getOrReturnCtx(e);return Ve(n,{code:Be.invalid_type,expected:We.never,received:n.parsedType}),mt}}ga.create=t=>new ga({typeName:ht.ZodNever,...At(t)});class iv extends kt{_parse(e){if(this._getType(e)!==We.undefined){const r=this._getOrReturnCtx(e);return Ve(r,{code:Be.invalid_type,expected:We.void,received:r.parsedType}),mt}return qr(e.data)}}iv.create=t=>new iv({typeName:ht.ZodVoid,...At(t)});class No extends kt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==We.array)return Ve(n,{code:Be.invalid_type,expected:We.array,received:n.parsedType}),mt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(Ve(n,{code:s?Be.too_big:Be.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ve(n,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ve(n,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new vs(n,s,n.path,a)))).then(s=>Tr.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new vs(n,s,n.path,a)));return Tr.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new No({...this._def,minLength:{value:e,message:nt.toString(n)}})}max(e,n){return new No({...this._def,maxLength:{value:e,message:nt.toString(n)}})}length(e,n){return new No({...this._def,exactLength:{value:e,message:nt.toString(n)}})}nonempty(e){return this.min(1,e)}}No.create=(t,e)=>new No({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...At(e)});function Ju(t){if(t instanceof mn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ms.create(Ju(r))}return new mn({...t._def,shape:()=>e})}else return t instanceof No?new No({...t._def,type:Ju(t.element)}):t instanceof ms?ms.create(Ju(t.unwrap())):t instanceof Bl?Bl.create(Ju(t.unwrap())):t instanceof ws?ws.create(t.items.map(e=>Ju(e))):t}class mn extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ut.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==We.object){const u=this._getOrReturnCtx(e);return Ve(u,{code:Be.invalid_type,expected:We.object,received:u.parsedType}),mt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof ga&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const d=o[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new vs(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ga){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(Ve(i,{code:Be.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new vs(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,m=await d.value;u.push({key:h,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Tr.mergeObjectSync(r,u)):Tr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return nt.errToObj,new mn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=nt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new mn({...this._def,unknownKeys:"strip"})}passthrough(){return new mn({...this._def,unknownKeys:"passthrough"})}extend(e){return new mn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ht.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new mn({...this._def,catchall:e})}pick(e){const n={};return Ut.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new mn({...this._def,shape:()=>n})}omit(e){const n={};return Ut.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new mn({...this._def,shape:()=>n})}deepPartial(){return Ju(this)}partial(e){const n={};return Ut.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new mn({...this._def,shape:()=>n})}required(e){const n={};return Ut.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof ms;)o=o._def.innerType;n[r]=o}}),new mn({...this._def,shape:()=>n})}keyof(){return Z8(Ut.objectKeys(this.shape))}}mn.create=(t,e)=>new mn({shape:()=>t,unknownKeys:"strip",catchall:ga.create(),typeName:ht.ZodObject,...At(e)});mn.strictCreate=(t,e)=>new mn({shape:()=>t,unknownKeys:"strict",catchall:ga.create(),typeName:ht.ZodObject,...At(e)});mn.lazycreate=(t,e)=>new mn({shape:t,unknownKeys:"strip",catchall:ga.create(),typeName:ht.ZodObject,...At(e)});class Ap extends kt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Ti(a.ctx.common.issues));return Ve(n,{code:Be.invalid_union,unionErrors:s}),mt}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Ti(l));return Ve(n,{code:Be.invalid_union,unionErrors:a}),mt}}get options(){return this._def.options}}Ap.create=(t,e)=>new Ap({options:t,typeName:ht.ZodUnion,...At(e)});const zs=t=>t instanceof Tp?zs(t.schema):t instanceof Lo?zs(t.innerType()):t instanceof Ip?[t.value]:t instanceof Ll?t.options:t instanceof Pp?Ut.objectValues(t.enum):t instanceof Rp?zs(t._def.innerType):t instanceof xp?[void 0]:t instanceof Sp?[null]:t instanceof ms?[void 0,...zs(t.unwrap())]:t instanceof Bl?[null,...zs(t.unwrap())]:t instanceof Y2||t instanceof Op?zs(t.unwrap()):t instanceof Mp?zs(t._def.innerType):[];class iw extends kt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==We.object)return Ve(n,{code:Be.invalid_type,expected:We.object,received:n.parsedType}),mt;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(Ve(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),mt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const s=zs(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new iw({typeName:ht.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...At(r)})}}function Ix(t,e){const n=Qs(t),r=Qs(e);if(t===e)return{valid:!0,data:t};if(n===We.object&&r===We.object){const i=Ut.objectKeys(e),o=Ut.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=Ix(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===We.array&&r===We.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=Ix(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===We.date&&r===We.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Cp extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(kx(o)||kx(s))return mt;const a=Ix(o.value,s.value);return a.valid?((Tx(o)||Tx(s))&&n.dirty(),{status:n.value,value:a.data}):(Ve(r,{code:Be.invalid_intersection_types}),mt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cp.create=(t,e,n)=>new Cp({left:t,right:e,typeName:ht.ZodIntersection,...At(n)});class ws extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==We.array)return Ve(r,{code:Be.invalid_type,expected:We.array,received:r.parsedType}),mt;if(r.data.length<this._def.items.length)return Ve(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mt;!this._def.rest&&r.data.length>this._def.items.length&&(Ve(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new vs(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Tr.mergeArray(n,s)):Tr.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new ws({...this._def,rest:e})}}ws.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ws({items:t,typeName:ht.ZodTuple,rest:null,...At(e)})};class kp extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==We.object)return Ve(r,{code:Be.invalid_type,expected:We.object,received:r.parsedType}),mt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new vs(r,a,r.path,a)),value:s._parse(new vs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Tr.mergeObjectAsync(n,i):Tr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof kt?new kp({keyType:e,valueType:n,typeName:ht.ZodRecord,...At(r)}):new kp({keyType:Mo.create(),valueType:e,typeName:ht.ZodRecord,...At(n)})}}class ov extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==We.map)return Ve(r,{code:Be.invalid_type,expected:We.map,received:r.parsedType}),mt;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new vs(r,a,r.path,[u,"key"])),value:o._parse(new vs(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return mt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}ov.create=(t,e,n)=>new ov({valueType:e,keyType:t,typeName:ht.ZodMap,...At(n)});class Jc extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==We.set)return Ve(r,{code:Be.invalid_type,expected:We.set,received:r.parsedType}),mt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ve(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ve(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return mt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new vs(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new Jc({...this._def,minSize:{value:e,message:nt.toString(n)}})}max(e,n){return new Jc({...this._def,maxSize:{value:e,message:nt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Jc.create=(t,e)=>new Jc({valueType:t,minSize:null,maxSize:null,typeName:ht.ZodSet,...At(e)});class kd extends kt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==We.function)return Ve(n,{code:Be.invalid_type,expected:We.function,received:n.parsedType}),mt;function r(a,l){return tv({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ev(),Dd].filter(u=>!!u),issueData:{code:Be.invalid_arguments,argumentsError:l}})}function i(a,l){return tv({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ev(),Dd].filter(u=>!!u),issueData:{code:Be.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof jd){const a=this;return qr(async function(...l){const u=new Ti([]),d=await a._def.args.parseAsync(l,o).catch(g=>{throw u.addIssue(r(l,g)),u}),h=await Reflect.apply(s,this,d);return await a._def.returns._def.type.parseAsync(h,o).catch(g=>{throw u.addIssue(i(h,g)),u})})}else{const a=this;return qr(function(...l){const u=a._def.args.safeParse(l,o);if(!u.success)throw new Ti([r(l,u.error)]);const d=Reflect.apply(s,this,u.data),h=a._def.returns.safeParse(d,o);if(!h.success)throw new Ti([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kd({...this._def,args:ws.create(e).rest(jc.create())})}returns(e){return new kd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new kd({args:e||ws.create([]).rest(jc.create()),returns:n||jc.create(),typeName:ht.ZodFunction,...At(r)})}}class Tp extends kt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Tp.create=(t,e)=>new Tp({getter:t,typeName:ht.ZodLazy,...At(e)});class Ip extends kt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ve(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),mt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ip.create=(t,e)=>new Ip({value:t,typeName:ht.ZodLiteral,...At(e)});function Z8(t,e){return new Ll({values:t,typeName:ht.ZodEnum,...At(e)})}class Ll extends kt{constructor(){super(...arguments),Eh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ve(n,{expected:Ut.joinValues(r),received:n.parsedType,code:Be.invalid_type}),mt}if(nv(this,Eh)||G8(this,Eh,new Set(this._def.values)),!nv(this,Eh).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ve(n,{received:n.data,code:Be.invalid_enum_value,options:r}),mt}return qr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ll.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ll.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Eh=new WeakMap;Ll.create=Z8;class Pp extends kt{constructor(){super(...arguments),_h.set(this,void 0)}_parse(e){const n=Ut.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==We.string&&r.parsedType!==We.number){const i=Ut.objectValues(n);return Ve(r,{expected:Ut.joinValues(i),received:r.parsedType,code:Be.invalid_type}),mt}if(nv(this,_h)||G8(this,_h,new Set(Ut.getValidEnumValues(this._def.values))),!nv(this,_h).has(e.data)){const i=Ut.objectValues(n);return Ve(r,{received:r.data,code:Be.invalid_enum_value,options:i}),mt}return qr(e.data)}get enum(){return this._def.values}}_h=new WeakMap;Pp.create=(t,e)=>new Pp({values:t,typeName:ht.ZodNativeEnum,...At(e)});class jd extends kt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==We.promise&&n.common.async===!1)return Ve(n,{code:Be.invalid_type,expected:We.promise,received:n.parsedType}),mt;const r=n.parsedType===We.promise?n.data:Promise.resolve(n.data);return qr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}jd.create=(t,e)=>new jd({type:t,typeName:ht.ZodPromise,...At(e)});class Lo extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{Ve(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return mt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?mt:l.status==="dirty"||n.value==="dirty"?md(l.value):l});{if(n.value==="aborted")return mt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?mt:a.status==="dirty"||n.value==="dirty"?md(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?mt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?mt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qc(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Qc(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);Ut.assertNever(i)}}Lo.create=(t,e,n)=>new Lo({schema:t,typeName:ht.ZodEffects,effect:e,...At(n)});Lo.createWithPreprocess=(t,e,n)=>new Lo({schema:e,effect:{type:"preprocess",transform:t},typeName:ht.ZodEffects,...At(n)});class ms extends kt{_parse(e){return this._getType(e)===We.undefined?qr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ms.create=(t,e)=>new ms({innerType:t,typeName:ht.ZodOptional,...At(e)});class Bl extends kt{_parse(e){return this._getType(e)===We.null?qr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bl.create=(t,e)=>new Bl({innerType:t,typeName:ht.ZodNullable,...At(e)});class Rp extends kt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===We.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rp.create=(t,e)=>new Rp({innerType:t,typeName:ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...At(e)});class Mp extends kt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ep(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ti(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ti(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Mp.create=(t,e)=>new Mp({innerType:t,typeName:ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...At(e)});class sv extends kt{_parse(e){if(this._getType(e)!==We.nan){const r=this._getOrReturnCtx(e);return Ve(r,{code:Be.invalid_type,expected:We.nan,received:r.parsedType}),mt}return{status:"valid",value:e.data}}}sv.create=t=>new sv({typeName:ht.ZodNaN,...At(t)});const Jte=Symbol("zod_brand");class Y2 extends kt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class um extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?mt:o.status==="dirty"?(n.dirty(),md(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?mt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new um({in:e,out:n,typeName:ht.ZodPipeline})}}class Op extends kt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Qc(i)&&(i.value=Object.freeze(i.value)),i);return Ep(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Op.create=(t,e)=>new Op({innerType:t,typeName:ht.ZodReadonly,...At(e)});function DM(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function J8(t,e={},n){return t?Fd.create().superRefine((r,i)=>{var o,s;const a=t(r);if(a instanceof Promise)return a.then(l=>{var u,d;if(!l){const h=DM(e,r),m=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...h,fatal:m})}});if(!a){const l=DM(e,r),u=(s=(o=l.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:u})}}):Fd.create()}const Xte={object:mn.lazycreate};var ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ht||(ht={}));const ene=(t,e={message:`Input not instance of ${t.name}`})=>J8(n=>n instanceof t,e),X8=Mo.create,eB=Ol.create,tne=sv.create,nne=Nl.create,tB=_p.create,rne=Zc.create,ine=rv.create,one=xp.create,sne=Sp.create,ane=Fd.create,lne=jc.create,cne=ga.create,une=iv.create,dne=No.create,fne=mn.create,hne=mn.strictCreate,pne=Ap.create,mne=iw.create,gne=Cp.create,yne=ws.create,vne=kp.create,wne=ov.create,bne=Jc.create,Ene=kd.create,_ne=Tp.create,xne=Ip.create,Sne=Ll.create,Ane=Pp.create,Cne=jd.create,FM=Lo.create,kne=ms.create,Tne=Bl.create,Ine=Lo.createWithPreprocess,Pne=um.create,Rne=()=>X8().optional(),Mne=()=>eB().optional(),One=()=>tB().optional(),Nne={string:t=>Mo.create({...t,coerce:!0}),number:t=>Ol.create({...t,coerce:!0}),boolean:t=>_p.create({...t,coerce:!0}),bigint:t=>Nl.create({...t,coerce:!0}),date:t=>Zc.create({...t,coerce:!0})},Lne=mt;var zo=Object.freeze({__proto__:null,defaultErrorMap:Dd,setErrorMap:Ite,getErrorMap:ev,makeIssue:tv,EMPTY_PATH:Pte,addIssueToContext:Ve,ParseStatus:Tr,INVALID:mt,DIRTY:md,OK:qr,isAborted:kx,isDirty:Tx,isValid:Qc,isAsync:Ep,get util(){return Ut},get objectUtil(){return Cx},ZodParsedType:We,getParsedType:Qs,ZodType:kt,datetimeRegex:Q8,ZodString:Mo,ZodNumber:Ol,ZodBigInt:Nl,ZodBoolean:_p,ZodDate:Zc,ZodSymbol:rv,ZodUndefined:xp,ZodNull:Sp,ZodAny:Fd,ZodUnknown:jc,ZodNever:ga,ZodVoid:iv,ZodArray:No,ZodObject:mn,ZodUnion:Ap,ZodDiscriminatedUnion:iw,ZodIntersection:Cp,ZodTuple:ws,ZodRecord:kp,ZodMap:ov,ZodSet:Jc,ZodFunction:kd,ZodLazy:Tp,ZodLiteral:Ip,ZodEnum:Ll,ZodNativeEnum:Pp,ZodPromise:jd,ZodEffects:Lo,ZodTransformer:Lo,ZodOptional:ms,ZodNullable:Bl,ZodDefault:Rp,ZodCatch:Mp,ZodNaN:sv,BRAND:Jte,ZodBranded:Y2,ZodPipeline:um,ZodReadonly:Op,custom:J8,Schema:kt,ZodSchema:kt,late:Xte,get ZodFirstPartyTypeKind(){return ht},coerce:Nne,any:ane,array:dne,bigint:nne,boolean:tB,date:rne,discriminatedUnion:mne,effect:FM,enum:Sne,function:Ene,instanceof:ene,intersection:gne,lazy:_ne,literal:xne,map:wne,nan:tne,nativeEnum:Ane,never:cne,null:sne,nullable:Tne,number:eB,object:fne,oboolean:One,onumber:Mne,optional:kne,ostring:Rne,pipeline:Pne,preprocess:Ine,promise:Cne,record:vne,set:bne,strictObject:hne,string:X8,symbol:ine,transformer:FM,tuple:yne,undefined:one,union:pne,unknown:lne,void:une,NEVER:Lne,ZodIssueCode:Be,quotelessJson:Tte,ZodError:Ti});const Bne=t=>t.message?t.message:"unspecified error";class Ud extends gt{constructor(e){super(),this.code=JX,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(Bne)}}const Dne=["bool","int","uint","bytes","string","address","tuple"],nB=t=>typeof t=="object"&&"type"in t&&"name"in t,Q2=t=>typeof t=="string",qt=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function rB(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const av=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function Z2(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const J2=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},Fne=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],hu=t=>{let e=t.replace(/ /,""),n,r=!1,i=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),i=[...t.matchAll(/(?:\[(\d*)\])/g)].map(o=>parseInt(o[1],10)).map(o=>Number.isNaN(o)?-1:o),r=i.length>0),Dne.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i}},BE=(t,e={})=>{if(Object.keys(e).includes("type"))throw new Ud([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:i}=hu(t);if(!r&&!Fne.includes(t))throw new Ud([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${i??""}`,required:!0}}return t?{format:t,required:!0}:{}},lv=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,i]of t.entries()){let o,s,a=[];nB(i)?(o=i.type,s=i.name||`${e}/${r}`,a=i.components):typeof i=="string"?(o=i,s=`${e}/${r}`):Array.isArray(i)&&(i[0]&&typeof i[0]=="string"&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(o=i[0],s=`${e}/${r}`,a=i[1]):(o="tuple",s=`${e}/${r}`,a=i));const{baseType:l,isArray:u,arraySizes:d}=hu(o);let h,m=n;for(let g=d.length-1;g>0;g-=1)h={type:"array",$id:s,items:[],maxItems:d[g],minItems:d[g]},d[g]<0&&(delete h.maxItems,delete h.minItems),Array.isArray(m.items)?m.items.length===0?m.items=[h]:m.items.push(h):m.items=[m.items,h],m=h;if(l==="tuple"&&!u){const g=lv(a,s);g.$id=s,m.items.push(g)}else if(l==="tuple"&&u){const g=d[0],b=Object.assign({type:"array",$id:s,items:lv(a,s)},g>=0&&{minItems:g,maxItems:g});m.items.push(b)}else if(u){const g=d[0],b=Object.assign({type:"array",$id:s,items:BE(o)},g>=0&&{minItems:g,maxItems:g});m.items.push(b)}else Array.isArray(m.items)?m.items.push(Object.assign({$id:s},BE(o))):m.items.push(Object.assign({$id:s},BE(o)));m=n}return n},X2=t=>lv(t),eA=(t,e)=>e===1?t:eA(t[0],e-1),Gh=(t,e,n)=>{const r=[];for(const[i,o]of t.entries()){let s,a,l=[];nB(o)?(s=o.type,a=o.name,l=o.components):typeof o=="string"?s=o:Array.isArray(o)&&(o[1]&&Array.isArray(o[1])?(s=o[0],l=o[1]):(s="tuple",l=o));const{baseType:u,isArray:d,arraySizes:h}=hu(s),m=Array.isArray(e)?e[i]:e[a];if(u==="tuple"&&!d)r.push(Gh(l,m,n));else if(u==="tuple"&&d){const g=[];for(const b of m)if(h.length>1){const w=eA(b,h.length-1),E=[];for(const y of w)E.push(Gh(l,y,n));g.push(E)}else g.push(Gh(l,b,n));r.push(g)}else r.push(m)}return n=n??[],n.push(...r),n},iB=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},ow=t=>{if(!qt(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},sw=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&qt(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!qt(t))return sw(BigInt(t));throw new H2(t)},cv=(t,e,n="0")=>{if(typeof t=="string"&&!qt(t))return t.padStart(e,n);const r=typeof t=="string"&&qt(t)?t:sw(t),[i,o]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${i}${o.padStart(e,n)}`};function ba(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const Us={zero:48,nine:57,A:65,F:70,a:97,f:102};function jM(t){if(t>=Us.zero&&t<=Us.nine)return t-Us.zero;if(t>=Us.A&&t<=Us.F)return t-(Us.A-10);if(t>=Us.a&&t<=Us.f)return t-(Us.a-10)}function pu(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new Cd(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let i=0,o=e;i<n;i+=1){const s=jM(t.charCodeAt(o++)),a=jM(t.charCodeAt(o++));if(s===void 0||a===void 0)throw new Cd(`Invalid byte sequence ("${t[o-2]}${t[o-1]}" in "${t}").`);r[i]=s*16+a}return r}function aw(t){var e;return!(t instanceof Uint8Array)&&((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const oB=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:lv,codePointToInt:iB,ensureIfUint8Array:aw,ethAbiToJsonSchema:X2,fetchArrayElement:eA,hexToNumber:ow,hexToUint8Array:pu,numberToHex:sw,padLeft:cv,parseBaseType:hu,transformJsonDataToAbiFormat:Gh,uint8ArrayToHexString:ba},Symbol.toStringTag,{value:"Module"})),Px=t=>{var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},Hl=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!Px(t)||typeof t=="string"&&qt(t)&&t.startsWith("-")||typeof t=="string"&&!qt(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=pu(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e!=null&&e.abiType){const{baseTypeSize:r}=hu(e.abiType);return r?n.length===r:!0}return e!=null&&e.size?n.length===(e==null?void 0:e.size):!0},sB=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Ld(e.toLowerCase()),r=ba($r(aw(n))).slice(2);for(let i=0;i<40;i+=1)if(parseInt(r[i],16)>7&&e[i].toUpperCase()!==e[i]||parseInt(r[i],16)<=7&&e[i].toLowerCase()!==e[i])return!1;return!0},Ri=(t,e=!0)=>{if(typeof t!="string"&&!Px(t))return!1;let n;return Px(t)?n=ba(t):typeof t=="string"&&!qt(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?sB(n):!0:!1},Xc=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},ya=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:i}=hu(e.abiType);i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=Xc(BigInt(2),BigInt(n??256))-BigInt(1);try{const i=typeof t=="string"&&qt(t)?BigInt(ow(t)):BigInt(t);return i>=0&&i<=r}catch{return!1}},Np=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:o,baseType:s}=hu(e.abiType);if(s!=="int")return!1;o&&(n=o)}else e.bitSize&&(n=e.bitSize);const r=Xc(BigInt(2),BigInt((n??256)-1)),i=BigInt(-1)*Xc(BigInt(2),BigInt((n??256)-1));try{const o=typeof t=="string"&&qt(t)?BigInt(ow(t)):BigInt(t);return o>=i&&o<=r}catch{return!1}},aB=t=>!!(Np(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),lB=t=>ya(t),er=t=>Object.values(Js).includes(t),Rx=t=>er(t)||lB(t),of=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),lw=(t,e)=>{if(typeof e=="string"&&!qt(e)||!of(t))return!1;const n=typeof e=="string"?pu(e):e,r=ba($r(n)).slice(2);for(let i=0;i<12;i+=4){const o=(parseInt(r.slice(i,i+2),16)<<8)+parseInt(r.slice(i+2,i+4),16)&2047,s=iB(t.charCodeAt(t.length-1-Math.floor(o/4))),a=1<<o%4;if((s&a)!==a)return!1}return!0},jne=(t,e)=>{if(!of(t)||!Ri(e))return!1;const n=cv(e,64);return lw(t,n)},Une=(t,e)=>!of(t)||!Ri(e)?!1:lw(t,e),$ne=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!qt(t)?t==="1"||t==="0":typeof t=="string"&&qt(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,ye=t=>t==null,$d=t=>typeof t=="object"&&!ye(t)&&!Array.isArray(t)&&!(t instanceof U2),uv=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),Hne=(t,e)=>!of(t)||!uv(e)?!1:lw(t,e),Vne=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(ye(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!ye(t.fromBlock)&&!Rx(t.fromBlock)||!ye(t.toBlock)&&!Rx(t.toBlock))return!1;if(!ye(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>Ri(n)))return!1}else if(!Ri(t.address))return!1}return!(!ye(t.topics)&&!t.topics.every(n=>ye(n)?!0:Array.isArray(n)?n.every(r=>uv(r)):!!uv(n)))},eu={address:t=>Ri(t),bloom:t=>of(t),blockNumber:t=>lB(t),blockTag:t=>er(t),blockNumberOrTag:t=>Rx(t),bool:t=>$ne(t),bytes:t=>Hl(t),filter:t=>Vne(t),hex:t=>qt(t),uint:t=>ya(t),int:t=>Np(t),number:t=>aB(t),string:t=>Q2(t)};for(let t=8;t<=256;t+=8)eu[`int${t}`]=e=>Np(e,{bitSize:t}),eu[`uint${t}`]=e=>ya(e,{bitSize:t});for(let t=1;t<=32;t+=1)eu[`bytes${t}`]=e=>Hl(e,{size:t});eu.bytes256=eu.bytes;const xh=t=>{if((!(t!=null&&t.type)||(t==null?void 0:t.type)==="object")&&(t!=null&&t.properties)){const e={};for(const n of Object.keys(t.properties)){const r=xh(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?zo.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):zo.object(e).partial()}if((t==null?void 0:t.type)==="array"&&(t!=null&&t.items)){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const i of t.items){const o=xh(i);o&&r.push(o)}return zo.tuple(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=zo.array(xh(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return zo.union(t.oneOf.map(e=>xh(e)));if(t!=null&&t.format){if(!eu[t.format])throw new ste(t.format);return zo.any().refine(eu[t.format],e=>({params:{value:e,format:t.format}}))}return t!=null&&t.type&&(t==null?void 0:t.type)!=="object"&&typeof zo[String(t.type)]=="function"?zo[String(t.type)]():zo.object({data:zo.any()}).partial()};class gd{static factory(){return gd.validatorInstance||(gd.validatorInstance=new gd),gd.validatorInstance}validate(e,n,r){var i,o;const a=xh(e).safeParse(n);if(!a.success){const l=this.convertErrors((o=(i=a.error)===null||i===void 0?void 0:i.issues)!==null&&o!==void 0?o:[]);if(l){if(r!=null&&r.silent)return l;throw new Ud(l)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let i,o,s,a;a=n.path.join("/");const l=String(n.path[n.path.length-1]),u=n.path.join("/");if(n.code===Be.too_big)o="maxItems",a=`${u}/maxItems`,s={limit:n.maximum},i=`must NOT have more than ${n.maximum} items`;else if(n.code===Be.too_small)o="minItems",a=`${u}/minItems`,s={limit:n.minimum},i=`must NOT have fewer than ${n.minimum} items`;else if(n.code===Be.custom){const{value:d,format:h}=(r=n.params)!==null&&r!==void 0?r:{};typeof d>"u"?i=`value at "/${a}" is required`:i=`value "${typeof d=="object"?JSON.stringify(d):d}" at "/${a}" must pass "${h}" validation`,s={value:d}}return{keyword:o??l,instancePath:u?`/${u}`:"",schemaPath:a?`#${a}`:"#",params:s??{value:n.message},message:i??n.message}})}}class zne{constructor(){this._validator=gd.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var i,o;const s=X2(e);if(!(Array.isArray(s.items)&&((i=s.items)===null||i===void 0?void 0:i.length)===0&&n.length===0)){if(Array.isArray(s.items)&&((o=s.items)===null||o===void 0?void 0:o.length)===0&&n.length!==0)throw new Ud([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(s,n,r)}}}const ct=new zne;function Vl(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function Gr(...t){const e=t.reduce((i,o)=>i+o.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function cw(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const uw={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},Mx="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",bs=t=>{if(ct.validate(["bytes"],[t]),Vl(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return pu(t);throw new Cd(t)},{uint8ArrayToHexString:Kne}=oB,Rt=t=>Kne(bs(t)),on=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?bs(`0x${t}`):bs(t),dm=t=>(ct.validate(["hex"],[t]),ow(t)),qne=dm,Vn=(t,e)=>{typeof t!="bigint"&&ct.validate(["int"],[t]);let n=sw(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},Gne=Vn,Wne=t=>dm(t).toString(),Bo=t=>{ct.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),Rt(new TextEncoder().encode(e))},cB=Bo,Yne=Bo,dw=t=>K8(on(t)),Qne=t=>typeof t=="string"?dw(t):(ct.validate(["bytes"],[t]),K8(t)),tA=Ld,Zne=dw,uB=t=>{ct.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},Jne=uB,dB=t=>new TextDecoder("ascii").decode(on(t)),Xne=dB,va=(t,e)=>{if(typeof t=="string"&&Ri(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":Vn(t);if(typeof t=="bigint")return e?"bigint":Vn(t);if(Vl(t))return e?"bytes":Rt(t);if(typeof t=="object"&&t)return e?"string":Bo(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":Vn(t);if(qt(t))return e?"bytes":t;if(av(t)&&!Np(t)&&!ya(t))return e?"bytes":`0x${t}`;if(av(t)&&!Np(t)&&ya(t))return e?"uint":Vn(t);if(!Number.isFinite(t))return e?"string":Bo(t)}throw new Vee(t)},di=t=>{if(typeof t=="number")return t>1e20?(console.warn(Mx),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&qt(t))return dm(t);try{return di(BigInt(t))}catch{throw new H2(t)}},Pc=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&av(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new H2(t)},ere=(t,e)=>{let n;if(typeof e=="string"){if(n=uw[e],!n)throw new N8(e)}else{if(e<0||!Number.isInteger(e))throw new L8(e);n=Xc(BigInt(10),BigInt(e))}const r=String(di(t)),i=n.toString().length-1;if(i<=0)return r.toString();const o=r.padStart(i,"0"),s=o.slice(0,-i),a=o.slice(-i).replace(/\.?0+$/,"");return s===""?a?`0.${a}`:"0":a===""?s:`${s}.${a}`.slice(0,s.length+i+1)},tre=(t,e)=>{ct.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=uw[e],!n)throw new N8(e)}else{if(e<0||!Number.isInteger(e))throw new L8(e);n=Xc(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(Mx),r>1e20?(console.warn(Mx),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[i,o]=String(typeof r=="string"&&!qt(r)?r:di(r)).split(".").concat(""),a=BigInt(`${i}${o}`)*n,l=o.length;return l===0?a.toString():a.toString().slice(0,-l)},xs=t=>{if(!Ri(t,!1))throw new V2(t);const e=t.toLowerCase().replace(/^0x/i,""),n=ba($r(aw(tA(e))));if(ye(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let o=0;o<e.length;o+=1)parseInt(i[o],16)>7?r+=e[o].toUpperCase():r+=e[o];return r},fB=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!qt(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&qt(t)&&(t==="0x1"||t==="0x0"))return!!di(t);throw new z2(t)};var DE={exports:{}},UM;function nre(){return UM||(UM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||l,m),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,b=new Array(g);m<g;m++)b[m]=h[m].fn;return b},a.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,d,h,m,g,b){var w=n?n+u:u;if(!this._events[w])return!1;var E=this._events[w],y=arguments.length,_,x;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),y){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,m),!0;case 5:return E.fn.call(E.context,d,h,m,g),!0;case 6:return E.fn.call(E.context,d,h,m,g,b),!0}for(x=1,_=new Array(y-1);x<y;x++)_[x-1]=arguments[x];E.fn.apply(E.context,_)}else{var P=E.length,M;for(x=0;x<P;x++)switch(E[x].once&&this.removeListener(u,E[x].fn,void 0,!0),y){case 1:E[x].fn.call(E[x].context);break;case 2:E[x].fn.call(E[x].context,d);break;case 3:E[x].fn.call(E[x].context,d,h);break;case 4:E[x].fn.call(E[x].context,d,h,m);break;default:if(!_)for(M=1,_=new Array(y-1);M<y;M++)_[M-1]=arguments[M];E[x].fn.apply(E[x].context,_)}}return!0},a.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},a.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},a.prototype.removeListener=function(u,d,h,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return s(this,g),this;var b=this._events[g];if(b.fn)b.fn===d&&(!m||b.once)&&(!h||b.context===h)&&s(this,g);else{for(var w=0,E=[],y=b.length;w<y;w++)(b[w].fn!==d||m&&!b[w].once||h&&b[w].context!==h)&&E.push(b[w]);E.length?this._events[g]=E.length===1?E[0]:E:s(this,g)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(DE)),DE.exports}var rre=nre();const hB=Gp(rre);class nA extends hB{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const ire=qt,ore=av,sre=sB,are=Ri,lre=of,cre=lw,ure=jne,dre=Une,fre=uv,hre=Hne,pre=(t,e)=>{const n=typeof t=="string"&&er(t),r=typeof e=="string"&&er(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const s={[Js.EARLIEST]:1,[Js.FINALIZED]:2,[Js.SAFE]:3,[Js.LATEST]:4,[Js.PENDING]:5};return s[t]<s[e]?-1:1}if(n&&!r||!n&&r)throw new Kee("Cannot compare blocktag with provided non-blocktag input.");const i=BigInt(t),o=BigInt(e);return i<o?-1:i===o?0:1},bl=t=>typeof t=="object"&&!ye(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),ft=ye,$M=t=>typeof t=="object"&&!ye(t)&&!Array.isArray(t)&&!(t instanceof U2),zl=(t,...e)=>{if(!$M(t))return t;const n=Object.assign({},t);for(const r of e)for(const i in r)$M(r[i])?(n[i]||(n[i]={}),n[i]=zl(n[i],r[i])):!ye(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof U2?n[i]=r[i].slice(0):n[i]=r[i]);return n},Hd=(t,e,n="0")=>typeof t=="string"?qt(t)?cv(t,e,n):t.padStart(e,n):(ct.validate(["int"],[t]),cv(t,e,n)),pB=(t,e,n="0")=>{if(typeof t=="string"&&!qt(t))return t.padEnd(e,n);const r=typeof t=="string"&&qt(t)?t:Vn(t),i=r.startsWith("-")?3:2;return ct.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+i,n)},mB=pB,Lp=Hd,gB=(t,e=64)=>{ct.validate(["int"],[t]);const n=di(t);if(n>=0)return Hd(va(n),e);const r=Xc(BigInt(2),BigInt(e*4));if(-n>=r)throw new B8(`value: ${t}, nibbleWidth: ${e}`);const o=BigInt(n)+r;return Hd(Vn(o),e)},mre=(t,e=64)=>{ct.validate(["int"],[t]);const n=di(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new B8(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const i=Xc(BigInt(2),BigInt(e)*BigInt(4));return di(BigInt(n)-i)},{parseBaseType:gre}=oB,Zs=t=>typeof t=="object"&&!ye(t)&&"number"in t&&"bytes"in t,yre=(t,e,n=[])=>{let r=Object.assign({},t),i;for(const o of e){if(r.oneOf&&i){const s=i,a=n.find(([l])=>l===s);a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[o]:r.items&&r.items.properties?r=r.items.properties[o]:r.items&&$d(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(o,10)]),r&&o&&(i=o)}return r},Bp=(t,e,n)=>{try{const{baseType:r,baseTypeSize:i}=gre(e);if(r==="int"||r==="uint")switch(n.number){case so.NUMBER:return Number(Pc(t));case so.HEX:return Vn(Pc(t));case so.STR:return Pc(t).toString();case so.BIGINT:return Pc(t);default:throw new xx(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let o;switch(i?typeof t=="string"?o=Hd(t,i*2):Vl(t)&&(o=Gr(new Uint8Array(i-t.length),t)):o=t,n.bytes){case ma.HEX:return Rt(bs(o));case ma.UINT8ARRAY:return bs(o);default:throw new xx(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},HM=({value:t,schemaProp:e,schema:n,object:r,key:i,dataPath:o,format:s,oneOfPath:a=[]})=>{var l,u;if(Array.isArray(t)){let d=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((h,m)=>{var g,b;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((g=h==null?void 0:h.items)===null||g===void 0?void 0:g.type)==="object"||typeof t[0]=="string"&&((b=h==null?void 0:h.items)===null||b===void 0?void 0:b.type)!=="object")&&(d=h,a.push([i,m]))}),ye(d==null?void 0:d.items))return delete r[i],o.pop(),!0;if($d(d.items)&&!ye(d.items.format)){for(let h=0;h<t.length;h+=1)r[i][h]=Bp(t[h],(l=d==null?void 0:d.items)===null||l===void 0?void 0:l.format,s);return o.pop(),!0}if(!Array.isArray(d==null?void 0:d.items)&&((u=d==null?void 0:d.items)===null||u===void 0?void 0:u.type)==="object"){for(const h of t)fw(h,n,o,s,a);return o.pop(),!0}if(Array.isArray(d==null?void 0:d.items)){for(let h=0;h<t.length;h+=1)r[i][h]=Bp(t[h],d.items[h].format,s);return o.pop(),!0}}return!1},fw=(t,e,n,r,i=[])=>{var o;if(!$d(t)&&!Array.isArray(t))return Bp(t,e==null?void 0:e.format,r);const s=t;if(Array.isArray(s)&&(e==null?void 0:e.type)==="array"&&((o=e==null?void 0:e.items)===null||o===void 0?void 0:o.type)==="object")HM({value:s,schemaProp:e,schema:e,object:s,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,l]of Object.entries(s)){n.push(a);let u=yre(e,n,i);if(ye(u)){delete s[a],n.pop();continue}if($d(l)){fw(l,e,n,r,i),n.pop();continue}if(!HM({value:l,schemaProp:u,schema:e,object:s,key:a,dataPath:n,format:r,oneOfPath:i})){if((u==null?void 0:u.format)===void 0&&(u==null?void 0:u.oneOf)!==void 0){for(const[d,h]of u.oneOf.entries())if((h==null?void 0:h.format)!==void 0){u=h;break}}s[a]=Bp(l,u.format,r),n.pop()}}return s},Le=(t,e,n=Vr)=>{let r;$d(e)?r=zl({},e):Array.isArray(e)?r=[...e]:r=e;const i=$d(t)?t:X2(t);if(!i.properties&&!i.items&&!i.format)throw new xx("Invalid json schema for formatting");return fw(r,i,[],n)},yB="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Vd=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Ld(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!qt(t)?e=Ld(t):e=bs(t),Rt($r(aw(e)))},fm=t=>{let e;typeof t=="string"?t.startsWith("0x")&&qt(t)?e=on(t):e=Ld(t):e=t;const n=Vd(e);return n===yB?void 0:n},Mi=t=>{const e=fm(t);return ye(e)?yB:e},vre=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=va(t,!0),n=va(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=Pc(n)),[e,n]},wre=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,FE=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},VM=t=>t.toString(2).length,zM=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return Bo(e);throw new Hee(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new z2(e)}if(t==="address"){if(!Ri(n))throw new V2(n);return n}const r=wre(t);if(t.startsWith("uint")){const i=FE(r,4);if(i%8||i<8||i>256)throw new kM(n);const o=di(n);if(VM(o)>i)throw new TM(n);if(o<BigInt(0))throw new zee(n);return i?Lp(o.toString(16),i/8*2):o.toString(16)}if(t.startsWith("int")){const i=FE(r,3);if(i%8||i<8||i>256)throw new kM(t);const o=di(n);if(VM(o)>i)throw new TM(n);return o<BigInt(0)?gB(o.toString(),i/8*2):i?Lp(o.toString(16),i/4):o.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new Cd(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new Cd(n);const i=FE(t,5);if(!i||i<1||i>64||i<n.replace(/^0x/i,"").length/2)throw new Cd(n);return mB(n,i*2)}return""},vB=t=>{const[e,n]=vre(t);return Array.isArray(n)?n.map(o=>zM(e,o).replace("0x","")).join(""):zM(e,n).replace("0x","")},rA=(...t)=>`0x${t.map(vB).join("").toLowerCase()}`,bre=(...t)=>fm(rA(...t)),Ere=(...t)=>Mi(rA(...t)),_re=t=>fm(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function xre(t){return $8(t)}const Dp=t=>xre(t),Sre=t=>Rt(Dp(t));var hw=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function wB(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function bB(t,e,n){return hw(this,void 0,void 0,function*(){let r;const i=yield Promise.race([t instanceof Promise?t:t(),new Promise((o,s)=>{r=setTimeout(()=>n?s(n):o(void 0),e)})]);if(r&&clearTimeout(r),i instanceof Error)throw i;return i})}function iA(t,e){let n;return[new Promise((i,o)=>{n=setInterval(function s(){return hw(this,void 0,void 0,function*(){try{const a=yield bB(t,e);ye(a)||(clearInterval(n),i(a))}catch(a){clearInterval(n),o(a)}}),s}(),e)}),n]}function Are(t,e){return hw(this,void 0,void 0,function*(){return iA(t,e)[0]})}function oA(t,e){let n;const r=new Promise((i,o)=>{n=setTimeout(()=>{o(e)},t)});return[n,r]}function EB(t,e){let n;const r=new Promise((i,o)=>{n=setInterval(()=>{hw(this,void 0,void 0,function*(){const s=yield t();s&&(clearInterval(n),o(s))})},e)});return[n,r]}const sA=()=>{const t=Dp(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Rt(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},aA=t=>{const e=t.error.code;return Kr.has(e)||e>=-32099&&e<=-32e3},Sl=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&ye(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),Al=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&ye(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),pw=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!ye(t.params)&&!ye(t.method),_B=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,dv=t=>Sl(t)||Al(t),lA=t=>Array.isArray(t)?t.every(dv):dv(t),Fp=t=>Array.isArray(t)&&t.length>0&&lA(t);let jg;const xB=t=>{jg=t},tu=t=>{var e,n,r,i;return typeof jg<"u"&&(jg+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:jg)!==null&&r!==void 0?r:sA(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}},cA=t=>t.map(e=>tu(e)),Yo=t=>Array.isArray(t)&&t.length>0,Cre=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:Yo,isBatchResponse:Fp,isResponseRpcError:aA,isResponseWithError:Al,isResponseWithNotification:pw,isResponseWithResult:Sl,isSubscriptionResult:_B,isValidResponse:lA,setRequestIdStart:xB,toBatchPayload:cA,toPayload:tu,validateResponse:dv},Symbol.toStringTag,{value:"Module"}));var jE=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},SB;class fv{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[SB]="Promise",this._state="pending",this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return jE(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return jE(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return jE(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new C8(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}SB=Symbol.toStringTag;class AB{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let o=i;this.lastChunk&&(o=this.lastChunk+o);let s;try{s=JSON.parse(o)}catch{this.lastChunk=o,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new rw({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,s&&n.push(s)}),n}}var KM=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uA extends lm{constructor(){super(...arguments),this._eventEmitter=new hB,this._chainId="",this._accounts=[]}_getChainId(){return KM(this,void 0,void 0,function*(){var e;const n=yield this.request(tu({method:"eth_chainId",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:""})}_getAccounts(){return KM(this,void 0,void 0,function*(){var e;const n=yield this.request(tu({method:"eth_accounts",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new Gee(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var UE=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const kre={autoReconnect:!0,delay:5e3,maxAttempts:5},Tre=1e3;class CB extends uA{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new Sx(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},kre),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new AB(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new cm(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new Sx(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??Tre;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return UE(this,arguments,void 0,function*(r,i,o=!1,s=1e3){let a=0;yield UE(this,void 0,void 0,function*(){return new Promise(u=>{const d=setInterval(()=>{o&&a>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(d),u(!0)),a+=1},s)})}),this.disconnect(r,i)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new lee),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new aee(this._reconnectOptions.maxAttempts))))}request(e){return UE(this,void 0,void 0,function*(){if(ft(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=Yo(e)?e[0].id:e.id;if(!n)throw new mee("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new cee(n);const r=new fv;r.catch(o=>{this._eventEmitter.emit("error",o)});const i={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,i),i.deferredPromise;this._sentRequestsQueue.set(n,i);try{this._sendToSocket(i.payload)}catch(o){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",o)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(ft(n)||n.length===0))for(const r of n){if(pw(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const i=Fp(r)?r[0].id:r.id,o=this._sentRequestsQueue.get(i);if(!o)return;(Fp(r)||Sl(r)||Al(r))&&(this._eventEmitter.emit("message",r),o.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(i)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new _x(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new _x(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const kB=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:AB,Eip1193Provider:uA,EventEmitter:nA,SocketProvider:CB,Web3DeferredPromise:fv,asciiToHex:uB,bytesToHex:Rt,bytesToUint8Array:bs,checkAddressCheckSum:sre,compareBlockNumbers:pre,convert:fw,convertScalarValue:Bp,encodePacked:rA,ethUnitMap:uw,format:Le,fromAscii:Jne,fromDecimal:Gne,fromTwosComplement:mre,fromUtf8:cB,fromWei:ere,getStorageSlotNumForLongString:_re,hexToAscii:dB,hexToBytes:on,hexToNumber:dm,hexToNumberString:Wne,hexToString:Zne,hexToUtf8:dw,isAddress:are,isBatchRequest:Yo,isBatchResponse:Fp,isBloom:lre,isContractAddressInBloom:dre,isContractInitOptions:bl,isDataFormat:Zs,isHex:ore,isHexStrict:ire,isInBloom:cre,isNullish:ft,isPromise:wB,isResponseRpcError:aA,isResponseWithError:Al,isResponseWithNotification:pw,isResponseWithResult:Sl,isSubscriptionResult:_B,isTopic:fre,isTopicInBloom:hre,isUint8Array:Vl,isUserEthereumAddressInBloom:ure,isValidResponse:lA,jsonRpc:Cre,keccak256:Vd,keccak256Wrapper:Vd,leftPad:Lp,mergeDeep:zl,numberToHex:Vn,padLeft:Hd,padRight:pB,pollTillDefined:Are,pollTillDefinedAndReturnIntervalId:iA,processSolidityEncodePackedArgs:vB,randomBytes:Dp,randomHex:Sre,rejectIfConditionAtInterval:EB,rejectIfTimeout:oA,rightPad:mB,setRequestIdStart:xB,sha3:fm,sha3Raw:Mi,soliditySha3:bre,soliditySha3Raw:Ere,stringToHex:Yne,toAscii:Xne,toBatchPayload:cA,toBigInt:Pc,toBool:fB,toChecksumAddress:xs,toDecimal:qne,toHex:va,toNumber:di,toPayload:tu,toTwosComplement:gB,toUtf8:Qne,toWei:tre,uint8ArrayConcat:Gr,uint8ArrayEquals:cw,utf8ToBytes:tA,utf8ToHex:Bo,uuidV4:sA,validateResponse:dv,waitWithTimeout:bB},Symbol.toStringTag,{value:"Module"}));class mw{constructor(){this._emitter=new nA}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var nu;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(nu||(nu={}));class Ire extends mw{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:va(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Vr,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!ft(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!ft(this.config.defaultCommon)&&!ft(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new RM(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!ft(this.config.defaultCommon)&&!ft(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new PM(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!ft(this.config.defaultHardfork)&&!ft(e)&&!ft(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new PM(this.config.defaultHardfork,e.hardfork);if(!ft(this.config.defaultChain)&&!ft(e)&&!ft(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new RM(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(nu.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var ng={exports:{}},qM;function Pre(){return qM||(qM=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof nd<"u"&&nd,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof nd<"u"&&nd||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(S){return S&&DataView.prototype.isPrototypeOf(S)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(S){return S&&d.indexOf(Object.prototype.toString.call(S))>-1};function m(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function g(S){return typeof S!="string"&&(S=String(S)),S}function b(S){var T={next:function(){var R=S.shift();return{done:R===void 0,value:R}}};return l.iterable&&(T[Symbol.iterator]=function(){return T}),T}function w(S){this.map={},S instanceof w?S.forEach(function(T,R){this.append(R,T)},this):Array.isArray(S)?S.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(T){this.append(T,S[T])},this)}w.prototype.append=function(S,T){S=m(S),T=g(T);var R=this.map[S];this.map[S]=R?R+", "+T:T},w.prototype.delete=function(S){delete this.map[m(S)]},w.prototype.get=function(S){return S=m(S),this.has(S)?this.map[S]:null},w.prototype.has=function(S){return this.map.hasOwnProperty(m(S))},w.prototype.set=function(S,T){this.map[m(S)]=g(T)},w.prototype.forEach=function(S,T){for(var R in this.map)this.map.hasOwnProperty(R)&&S.call(T,this.map[R],R,this)},w.prototype.keys=function(){var S=[];return this.forEach(function(T,R){S.push(R)}),b(S)},w.prototype.values=function(){var S=[];return this.forEach(function(T){S.push(T)}),b(S)},w.prototype.entries=function(){var S=[];return this.forEach(function(T,R){S.push([R,T])}),b(S)},l.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function E(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}}function y(S){return new Promise(function(T,R){S.onload=function(){T(S.result)},S.onerror=function(){R(S.error)}})}function _(S){var T=new FileReader,R=y(T);return T.readAsArrayBuffer(S),R}function x(S){var T=new FileReader,R=y(T),B=/charset=([A-Za-z0-9_-]+)/.exec(S.type),F=B?B[1]:"utf-8";return T.readAsText(S,F),R}function P(S){for(var T=new Uint8Array(S),R=new Array(T.length),B=0;B<T.length;B++)R[B]=String.fromCharCode(T[B]);return R.join("")}function M(S){if(S.slice)return S.slice(0);var T=new Uint8Array(S.byteLength);return T.set(new Uint8Array(S)),T.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:l.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:l.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():l.arrayBuffer&&l.blob&&u(S)?(this._bodyArrayBuffer=M(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||h(S))?this._bodyArrayBuffer=M(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var S=E(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=E(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var S=E(this);if(S)return S;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var K=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function j(S){var T=S.toUpperCase();return K.indexOf(T)>-1?T:S}function G(S,T){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var R=T.body;if(S instanceof G){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,T.headers||(this.headers=new w(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!R&&S._bodyInit!=null&&(R=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new w(T.headers)),this.method=j(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in a){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function V(S){var T=new FormData;return S.trim().split("&").forEach(function(R){if(R){var B=R.split("="),F=B.shift().replace(/\+/g," "),U=B.join("=").replace(/\+/g," ");T.append(decodeURIComponent(F),decodeURIComponent(U))}}),T}function W(S){var T=new w,R=S.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var F=B.split(":"),U=F.shift().trim();if(U){var D=F.join(":").trim();try{T.append(U,D)}catch(O){console.warn("Response "+O.message)}}}),T}L.call(G.prototype);function q(S,T){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new w(T.headers),this.url=T.url||"",this._initBody(S)}L.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},q.error=function(){var S=new q(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S};var k=[301,302,303,307,308];q.redirect=function(S,T){if(k.indexOf(T)===-1)throw new RangeError("Invalid status code");return new q(null,{status:T,headers:{location:S}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(T,R){this.message=T,this.name=R;var B=Error(T);this.stack=B.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function C(S,T){return new Promise(function(R,B){var F=new G(S,T);if(F.signal&&F.signal.aborted)return B(new s.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function D(){U.abort()}U.onload=function(){var H={statusText:U.statusText,headers:W(U.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(U.status<200||U.status>599)?H.status=200:H.status=U.status,H.url="responseURL"in U?U.responseURL:H.headers.get("X-Request-URL");var z="response"in U?U.response:U.responseText;setTimeout(function(){R(new q(z,H))},0)},U.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){B(new s.DOMException("Aborted","AbortError"))},0)};function O(H){try{return H===""&&a.location.href?a.location.href:H}catch{return H}}if(U.open(F.method,O(F.url),!0),F.credentials==="include"?U.withCredentials=!0:F.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(l.blob?U.responseType="blob":l.arrayBuffer&&(U.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof w||a.Headers&&T.headers instanceof a.Headers)){var N=[];Object.getOwnPropertyNames(T.headers).forEach(function(H){N.push(m(H)),U.setRequestHeader(H,g(T.headers[H]))}),F.headers.forEach(function(H,z){N.indexOf(z)===-1&&U.setRequestHeader(z,H)})}else F.headers.forEach(function(H,z){U.setRequestHeader(z,H)});F.signal&&(F.signal.addEventListener("abort",D),U.onreadystatechange=function(){U.readyState===4&&F.signal.removeEventListener("abort",D)}),U.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return C.polyfill=!0,a.fetch||(a.fetch=C,a.Headers=w,a.Request=G,a.Response=q),s.Headers=w,s.Request=G,s.Response=q,s.fetch=C,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(ng,ng.exports)),ng.exports}var Rre=Pre();const Mre=Gp(Rre);var Ore=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class gw extends lm{constructor(e,n){if(super(),!gw.validateClientUrl(e))throw new Sx(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new js}supportsSubscriptions(){return!1}request(e,n){var r;return Ore(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),o=yield Mre(this.clientUrl,Object.assign(Object.assign({},i),{method:"POST",headers:Object.assign(Object.assign({},i.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!o.ok)throw new ts(yield o.json(),void 0,void 0,o.status);return yield o.json()})}on(){throw new js}removeListener(){throw new js}once(){throw new js}removeAllListeners(){throw new js}connect(){throw new js}disconnect(){throw new js}reset(){throw new js}reconnect(){throw new js}}var Xu=null;typeof WebSocket<"u"?Xu=WebSocket:typeof MozWebSocket<"u"?Xu=MozWebSocket:typeof global<"u"?Xu=global.WebSocket||global.MozWebSocket:typeof window<"u"?Xu=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Xu=self.WebSocket||self.MozWebSocket);const Nre=Xu;class TB extends CB{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!ft(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new Nre(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new _x;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,i;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",o=>this._onCloseHandler(o)),(i=this._socketConnection)===null||i===void 0||i.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const IB=t=>lm.isWeb3Provider(t),PB=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",RB=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",MB=t=>typeof t!="string"&&"send"in t,OB=t=>typeof t!="string"&&"sendAsync"in t,hv=t=>t&&(IB(t)||RB(t)||PB(t)||OB(t)||MB(t)),Lre=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var $E=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},zd;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(zd||(zd={}));const GM={HttpProvider:gw,WebsocketProvider:TB};class Uc extends mw{constructor(e,n,r){super(),ft(e)||this.setProvider(e),this.useRpcCallSpecification=n,ft(r)||(this.middleware=r)}static get providers(){return GM}get provider(){return this._provider}get providers(){return GM}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new Lg(`Can't autodetect provider for "${e}"`);else ft(e)?n=void 0:n=e;return this.emit(zd.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(zd.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return $E(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(ft(this.middleware)||(r=yield this.middleware.processResponse(r)),Sl(r))return r.result;throw new ts(r)})}sendBatch(e){return $E(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return $E(this,void 0,void 0,function*(){const{provider:n}=this;if(ft(n))throw new Lg("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=Yo(e)?cA(e):tu(e);if(ft(this.middleware)||(r=yield this.middleware.processRequest(r)),IB(n)){let i;try{i=yield n.request(r)}catch(o){i=o}return this._processJsonRpcResponse(r,i,{legacy:!1,error:!1})}if(RB(n))return n.request(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));if(PB(n))return new Promise((i,o)=>{const s=u=>{o(this._processJsonRpcResponse(r,u,{legacy:!0,error:!0}))},a=u=>i(this._processJsonRpcResponse(r,u,{legacy:!0,error:!1})),l=n.request(r,(u,d)=>u?s(u):a(d));wB(l)&&l.then(a).catch(d=>{try{const h=this._processJsonRpcResponse(r,d,{legacy:!0,error:!0});o(h)}catch(h){o(h)}})});if(MB(n))return new Promise((i,o)=>{n.send(r,(s,a)=>{if(s)return o(this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));if(ft(a))throw new ts({},'Got a "nullish" response from provider.');return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!1}))})});if(OB(n))return n.sendAsync(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));throw new Lg("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:i}){if(ft(n))return this._buildResponse(e,null,i);if(Al(n)){if(this.useRpcCallSpecification&&aA(n)){const o=n;if(Kr.get(o.error.code)){const s=Kr.get(o.error.code).error;throw new s(o)}else throw new Ni(o)}else if(!Uc._isReverted(n))throw new rw(n,e)}if(Sl(n))return n;if(n instanceof Error)throw Uc._isReverted(n),n;if(!r&&Yo(e)&&Fp(n)||r&&!i&&Yo(e))return n;if(r&&i&&Yo(e))throw n;if(r&&!Al(n)&&!Sl(n))return this._buildResponse(e,n,i);throw Yo(e)&&!Array.isArray(n)?new ts(n,"Got normal response for a batch request."):!Yo(e)&&Array.isArray(n)?new ts(n,"Got batch response for a normal request."):new ts(n,"Invalid response")}static _isReverted(e){let n;if(Al(e)?n=e.error:e instanceof Error&&(n=e),n!=null&&n.message.includes("revert"))throw new Fc(n);return!1}_buildResponse(e,n,r){const i={jsonrpc:"2.0",id:Yo(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},i),{error:n}):Object.assign(Object.assign({},i),{result:n})}}var ah=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class pv{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(zd.BEFORE_PROVIDER_CHANGE,()=>ah(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(zd.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof(e==null?void 0:e.supportsSubscriptions)=="function"&&!(e!=null&&e.supportsSubscriptions())||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,i;if(!e)throw new Ks("Should not call messageListener with no data. Type was");const o=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((i=e.id)===null||i===void 0?void 0:i.toString(16));if(o){const s=this._subscriptions.get(o);s==null||s.processSubscriptionData(e)}}subscribe(e,n){return ah(this,arguments,void 0,function*(r,i,o=Vr){const s=this.registeredSubscriptions[r];if(!s)throw new Ks("Invalid subscription type");const a=new s(i??void 0,{subscriptionManager:this,returnFormat:o});return yield this.addSubscription(a),a})}get subscriptions(){return this._subscriptions}addSubscription(e){return ah(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new Lg("Provider not available");if(!this.supportsSubscriptions())throw new Ks("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new Ks(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),ft(e.id))throw new Ks("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return ah(this,void 0,void 0,function*(){const{id:n}=e;if(ft(n))throw new Ks("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new Ks(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return ah(this,void 0,void 0,function*(){const n=[];for(const[r,i]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:i}))&&n.push(this.removeSubscription(i));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return ft(this.requestManager.provider)?!1:Lre(this.requestManager.provider)}}var lh=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class hm extends mw{constructor(e,n){var r;super(),this.args=e;const{requestManager:i}=n,{subscriptionManager:o}=n;i?this._subscriptionManager=new pv(i,{},!0):this._subscriptionManager=o,this._returnFormat=(r=n==null?void 0:n.returnFormat)!==null&&r!==void 0?r:Vr}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return lh(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e!=null&&e.data?this._processSubscriptionResult((r=(n=e==null?void 0:e.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e==null?void 0:e.data):e&&pw(e)&&this._processSubscriptionResult(e==null?void 0:e.params.result)}sendSubscriptionRequest(){return lh(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return lh(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return lh(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return lh(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var Hu=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class mv extends mJ{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!ye(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return ye(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return ye(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return Hu(this,void 0,void 0,function*(){return Promise.all(this.map(r=>Hu(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return Hu(this,void 0,void 0,function*(){const i=yield Promise.all(e.map(o=>Hu(this,void 0,void 0,function*(){return this._accountProvider.decrypt(o,n,r)})));for(const o of i)this.add(o);return this})}save(e,n){return Hu(this,void 0,void 0,function*(){const r=mv.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return Hu(this,void 0,void 0,function*(){const r=mv.getStorage();if(!r)throw new Error("Local storage not available.");const i=r.getItem(n??this._defaultKeyName);return i&&(yield this.decrypt(JSON.parse(i)||[],e)),this})}}const ls={web:Bg};function NB(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function LB(t,e,n){if(!ls.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await ls.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function dA(t,e,n,r="aes-128-ctr",i=!0){if(NB(e,n,r),ls.web){const[o,s]=await LB(r,e,n),a=await ls.web.subtle.encrypt(s,o,t);let l=new Uint8Array(a);return!i&&s.name==="aes-cbc"&&!(t.length%16)&&(l=l.slice(0,-16)),l}else if(ls.node){const o=ls.node.createCipheriv(r,e,n);return o.setAutoPadding(i),Jy(o.update(t),o.final())}else throw new Error("The environment doesn't have AES module")}async function Bre(t,e,n,r){const i=t.slice(-16);for(let s=0;s<16;s++)i[s]^=n[s]^16;return(await dA(i,e,n,r)).slice(0,16)}async function Dre(t,e,n,r="aes-128-ctr",i=!0){if(NB(e,n,r),ls.web){const[o,s]=await LB(r,e,n);if(!i&&s.name==="aes-cbc"){const u=await Bre(t,e,n,r);t=Jy(t,u)}const a=await ls.web.subtle.decrypt(s,o,t),l=new Uint8Array(a);if(s.name==="aes-cbc"){const u=await dA(l,e,n,r);if(!Cte(u,t))throw new Error("AES: wrong padding")}return l}else if(ls.node){const o=ls.node.createDecipheriv(r,e,n);return o.setAutoPadding(i),Jy(o.update(t),o.final())}else throw new Error("The environment doesn't have AES module")}class BB extends G2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,K2(e);const r=Bd(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Yc(this),this.iHash.update(e),this}digestInto(e){Yc(this),rf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fA=(t,e,n)=>new BB(t,e).update(n).digest();fA.create=(t,e)=>new BB(t,e);function Fre(t,e,n,r){K2(t);const i=j8({dkLen:32,asyncTick:10},r),{c:o,dkLen:s,asyncTick:a}=i;if(ai(o),ai(s),ai(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Bd(e),u=Bd(n),d=new Uint8Array(s),h=fA.create(t,l),m=h._cloneInto().update(u);return{c:o,dkLen:s,asyncTick:a,DK:d,PRF:h,PRFSalt:m}}function jre(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function hA(t,e,n,r){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:l}=Fre(t,e,n,r);let u;const d=new Uint8Array(4),h=Fg(d),m=new Uint8Array(a.outputLen);for(let g=1,b=0;b<o;g++,b+=a.outputLen){const w=s.subarray(b,b+a.outputLen);h.setInt32(0,g,!1),(u=l._cloneInto(u)).update(d).digestInto(m),w.set(m.subarray(0,w.length));for(let E=1;E<i;E++){a._cloneInto(u).update(m).digestInto(m);for(let y=0;y<w.length;y++)w[y]^=m[y]}}return jre(a,l,s,u,m)}function Ure(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,a,r)}const $re=(t,e,n)=>t&e^~t&n,Hre=(t,e,n)=>t&e^t&n^e&n;class Vre extends G2{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Fg(this.buffer)}update(e){Yc(this);const{view:n,buffer:r,blockLen:i}=this;e=Bd(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Fg(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yc(this),q2(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let h=s;h<i;h++)n[h]=0;Ure(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Fg(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,d[h],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const zre=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ja=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xa=new Uint32Array(64);class Kre extends Vre{constructor(){super(64,32,8,!1),this.A=Ja[0]|0,this.B=Ja[1]|0,this.C=Ja[2]|0,this.D=Ja[3]|0,this.E=Ja[4]|0,this.F=Ja[5]|0,this.G=Ja[6]|0,this.H=Ja[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)Xa[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=Xa[h-15],g=Xa[h-2],b=Vo(m,7)^Vo(m,18)^m>>>3,w=Vo(g,17)^Vo(g,19)^g>>>10;Xa[h]=w+Xa[h-7]+b+Xa[h-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:d}=this;for(let h=0;h<64;h++){const m=Vo(a,6)^Vo(a,11)^Vo(a,25),g=d+m+$re(a,l,u)+zre[h]+Xa[h]|0,w=(Vo(r,2)^Vo(r,13)^Vo(r,22))+Hre(r,i,o)|0;d=u,u=l,l=a,a=s+g|0,s=o,o=i,i=r,r=g+w|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,u,d)}roundClean(){Xa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const yw=U8(()=>new Kre);function DB(t,e,n,r,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return Xy(t),Xy(e),hA(yw,t,e,{c:n,dkLen:r})}function WM(t,e,n,r,i,o){let s=t[e++]^n[r++],a=t[e++]^n[r++],l=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],h=t[e++]^n[r++],m=t[e++]^n[r++],g=t[e++]^n[r++],b=t[e++]^n[r++],w=t[e++]^n[r++],E=t[e++]^n[r++],y=t[e++]^n[r++],_=t[e++]^n[r++],x=t[e++]^n[r++],P=t[e++]^n[r++],M=t[e++]^n[r++],L=s,K=a,j=l,G=u,V=d,W=h,q=m,k=g,C=b,S=w,T=E,R=y,B=_,F=x,U=P,D=M;for(let O=0;O<8;O+=2)V^=Kt(L+B|0,7),C^=Kt(V+L|0,9),B^=Kt(C+V|0,13),L^=Kt(B+C|0,18),S^=Kt(W+K|0,7),F^=Kt(S+W|0,9),K^=Kt(F+S|0,13),W^=Kt(K+F|0,18),U^=Kt(T+q|0,7),j^=Kt(U+T|0,9),q^=Kt(j+U|0,13),T^=Kt(q+j|0,18),G^=Kt(D+R|0,7),k^=Kt(G+D|0,9),R^=Kt(k+G|0,13),D^=Kt(R+k|0,18),K^=Kt(L+G|0,7),j^=Kt(K+L|0,9),G^=Kt(j+K|0,13),L^=Kt(G+j|0,18),q^=Kt(W+V|0,7),k^=Kt(q+W|0,9),V^=Kt(k+q|0,13),W^=Kt(V+k|0,18),R^=Kt(T+S|0,7),C^=Kt(R+T|0,9),S^=Kt(C+R|0,13),T^=Kt(S+C|0,18),B^=Kt(D+U|0,7),F^=Kt(B+D|0,9),U^=Kt(F+B|0,13),D^=Kt(U+F|0,18);i[o++]=s+L|0,i[o++]=a+K|0,i[o++]=l+j|0,i[o++]=u+G|0,i[o++]=d+V|0,i[o++]=h+W|0,i[o++]=m+q|0,i[o++]=g+k|0,i[o++]=b+C|0,i[o++]=w+S|0,i[o++]=E+T|0,i[o++]=y+R|0,i[o++]=_+B|0,i[o++]=x+F|0,i[o++]=P+U|0,i[o++]=M+D|0}function HE(t,e,n,r,i){let o=r+0,s=r+16*i;for(let a=0;a<16;a++)n[s+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,o+=16,e+=16)WM(n,s,t,e,n,o),a>0&&(s+=16),WM(n,o,t,e+=16,n,s)}function qre(t,e,n){const r=j8({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:o,p:s,dkLen:a,asyncTick:l,maxmem:u,onProgress:d}=r;if(ai(i),ai(o),ai(s),ai(a),ai(l),ai(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const h=128*o,m=h/4;if(i<=1||(i&i-1)!==0||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const g=h*(i+s);if(g>u)throw new Error(`Scrypt: parameters too large, ${g} (128 * r * (N + p)) > ${u} (maxmem)`);const b=hA(yw,t,e,{c:1,dkLen:h*s}),w=Dg(b),E=Dg(new Uint8Array(h*i)),y=Dg(new Uint8Array(h));let _=()=>{};if(d){const x=2*i*s,P=Math.max(Math.floor(x/1e4),1);let M=0;_=()=>{M++,d&&(!(M%P)||M===x)&&d(M/x)}}return{N:i,r:o,p:s,dkLen:a,blockSize32:m,V:E,B32:w,B:b,tmp:y,blockMixCb:_,asyncTick:l}}function Gre(t,e,n,r,i){const o=hA(yw,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),i.fill(0),o}function Wre(t,e,n){const{N:r,r:i,p:o,dkLen:s,blockSize32:a,V:l,B32:u,B:d,tmp:h,blockMixCb:m}=qre(t,e,n);Qy||Zy(u);for(let g=0;g<o;g++){const b=a*g;for(let w=0;w<a;w++)l[w]=u[b+w];for(let w=0,E=0;w<r-1;w++)HE(l,E,l,E+=a,i),m();HE(l,(r-1)*a,u,b,i),m();for(let w=0;w<r;w++){const E=u[b+a-16]%r;for(let y=0;y<a;y++)h[y]=u[b+y]^l[E*a+y];HE(h,0,u,b,i),m()}}return Qy||Zy(u),Gre(t,s,d,l,h)}function FB(t,e,n,r,i,o,s){return Xy(t),Xy(e),Wre(t,e,{N:n,r:i,p:r,dkLen:o,onProgress:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jB=BigInt(0),vw=BigInt(1),Yre=BigInt(2);function ru(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function pm(t){if(!ru(t))throw new Error("Uint8Array expected")}const Qre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kd(t){pm(t);let e="";for(let n=0;n<t.length;n++)e+=Qre[t[n]];return e}function UB(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function pA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const $s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function YM(t){if(t>=$s._0&&t<=$s._9)return t-$s._0;if(t>=$s._A&&t<=$s._F)return t-($s._A-10);if(t>=$s._a&&t<=$s._f)return t-($s._a-10)}function qd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=YM(t.charCodeAt(o)),a=YM(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function $c(t){return pA(Kd(t))}function mA(t){return pm(t),pA(Kd(Uint8Array.from(t).reverse()))}function Gd(t,e){return qd(t.toString(16).padStart(e*2,"0"))}function gA(t,e){return Gd(t,e).reverse()}function Zre(t){return qd(UB(t))}function Ao(t,e,n){let r;if(typeof e=="string")try{r=qd(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(ru(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function jp(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];pm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function Jre(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Xre(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function eie(t){let e;for(e=0;t>jB;t>>=vw,e+=1);return e}function tie(t,e){return t>>BigInt(e)&vw}function nie(t,e,n){return t|(n?vw:jB)<<BigInt(e)}const yA=t=>(Yre<<BigInt(t-1))-vw,VE=t=>new Uint8Array(t),QM=t=>Uint8Array.from(t);function $B(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=VE(t),i=VE(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...h)=>n(i,r,...h),l=(h=VE())=>{i=a(QM([0]),h),r=a(),h.length!==0&&(i=a(QM([1]),h),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=a();const g=r.slice();m.push(g),h+=r.length}return jp(...m)};return(h,m)=>{s(),l(h);let g;for(;!(g=m(u()));)l();return s(),g}}const rie={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ru(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function mm(t,e,n={}){const r=(i,o,s)=>{const a=rie[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const iie=Object.freeze(Object.defineProperty({__proto__:null,abytes:pm,bitGet:tie,bitLen:eie,bitMask:yA,bitSet:nie,bytesToHex:Kd,bytesToNumberBE:$c,bytesToNumberLE:mA,concatBytes:jp,createHmacDrbg:$B,ensureBytes:Ao,equalBytes:Jre,hexToBytes:qd,hexToNumber:pA,isBytes:ru,numberToBytesBE:Gd,numberToBytesLE:gA,numberToHexUnpadded:UB,numberToVarBytesBE:Zre,utf8ToBytes:Xre,validateObject:mm},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xn=BigInt(0),In=BigInt(1),wc=BigInt(2),oie=BigInt(3),Ox=BigInt(4),ZM=BigInt(5),JM=BigInt(8);BigInt(9);BigInt(16);function si(t,e){const n=t%e;return n>=Xn?n:e+n}function sie(t,e,n){if(n<=Xn||e<Xn)throw new Error("Expected power/modulo > 0");if(n===In)return Xn;let r=In;for(;e>Xn;)e&In&&(r=r*t%n),t=t*t%n,e>>=In;return r}function Ki(t,e,n){let r=t;for(;e-- >Xn;)r*=r,r%=n;return r}function Nx(t,e){if(t===Xn||e<=Xn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=si(t,e),r=e,i=Xn,o=In;for(;n!==Xn;){const a=r/n,l=r%n,u=i-o*a;r=n,n=l,i=o,o=u}if(r!==In)throw new Error("invert: does not exist");return si(i,e)}function aie(t){const e=(t-In)/wc;let n,r,i;for(n=t-In,r=0;n%wc===Xn;n/=wc,r++);for(i=wc;i<t&&sie(i,e,t)!==t-In;i++);if(r===1){const s=(t+In)/Ox;return function(l,u){const d=l.pow(u,s);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(n+In)/wc;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,d=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,o),m=a.pow(l,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let g=1;for(let w=a.sqr(m);g<u&&!a.eql(w,a.ONE);g++)w=a.sqr(w);const b=a.pow(d,In<<BigInt(u-g-1));d=a.sqr(b),h=a.mul(h,b),m=a.mul(m,d),u=g}return h}}function lie(t){if(t%Ox===oie){const e=(t+In)/Ox;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%JM===ZM){const e=(t-ZM)/JM;return function(r,i){const o=r.mul(i,wc),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,wc),s),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return aie(t)}const cie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uie(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cie.reduce((r,i)=>(r[i]="function",r),e);return mm(t,n)}function die(t,e,n){if(n<Xn)throw new Error("Expected power > 0");if(n===Xn)return t.ONE;if(n===In)return e;let r=t.ONE,i=e;for(;n>Xn;)n&In&&(r=t.mul(r,i)),i=t.sqr(i),n>>=In;return r}function fie(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function HB(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function hie(t,e,n=!1,r={}){if(t<=Xn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=HB(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=lie(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:yA(i),ZERO:Xn,ONE:In,create:l=>si(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Xn<=l&&l<t},is0:l=>l===Xn,isOdd:l=>(l&In)===In,neg:l=>si(-l,t),eql:(l,u)=>l===u,sqr:l=>si(l*l,t),add:(l,u)=>si(l+u,t),sub:(l,u)=>si(l-u,t),mul:(l,u)=>si(l*u,t),pow:(l,u)=>die(a,l,u),div:(l,u)=>si(l*Nx(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Nx(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>fie(a,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?gA(l,o):Gd(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?mA(l):$c(l)}});return Object.freeze(a)}function VB(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function zB(t){const e=VB(t);return e+Math.ceil(e/2)}function pie(t,e,n=!1){const r=t.length,i=VB(e),o=zB(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?$c(t):mA(t),a=si(s,e-In)+In;return n?gA(a,i):Gd(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mie=BigInt(0),zE=BigInt(1);function gie(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>mie;)o&zE&&(s=s.add(a)),a=a.double(),o>>=zE;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let u=i,d=u;for(let h=0;h<s;h++){d=u,l.push(d);for(let m=1;m<a;m++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let u=t.ZERO,d=t.BASE;const h=BigInt(2**i-1),m=2**i,g=BigInt(i);for(let b=0;b<a;b++){const w=b*l;let E=Number(s&h);s>>=g,E>l&&(E-=m,s+=zE);const y=w,_=w+Math.abs(E)-1,x=b%2!==0,P=E<0;E===0?d=d.add(n(x,o[y])):u=u.add(n(P,o[_]))}return{p:u,f:d}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let u=o.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&o.set(i,a(u))),this.wNAF(l,u,s)}}}function KB(t){return uie(t.Fp),mm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...HB(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yie(t){const e=KB(t);mm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:vie,hexToBytes:wie}=iie,Rc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Rc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:vie(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Rc,n=typeof t=="string"?wie(t):t;pm(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Rc._parseInt(n.subarray(2)),{d:s,l:a}=Rc._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},Xs=BigInt(0),eo=BigInt(1);BigInt(2);const XM=BigInt(3);BigInt(4);function bie(t){const e=yie(t),{Fp:n}=e,r=e.toBytes||((b,w,E)=>{const y=w.toAffine();return jp(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),i=e.fromBytes||(b=>{const w=b.subarray(1),E=n.fromBytes(w.subarray(0,n.BYTES)),y=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:E,y}});function o(b){const{a:w,b:E}=e,y=n.sqr(b),_=n.mul(y,b);return n.add(n.add(_,n.mul(b,w)),E)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(b){return typeof b=="bigint"&&Xs<b&&b<e.n}function a(b){if(!s(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(b){const{allowedPrivateKeyLengths:w,nByteLength:E,wrapPrivateKey:y,n:_}=e;if(w&&typeof b!="bigint"){if(ru(b)&&(b=Kd(b)),typeof b!="string"||!w.includes(b.length))throw new Error("Invalid key");b=b.padStart(E*2,"0")}let x;try{x=typeof b=="bigint"?b:$c(Ao("private key",b,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof b}`)}return y&&(x=si(x,_)),a(x),x}const u=new Map;function d(b){if(!(b instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(w,E,y){if(this.px=w,this.py=E,this.pz=y,w==null||!n.isValid(w))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(w){const{x:E,y}=w||{};if(!w||!n.isValid(E)||!n.isValid(y))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const _=x=>n.eql(x,n.ZERO);return _(E)&&_(y)?h.ZERO:new h(E,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const E=n.invertBatch(w.map(y=>y.pz));return w.map((y,_)=>y.toAffine(E[_])).map(h.fromAffine)}static fromHex(w){const E=h.fromAffine(i(Ao("pointHex",w)));return E.assertValidity(),E}static fromPrivateKey(w){return h.BASE.multiply(l(w))}_setWindowSize(w){this._WINDOW_SIZE=w,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:E}=this.toAffine();if(!n.isValid(w)||!n.isValid(E))throw new Error("bad point: x or y not FE");const y=n.sqr(E),_=o(w);if(!n.eql(y,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);const{px:E,py:y,pz:_}=this,{px:x,py:P,pz:M}=w,L=n.eql(n.mul(E,M),n.mul(x,_)),K=n.eql(n.mul(y,M),n.mul(P,_));return L&&K}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:E}=e,y=n.mul(E,XM),{px:_,py:x,pz:P}=this;let M=n.ZERO,L=n.ZERO,K=n.ZERO,j=n.mul(_,_),G=n.mul(x,x),V=n.mul(P,P),W=n.mul(_,x);return W=n.add(W,W),K=n.mul(_,P),K=n.add(K,K),M=n.mul(w,K),L=n.mul(y,V),L=n.add(M,L),M=n.sub(G,L),L=n.add(G,L),L=n.mul(M,L),M=n.mul(W,M),K=n.mul(y,K),V=n.mul(w,V),W=n.sub(j,V),W=n.mul(w,W),W=n.add(W,K),K=n.add(j,j),j=n.add(K,j),j=n.add(j,V),j=n.mul(j,W),L=n.add(L,j),V=n.mul(x,P),V=n.add(V,V),j=n.mul(V,W),M=n.sub(M,j),K=n.mul(V,G),K=n.add(K,K),K=n.add(K,K),new h(M,L,K)}add(w){d(w);const{px:E,py:y,pz:_}=this,{px:x,py:P,pz:M}=w;let L=n.ZERO,K=n.ZERO,j=n.ZERO;const G=e.a,V=n.mul(e.b,XM);let W=n.mul(E,x),q=n.mul(y,P),k=n.mul(_,M),C=n.add(E,y),S=n.add(x,P);C=n.mul(C,S),S=n.add(W,q),C=n.sub(C,S),S=n.add(E,_);let T=n.add(x,M);return S=n.mul(S,T),T=n.add(W,k),S=n.sub(S,T),T=n.add(y,_),L=n.add(P,M),T=n.mul(T,L),L=n.add(q,k),T=n.sub(T,L),j=n.mul(G,S),L=n.mul(V,k),j=n.add(L,j),L=n.sub(q,j),j=n.add(q,j),K=n.mul(L,j),q=n.add(W,W),q=n.add(q,W),k=n.mul(G,k),S=n.mul(V,S),q=n.add(q,k),k=n.sub(W,k),k=n.mul(G,k),S=n.add(S,k),W=n.mul(q,S),K=n.add(K,W),W=n.mul(T,S),L=n.mul(C,L),L=n.sub(L,W),W=n.mul(C,q),j=n.mul(T,j),j=n.add(j,W),new h(L,K,j)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return g.wNAFCached(this,u,w,E=>{const y=n.invertBatch(E.map(_=>_.pz));return E.map((_,x)=>_.toAffine(y[x])).map(h.fromAffine)})}multiplyUnsafe(w){const E=h.ZERO;if(w===Xs)return E;if(a(w),w===eo)return this;const{endo:y}=e;if(!y)return g.unsafeLadder(this,w);let{k1neg:_,k1:x,k2neg:P,k2:M}=y.splitScalar(w),L=E,K=E,j=this;for(;x>Xs||M>Xs;)x&eo&&(L=L.add(j)),M&eo&&(K=K.add(j)),j=j.double(),x>>=eo,M>>=eo;return _&&(L=L.negate()),P&&(K=K.negate()),K=new h(n.mul(K.px,y.beta),K.py,K.pz),L.add(K)}multiply(w){a(w);let E=w,y,_;const{endo:x}=e;if(x){const{k1neg:P,k1:M,k2neg:L,k2:K}=x.splitScalar(E);let{p:j,f:G}=this.wNAF(M),{p:V,f:W}=this.wNAF(K);j=g.constTimeNegate(P,j),V=g.constTimeNegate(L,V),V=new h(n.mul(V.px,x.beta),V.py,V.pz),y=j.add(V),_=G.add(W)}else{const{p:P,f:M}=this.wNAF(E);y=P,_=M}return h.normalizeZ([y,_])[0]}multiplyAndAddUnsafe(w,E,y){const _=h.BASE,x=(M,L)=>L===Xs||L===eo||!M.equals(_)?M.multiplyUnsafe(L):M.multiply(L),P=x(this,E).add(x(w,y));return P.is0()?void 0:P}toAffine(w){const{px:E,py:y,pz:_}=this,x=this.is0();w==null&&(w=x?n.ONE:n.inv(_));const P=n.mul(E,w),M=n.mul(y,w),L=n.mul(_,w);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:P,y:M}}isTorsionFree(){const{h:w,isTorsionFree:E}=e;if(w===eo)return!0;if(E)return E(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:E}=e;return w===eo?this:E?E(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(h,this,w)}toHex(w=!0){return Kd(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,g=gie(h,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function Eie(t){const e=KB(t);return mm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _ie(t){const e=Eie(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(S){return Xs<S&&S<n.ORDER}function a(S){return si(S,r)}function l(S){return Nx(S,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:m}=bie({...e,toBytes(S,T,R){const B=T.toAffine(),F=n.toBytes(B.x),U=jp;return R?U(Uint8Array.from([T.hasEvenY()?2:3]),F):U(Uint8Array.from([4]),F,n.toBytes(B.y))},fromBytes(S){const T=S.length,R=S[0],B=S.subarray(1);if(T===i&&(R===2||R===3)){const F=$c(B);if(!s(F))throw new Error("Point is not on curve");const U=h(F);let D;try{D=n.sqrt(U)}catch(H){const z=H instanceof Error?": "+H.message:"";throw new Error("Point is not on curve"+z)}const O=(D&eo)===eo;return(R&1)===1!==O&&(D=n.neg(D)),{x:F,y:D}}else if(T===o&&R===4){const F=n.fromBytes(B.subarray(0,n.BYTES)),U=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:F,y:U}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),g=S=>Kd(Gd(S,e.nByteLength));function b(S){const T=r>>eo;return S>T}function w(S){return b(S)?a(-S):S}const E=(S,T,R)=>$c(S.slice(T,R));class y{constructor(T,R,B){this.r=T,this.s=R,this.recovery=B,this.assertValidity()}static fromCompact(T){const R=e.nByteLength;return T=Ao("compactSignature",T,R*2),new y(E(T,0,R),E(T,R,2*R))}static fromDER(T){const{r:R,s:B}=Rc.toSig(Ao("DER",T));return new y(R,B)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new y(this.r,this.s,T)}recoverPublicKey(T){const{r:R,s:B,recovery:F}=this,U=K(Ao("msgHash",T));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const D=F===2||F===3?R+e.n:R;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const O=(F&1)===0?"02":"03",N=u.fromHex(O+g(D)),H=l(D),z=a(-U*H),Y=a(B*H),ee=u.BASE.multiplyAndAddUnsafe(N,z,Y);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return qd(this.toDERHex())}toDERHex(){return Rc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qd(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const _={isValidPrivateKey(S){try{return d(S),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const S=zB(e.n);return pie(e.randomBytes(S),e.n)},precompute(S=8,T=u.BASE){return T._setWindowSize(S),T.multiply(BigInt(3)),T}};function x(S,T=!0){return u.fromPrivateKey(S).toRawBytes(T)}function P(S){const T=ru(S),R=typeof S=="string",B=(T||R)&&S.length;return T?B===i||B===o:R?B===2*i||B===2*o:S instanceof u}function M(S,T,R=!0){if(P(S))throw new Error("first arg must be private key");if(!P(T))throw new Error("second arg must be public key");return u.fromHex(T).multiply(d(S)).toRawBytes(R)}const L=e.bits2int||function(S){const T=$c(S),R=S.length*8-e.nBitLength;return R>0?T>>BigInt(R):T},K=e.bits2int_modN||function(S){return a(L(S))},j=yA(e.nBitLength);function G(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(Xs<=S&&S<j))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Gd(S,e.nByteLength)}function V(S,T,R=W){if(["recovered","canonical"].some(oe=>oe in R))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:F}=e;let{lowS:U,prehash:D,extraEntropy:O}=R;U==null&&(U=!0),S=Ao("msgHash",S),D&&(S=Ao("prehashed msgHash",B(S)));const N=K(S),H=d(T),z=[G(H),G(N)];if(O!=null&&O!==!1){const oe=O===!0?F(n.BYTES):O;z.push(Ao("extraEntropy",oe))}const Y=jp(...z),ee=N;function J(oe){const se=L(oe);if(!m(se))return;const ve=l(se),de=u.BASE.multiply(se).toAffine(),Oe=a(de.x);if(Oe===Xs)return;const je=a(ve*a(ee+Oe*H));if(je===Xs)return;let we=(de.x===Oe?0:2)|Number(de.y&eo),_e=je;return U&&b(je)&&(_e=w(je),we^=1),new y(Oe,_e,we)}return{seed:Y,k2sig:J}}const W={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function k(S,T,R=W){const{seed:B,k2sig:F}=V(S,T,R),U=e;return $B(U.hash.outputLen,U.nByteLength,U.hmac)(B,F)}u.BASE._setWindowSize(8);function C(S,T,R,B=q){var de;const F=S;if(T=Ao("msgHash",T),R=Ao("publicKey",R),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:D}=B;let O,N;try{if(typeof F=="string"||ru(F))try{O=y.fromDER(F)}catch(Oe){if(!(Oe instanceof Rc.Err))throw Oe;O=y.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:Oe,s:je}=F;O=new y(Oe,je)}else throw new Error("PARSE");N=u.fromHex(R)}catch(Oe){if(Oe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&O.hasHighS())return!1;D&&(T=e.hash(T));const{r:H,s:z}=O,Y=K(T),ee=l(z),J=a(Y*ee),oe=a(H*ee),se=(de=u.BASE.multiplyAndAddUnsafe(N,J,oe))==null?void 0:de.toAffine();return se?a(se.x)===H:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:M,sign:k,verify:C,ProjectivePoint:u,Signature:y,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xie(t){return{hash:t,hmac:(e,...n)=>fA(t,e,Jy(...n)),randomBytes:$8}}function Sie(t,e){const n=r=>_ie({...t,...xie(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qB=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),e5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Aie=BigInt(1),Lx=BigInt(2),t5=(t,e)=>(t+e/Lx)/e;function Cie(t){const e=qB,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,h=Ki(d,n,e)*d%e,m=Ki(h,n,e)*d%e,g=Ki(m,Lx,e)*u%e,b=Ki(g,i,e)*g%e,w=Ki(b,o,e)*b%e,E=Ki(w,a,e)*w%e,y=Ki(E,l,e)*E%e,_=Ki(y,a,e)*w%e,x=Ki(_,n,e)*d%e,P=Ki(x,s,e)*b%e,M=Ki(P,r,e)*u%e,L=Ki(M,Lx,e);if(!Bx.eql(Bx.sqr(L),t))throw new Error("Cannot find square root");return L}const Bx=hie(qB,void 0,void 0,{sqrt:Cie}),vA=Sie({a:BigInt(0),b:BigInt(7),Fp:Bx,n:e5,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=e5,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Aie*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=t5(o*t,e),l=t5(-r*t,e);let u=si(t-a*n-l*i,e),d=si(-a*r-l*o,e);const h=u>s,m=d>s;if(h&&(u=e-u),m&&(d=e-d),u>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:m,k2:d}}}},yw);BigInt(0);vA.ProjectivePoint;const kie=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:vA},Symbol.toStringTag,{value:"Module"}));var KE;const Ea=(KE=vA)!==null&&KE!==void 0?KE:kie,n5=BigInt("0xffffffffffffffff"),Up=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Tie=Ea.CURVE.n,Iie=Tie/BigInt(2),Pie={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var gv;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(gv||(gv={}));var nn;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(nn||(nn={}));var r5;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(r5||(r5={}));var i5;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(i5||(i5={}));var wr;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(wr||(wr={}));var ro;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(ro||(ro={}));const GB=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Z2(t)?t.slice(2):t};function Rie(t){return!t||t==="0x0"?"0x0000000000000000":Z2(t)?`0x${GB(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const WB=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function Mie(t,e=!0){var n,r;const{name:i,config:o,difficulty:s,mixHash:a,gasLimit:l,coinbase:u,baseFeePerGas:d}=t;let{extraData:h,timestamp:m,nonce:g}=t;const b=Number(m),{chainId:w}=o;if(h===""&&(h="0x"),Z2(m)||(m=WB(parseInt(m))),g.length!==18&&(g=Rie(g)),o.eip155Block!==o.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const E={name:i,chainId:w,networkId:w,genesis:{timestamp:m,gasLimit:parseInt(l),difficulty:parseInt(s),nonce:g,extraData:h,mixHash:a,coinbase:u,baseFeePerGas:d},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:o.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=o.clique.period)!==null&&n!==void 0?n:o.clique.blockperiodseconds,epoch:(r=o.clique.epoch)!==null&&r!==void 0?r:o.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},y={[nn.Homestead]:{name:"homesteadBlock"},[nn.Dao]:{name:"daoForkBlock"},[nn.TangerineWhistle]:{name:"eip150Block"},[nn.SpuriousDragon]:{name:"eip155Block"},[nn.Byzantium]:{name:"byzantiumBlock"},[nn.Constantinople]:{name:"constantinopleBlock"},[nn.Petersburg]:{name:"petersburgBlock"},[nn.Istanbul]:{name:"istanbulBlock"},[nn.MuirGlacier]:{name:"muirGlacierBlock"},[nn.Berlin]:{name:"berlinBlock"},[nn.London]:{name:"londonBlock"},[nn.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[nn.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[nn.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},_=Object.keys(y).reduce((M,L)=>(M[y[L].name]=L,M),{}),x=Object.keys(o).filter(M=>_[M]!==void 0&&o[M]!==void 0&&o[M]!==null);if(E.hardforks=x.map(M=>({name:_[M],block:y[_[M]].isTimestamp===!0||typeof o[M]!="number"?null:o[M],timestamp:y[_[M]].isTimestamp===!0&&typeof o[M]=="number"?o[M]:void 0})).filter(M=>M.block!==null||M.timestamp!==void 0),E.hardforks.sort((M,L)=>{var K,j;return((K=M.block)!==null&&K!==void 0?K:1/0)-((j=L.block)!==null&&j!==void 0?j:1/0)}),E.hardforks.sort((M,L)=>{var K,j;return((K=M.timestamp)!==null&&K!==void 0?K:b)-((j=L.timestamp)!==null&&j!==void 0?j:b)}),o.terminalTotalDifficulty!==void 0){const M={name:nn.Merge,ttd:o.terminalTotalDifficulty,block:null},L=E.hardforks.findIndex(K=>{var j;return((j=y[K.name])===null||j===void 0?void 0:j.postMerge)===!0});L!==-1?E.hardforks.splice(L,0,M):E.hardforks.push(M)}const P=E.hardforks.length>0?E.hardforks.slice(-1)[0]:void 0;return E.hardfork=P==null?void 0:P.name,E.hardforks.unshift({name:nn.Chainstart,block:0}),E}function Oie(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),Mie(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function YB(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const Nie=function(t){const e=WB(t);return on(`0x${YB(e.slice(2))}`)},dn=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!rB(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return on(YB(GB(t)))}if(typeof t=="number")return dn(Vn(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),dn(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function en(t){const e=Rt(t);return BigInt(e==="0x"?0:e)}function Lie(t){return dn(`0x${t.toString(16)}`)}const QB=function(t){return new Uint8Array(t).fill(0)},Bie=function(t,e,n){const r=QB(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function wA(t){if(!Vl(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const o5=function(t,e){return wA(t),Bie(t,e)};function Die(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const yv=function(t){return wA(t),Die(t)},fn=t=>`0x${t.toString(16)}`;function jt(t){return yv(Lie(t))}function Fie(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function jie(t){return t===BigInt(0)||t===BigInt(1)}const bA=function(t,e,n,r,i){const o=Fie(e,i);if(!jie(o))throw new Error("Invalid signature v value");return new Ea.Signature(en(n),en(r)).addRecoveryBit(Number(o)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function Vu(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!rB(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=dn(t);switch(e){case ro.Uint8Array:return n;case ro.BigInt:return en(n);case ro.Number:{const r=en(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case ro.PrefixedHexString:return Rt(n);default:throw new Error("unknown outputType")}}var _o={},s5;function Uie(){if(s5)return _o;s5=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.RLP=_o.utils=_o.decode=_o.encode=void 0;function t(y){if(Array.isArray(y)){const x=[];let P=0;for(let M=0;M<y.length;M++){const L=t(y[M]);x.push(L),P+=L.length}return d(r(P,192),...x)}const _=E(y);return _.length===1&&_[0]<128?_:d(r(_.length,128),_)}_o.encode=t;function e(y,_,x){if(x>y.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return y.slice(_,x)}function n(y){if(y[0]===0)throw new Error("invalid RLP: extra zeros");return l(a(y))}function r(y,_){if(y<56)return Uint8Array.from([y+_]);const x=m(y),P=x.length/2,M=m(_+55+P);return Uint8Array.from(u(M+x))}function i(y,_=!1){if(typeof y>"u"||y===null||y.length===0)return Uint8Array.from([]);const x=E(y),P=o(x);if(_)return P;if(P.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return P.data}_o.decode=i;function o(y){let _,x,P,M,L;const K=[],j=y[0];if(j<=127)return{data:y.slice(0,1),remainder:y.slice(1)};if(j<=183){if(_=j-127,j===128?P=Uint8Array.from([]):P=e(y,1,_),_===2&&P[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:P,remainder:y.slice(_)}}else if(j<=191){if(x=j-182,y.length-1<x)throw new Error("invalid RLP: not enough bytes for string length");if(_=n(e(y,1,x)),_<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return P=e(y,x,_+x),{data:P,remainder:y.slice(_+x)}}else if(j<=247){for(_=j-191,M=e(y,1,_);M.length;)L=o(M),K.push(L.data),M=L.remainder;return{data:K,remainder:y.slice(_)}}else{if(x=j-246,_=n(e(y,1,x)),_<56)throw new Error("invalid RLP: encoded list too short");const G=x+_;if(G>y.length)throw new Error("invalid RLP: total length is larger than the data");for(M=e(y,x,G);M.length;)L=o(M),K.push(L.data),M=L.remainder;return{data:K,remainder:y.slice(G)}}}const s=Array.from({length:256},(y,_)=>_.toString(16).padStart(2,"0"));function a(y){let _="";for(let x=0;x<y.length;x++)_+=s[y[x]];return _}function l(y){const _=Number.parseInt(y,16);if(Number.isNaN(_))throw new Error("Invalid byte sequence");return _}function u(y){if(typeof y!="string")throw new TypeError("hexToBytes: expected string, got "+typeof y);if(y.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const _=new Uint8Array(y.length/2);for(let x=0;x<_.length;x++){const P=x*2;_[x]=l(y.slice(P,P+2))}return _}function d(...y){if(y.length===1)return y[0];const _=y.reduce((P,M)=>P+M.length,0),x=new Uint8Array(_);for(let P=0,M=0;P<y.length;P++){const L=y[P];x.set(L,M),M+=L.length}return x}function h(y){return new TextEncoder().encode(y)}function m(y){if(y<0)throw new Error("Invalid integer as argument, must be unsigned!");const _=y.toString(16);return _.length%2?`0${_}`:_}function g(y){return y.length%2?`0${y}`:y}function b(y){return y.length>=2&&y[0]==="0"&&y[1]==="x"}function w(y){return typeof y!="string"?y:b(y)?y.slice(2):y}function E(y){if(y instanceof Uint8Array)return y;if(typeof y=="string")return b(y)?u(g(w(y))):h(y);if(typeof y=="number"||typeof y=="bigint")return y?u(m(y)):Uint8Array.from([]);if(y==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof y)}return _o.utils={bytesToHex:a,concatBytes:d,hexToBytes:u,utf8ToBytes:h},_o.RLP={encode:t,decode:i},_o}var io=Uie(),qE={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */var a5;function $ie(){return a5||(a5=1,function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var j=0,G=new Array(256),V=0;V!=256;++V)j=V,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,G[V]=j;return typeof Int32Array<"u"?new Int32Array(G):G}var r=n();function i(j){var G=0,V=0,W=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)q[W]=j[W];for(W=0;W!=256;++W)for(V=j[W],G=256+W;G<4096;G+=256)V=q[G]=V>>>8^j[V&255];var k=[];for(W=1;W!=16;++W)k[W-1]=typeof Int32Array<"u"?q.subarray(W*256,W*256+256):q.slice(W*256,W*256+256);return k}var o=i(r),s=o[0],a=o[1],l=o[2],u=o[3],d=o[4],h=o[5],m=o[6],g=o[7],b=o[8],w=o[9],E=o[10],y=o[11],_=o[12],x=o[13],P=o[14];function M(j,G){for(var V=G^-1,W=0,q=j.length;W<q;)V=V>>>8^r[(V^j.charCodeAt(W++))&255];return~V}function L(j,G){for(var V=G^-1,W=j.length-15,q=0;q<W;)V=P[j[q++]^V&255]^x[j[q++]^V>>8&255]^_[j[q++]^V>>16&255]^y[j[q++]^V>>>24]^E[j[q++]]^w[j[q++]]^b[j[q++]]^g[j[q++]]^m[j[q++]]^h[j[q++]]^d[j[q++]]^u[j[q++]]^l[j[q++]]^a[j[q++]]^s[j[q++]]^r[j[q++]];for(W+=15;q<W;)V=V>>>8^r[(V^j[q++])&255];return~V}function K(j,G){for(var V=G^-1,W=0,q=j.length,k=0,C=0;W<q;)k=j.charCodeAt(W++),k<128?V=V>>>8^r[(V^k)&255]:k<2048?(V=V>>>8^r[(V^(192|k>>6&31))&255],V=V>>>8^r[(V^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,C=j.charCodeAt(W++)&1023,V=V>>>8^r[(V^(240|k>>8&7))&255],V=V>>>8^r[(V^(128|k>>2&63))&255],V=V>>>8^r[(V^(128|C>>6&15|(k&3)<<4))&255],V=V>>>8^r[(V^(128|C&63))&255]):(V=V>>>8^r[(V^(224|k>>12&15))&255],V=V>>>8^r[(V^(128|k>>6&63))&255],V=V>>>8^r[(V^(128|k&63))&255]);return~V}e.table=r,e.bstr=M,e.buf=L,e.str=K})}(qE)),qE}var Hie=$ie();const Vie=Gp(Hie),zie={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},Kie={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},qie={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},Gie={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},Wie={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},Yie={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},Qie={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},Zie={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},Jie={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},Xie={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},eoe={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},toe={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},noe={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},roe={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},ioe={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},ooe={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},soe={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},aoe={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},loe={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},coe={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},uoe={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},doe={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},foe={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},hoe={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},poe={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},zu={1153:Gie,1559:Wie,2315:Yie,2537:Qie,2565:Zie,2718:Jie,2929:Xie,2930:eoe,3198:toe,3529:noe,3540:roe,3541:ioe,3554:ooe,3607:soe,3651:aoe,3670:loe,3675:coe,3855:uoe,3860:doe,4345:foe,4399:hoe,5133:poe},moe={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},goe={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},yoe={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},voe={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},woe={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},boe={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Eoe={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},_oe={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},xoe={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},Soe={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Aoe={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},Coe={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},koe={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},Toe={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},Ioe={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},Poe={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},Roe={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},Moe={chainstart:moe,homestead:yoe,dao:goe,tangerineWhistle:voe,spuriousDragon:woe,byzantium:boe,constantinople:Eoe,petersburg:_oe,istanbul:xoe,muirGlacier:Soe,berlin:Aoe,london:Coe,shanghai:koe,arrowGlacier:Toe,grayGlacier:Ioe,mergeForkIdTransition:Poe,merge:Roe},{buf:Ooe}=Vie;class Hn extends nA{static custom(e,n={}){var r;const i=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",o=Object.assign({},Hn._getChainParams(i));if(o.name="custom-chain",typeof e!="string")return new Hn(Object.assign({chain:Object.assign(Object.assign({},o),e)},n));if(e===wr.PolygonMainnet)return Hn.custom({name:wr.PolygonMainnet,chainId:137,networkId:137},n);if(e===wr.PolygonMumbai)return Hn.custom({name:wr.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===wr.ArbitrumRinkebyTestnet)return Hn.custom({name:wr.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===wr.ArbitrumOne)return Hn.custom({name:wr.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===wr.xDaiChain)return Hn.custom({name:wr.xDaiChain,chainId:100,networkId:100},n);if(e===wr.OptimisticKovan)return Hn.custom({name:wr.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:nn.Berlin},n));if(e===wr.OptimisticEthereum)return Hn.custom({name:wr.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:nn.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:i,hardfork:o,mergeForkIdPostMerge:s}){var a;const l=Oie(e,n,s),u=new Hn({chain:(a=l.name)!==null&&a!==void 0?a:"custom",customChains:[l],eips:r,hardfork:o??l.hardfork});return i!==void 0&&u.setForkHashes(i),u}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const i=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),i.names[r]){const o=i.names[r];return i[o]}throw new Error(`Chain with ID ${r} not supported`)}if(i[r]!==void 0)return i[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:nn.Merge,this.HARDFORK_CHANGES=this.hardforks().map(i=>[i.name,Moe[i.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Hn._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const i=Vu(e,ro.BigInt),o=Vu(n,ro.BigInt),s=Vu(r,ro.Number),a=this.hardforks().filter(g=>g.block!==null||g.ttd!==null&&g.ttd!==void 0||g.timestamp!==void 0),l=a.findIndex(g=>g.ttd!==null&&g.ttd!==void 0);if(a.slice(l+1).findIndex(g=>g.ttd!==null&&g.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let d=a.findIndex(g=>g.block!==null&&g.block>i||s!==void 0&&Number(g.timestamp)>s);if(d===-1)d=a.length;else if(d===0)throw Error("Must have at least one hardfork at block 0");if(s===void 0){const g=a.slice(0,d).reverse().findIndex(b=>b.block!==null||b.ttd!==void 0);d-=g}if(d-=1,a[d].block===null&&a[d].timestamp===void 0)(o==null||BigInt(a[d].ttd)>o)&&(d-=1);else if(l>=0&&o!==void 0&&o!==null){if(d>=l&&BigInt(a[l].ttd)>o)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(d<l&&BigInt(a[l].ttd)<=o)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const h=d;for(;d<a.length-1&&!(a[d].block!==a[d+1].block||a[d].timestamp!==a[d+1].timestamp);d+=1);if(s){if(a.slice(0,h).reduce((w,E)=>{var y;return Math.max(Number((y=E.timestamp)!==null&&y!==void 0?y:"0"),w)},0)>s)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(d+1).reduce((w,E)=>{var y;return Math.min(Number((y=E.timestamp)!==null&&y!==void 0?y:s),w)},s)<s)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[d].name}setHardforkByBlockNumber(e,n,r){const i=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(i),i}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in zu))throw new Error(`${n} not supported`);const r=this.gteHardfork(zu[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(zu[n].requiredEIPs!==void 0){for(const i of zu[n].requiredEIPs)if(!(e.includes(i)||this.isActivatedEIP(i)))throw new Error(`${n} requires EIP ${i}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const i of this._eips)if(r=this.paramByEIP(e,n,i),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let i=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const s=o[1].eips;for(const a of s){const l=this.paramByEIP(e,n,a);i=typeof l=="bigint"?l:i}}else{if(o[1][e]===void 0)throw new Error(`Topic ${e} not defined`);o[1][e][n]!==void 0&&(i=o[1][e][n].v)}if(o[0]===r)break}return BigInt(i??0)}paramByEIP(e,n,r){if(!(r in zu))throw new Error(`${r} not supported`);const i=zu[r];if(!(e in i))throw new Error(`Topic ${e} not defined`);if(i[e][n]===void 0)return;const o=i[e][n].v;return BigInt(o)}paramByBlock(e,n,r,i,o){const s=this.getHardforkByBlockNumber(r,i,o);return this.paramByHardfork(e,n,s)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=Vu(n,ro.BigInt),i=e??this._hardfork,o=this.hardforkBlock(i);return typeof o=="bigint"&&o!==BigInt(0)&&r>=o}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,i=this.hardforks();let o=-1,s=-1,a=0;for(const l of i)l.name===r&&(o=a),l.name===n&&(s=a),a+=1;return o>=s&&s!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return i==null?null:BigInt(i)}hardforkTimestamp(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return i==null?null:BigInt(i)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return i==null?null:BigInt(i)}isHardforkBlock(e,n){const r=Vu(e,ro.BigInt),i=n??this._hardfork,o=this.hardforkBlock(i);return typeof o=="bigint"&&o!==BigInt(0)?o===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,i;const o=(n=e)!==null&&n!==void 0?n:this._hardfork,s=this.hardforks();let a=s.findIndex(h=>h.name===o);if(o===nn.Merge&&(a-=1),a<0)return null;let l=(r=s[a].timestamp)!==null&&r!==void 0?r:s[a].block;l=l!=null?Number(l):null;const u=s.slice(a+1).find(h=>{var m;let g=(m=h.timestamp)!==null&&m!==void 0?m:h.block;return g=g!=null?Number(g):null,h.name!==nn.Merge&&g!==null&&g!==void 0&&g!==l});if(u===void 0)return null;const d=(i=u.timestamp)!==null&&i!==void 0?i:u.block;return d==null?null:BigInt(d)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let i=this.hardforkBlock(r);if(i===null&&r===nn.Merge){const s=this.hardforks(),a=s.findIndex(l=>l.ttd!==null&&l.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");i=this.hardforkBlock(s[a-1].name)}return i===null?null:this.hardforks().reduce((s,a)=>{const l=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return l>i&&s===null?l:s},null)}isNextHardforkBlock(e,n){const r=Vu(e,ro.BigInt),i=n??this._hardfork,o=this.nextHardforkBlock(i);return o===null?!1:o===r}_calcForkHash(e,n){let r=new Uint8Array,i=0;for(const a of this.hardforks()){const{block:l,timestamp:u,name:d}=a;let h=u??l;if(h=h!==null?Number(h):null,typeof h=="number"&&h!==0&&h!==i&&d!==nn.Merge){const m=on(h.toString(16).padStart(16,"0"));r=Gr(r,m),i=h}if(a.name===e)break}const o=Gr(n,r);return Rt(Nie(Ooe(o)>>>0))}forkHash(e,n){const r=e??this._hardfork,i=this._getHardfork(r);if(i===null||(i==null?void 0:i.block)===null&&(i==null?void 0:i.timestamp)===void 0&&(i==null?void 0:i.ttd)===void 0){const o="No fork hash calculation possible for future hardfork";throw new Error(o)}if((i==null?void 0:i.forkHash)!==null&&(i==null?void 0:i.forkHash)!==void 0)return i.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const i=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(i!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(r=i[1].consensus[i[1].consensus.algorithm]),i[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[i,o]of Object.entries(gv))n[o]=i.toLowerCase();const r={mainnet:Kie,goerli:zie,sepolia:qie};if(e)for(const i of e){const{name:o}=i;n[i.chainId.toString()]=o,r[o]=i}return r.names=n,r}}var ns;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(ns||(ns={}));function Noe(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function Loe(t){return!Noe(t)}class Td{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new Td(QB(20))}equals(e){return cw(this.buf,e.buf)}isZero(){return this.equals(Td.zero())}toString(){return Rt(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(wA(r),n&&r.length!==64&&(r=Ea.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return $r(r).slice(-20)}}const Boe=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},ZB=t=>{let e,n;if(Loe(t)){e=t;const r=[];for(let i=0;i<t.length;i+=1){const o=t[i],s=dn(o.address),a=[];for(let l=0;l<o.storageKeys.length;l+=1)a.push(dn(o.storageKeys[l]));r.push([s,a])}n=r}else{n=t??[];const r=[];for(let i=0;i<n.length;i+=1){const o=n[i],s=Rt(o[0]),a=[];for(let u=0;u<o[1].length;u+=1)a.push(Rt(o[1][u]));const l={address:s,storageKeys:a};r.push(l)}e=r}return{AccessListJSON:e,accessList:n}},JB=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],i=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let o=0;o<i.length;o+=1)if(i[o].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},XB=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],i={address:Rt(o5(r[0],20)),storageKeys:[]},o=r&&r[1];for(let s=0;s<o.length;s+=1){const a=o[s];i.storageKeys.push(Rt(o5(a,32)))}e.push(i)}return e},eD=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let i=0;for(let s=0;s<t.length;s+=1){const l=t[s][1];i+=l.length}return t.length*Number(r)+i*Number(n)};class Wd{constructor(e,n){var r,i;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=gv.Mainnet,this.DEFAULT_HARDFORK=nn.Merge;const{nonce:o,gasLimit:s,to:a,value:l,data:u,v:d,r:h,s:m,type:g}=e;this._type=Number(en(dn(g))),this.txOptions=n;const b=dn(a===""?"0x":a),w=dn(d===""?"0x":d),E=dn(h===""?"0x":h),y=dn(m===""?"0x":m);this.nonce=en(dn(o===""?"0x":o)),this.gasLimit=en(dn(s===""?"0x":s)),this.to=b.length>0?new Td(b):void 0,this.value=en(dn(l===""?"0x":l)),this.data=dn(u===""?"0x":u),this.v=w.length>0?en(w):void 0,this.r=E.length>0?en(E):void 0,this.s=y.length>0?en(y):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const _=this.to===void 0||this.to===null,x=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,P=(i=n.common)!==null&&i!==void 0?i:this._getCommon();_&&P.isActivatedEIP(3860)&&!x&&Boe(P,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>Iie){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let i=0;i<this.data.length;i+=1)this.data[i]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),o=this.common.param("gasPrices","initCodeWordCost")*i;r+=o}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return yv(e).length!==0}catch{return!1}}getSenderAddress(){return new Td(Td.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(ns.EIP155ReplayProtection)&&(this.activeCapabilities.push(ns.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:i,r:o,s}=this._ecsign(r,e),a=this._processSignature(i,o,s);if(n){const l=this.activeCapabilities.indexOf(ns.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return a}_getCommon(e,n){var r,i,o,s;if(n!==void 0){const a=en(dn(n));if(e){if(e.chainId()!==a){const l=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(l)}return e.copy()}return Hn.isSupportedChainId(a)?new Hn({chain:a,hardfork:this.DEFAULT_HARDFORK}):Hn.custom({name:"custom-chain",networkId:a,chainId:a},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e!=null&&e.copy&&typeof(e==null?void 0:e.copy)=="function")return e.copy();if(e){const a=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return Hn.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(i=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&i!==void 0?i:void 0,chainId:e.chainId?e.chainId():(s=BigInt((o=e.customChain)===null||o===void 0?void 0:o.chainId))!==null&&s!==void 0?s:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:a||this.DEFAULT_HARDFORK})}return new Hn({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[i,o]of Object.entries(e))switch(n){case 64:if(r){if(o!==void 0&&o>=n5){const s=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(s)}}else if(o!==void 0&&o>n5){const s=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(s)}break;case 256:if(r){if(o!==void 0&&o>=Up){const s=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(s)}}else if(o!==void 0&&o>Up){const s=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(s)}break;default:{const s=this._errorMsg("unimplemented bits value");throw new Error(s)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,i]of Object.entries(e))if(n.includes(r)&&Array.isArray(i))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?Rt(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${n} hf=${r}`,i}_ecsign(e,n,r){const i=Ea.sign(e,n),o=i.toCompactRawBytes(),s=o.subarray(0,32),a=o.subarray(32,64),l=r===void 0?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(r)*BigInt(2);return{r:s,s:a,v:l}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const Dx=2,GE=on(Dx.toString(16).padStart(2,"0"));class Mc extends Wd{static fromTxData(e,n={}){return new Mc(e,n)}static fromSerializedTx(e,n={}){if(!cw(e.subarray(0,1),GE))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${Dx}, received: ${Rt(e.subarray(0,1))}`);const r=io.RLP.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Mc.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,i,o,s,a,l,u,d,h,m,g,b]=e;return this._validateNotArray({chainId:r,v:m}),J2({nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:s,gasLimit:a,value:u,v:m,r:g,s:b}),new Mc({chainId:en(r),nonce:i,maxPriorityFeePerGas:o,maxFeePerGas:s,gasLimit:a,to:l,value:u,data:d,accessList:h??[],v:m!==void 0?en(m):void 0,r:g,s:b},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Dx}),n),this.DEFAULT_HARDFORK="london";const{chainId:i,accessList:o,maxFeePerGas:s,maxPriorityFeePerGas:a}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const l=ZB(o??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,JB(this.accessList),this.maxFeePerGas=en(dn(s===""?"0x":s)),this.maxPriorityFeePerGas=en(dn(a===""?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Wd._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Up){const d=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(d)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const d=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(d)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(eD(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,o=(n<r?n:r)+e;return this.gasLimit*o+this.value}raw(){return[jt(this.chainId),jt(this.nonce),jt(this.maxPriorityFeePerGas),jt(this.maxFeePerGas),jt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),jt(this.value),this.data,this.accessList,this.v!==void 0?jt(this.v):Uint8Array.from([]),this.r!==void 0?jt(this.r):Uint8Array.from([]),this.s!==void 0?jt(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Gr(GE,io.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=Gr(GE,io.RLP.encode(n));return e?$r(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=$r(this.serialize())),this.cache.hash):$r(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return bA(e,n+BigInt(27),jt(r),jt(i))}catch{const s=this._errorMsg("Invalid Signature");throw new Error(s)}}_processSignature(e,n,r){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Mc.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:en(n),s:en(r)},i)}toJSON(){const e=XB(this.accessList);return{chainId:fn(this.chainId),nonce:fn(this.nonce),maxPriorityFeePerGas:fn(this.maxPriorityFeePerGas),maxFeePerGas:fn(this.maxFeePerGas),gasLimit:fn(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:fn(this.value),data:Rt(this.data),accessList:e,v:this.v!==void 0?fn(this.v):void 0,r:this.r!==void 0?fn(this.r):void 0,s:this.s!==void 0?fn(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Fx=1,WE=on(Fx.toString(16).padStart(2,"0"));class Oc extends Wd{static fromTxData(e,n={}){return new Oc(e,n)}static fromSerializedTx(e,n={}){if(!cw(e.subarray(0,1),WE))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${Fx}, received: ${Rt(e.subarray(0,1))}`);const r=io.RLP.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Oc.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,i,o,s,a,l,u,d,h,m,g]=e;this._validateNotArray({chainId:r,v:h}),J2({nonce:i,gasPrice:o,gasLimit:s,value:l,v:h,r:m,s:g});const b=[];return new Oc({chainId:en(r),nonce:i,gasPrice:o,gasLimit:s,to:a,value:l,data:u,accessList:d??b,v:h!==void 0?en(h):void 0,r:m,s:g},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Fx}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:i,accessList:o,gasPrice:s}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const a=ZB(o??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,JB(this.accessList),this.gasPrice=en(dn(s===""?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Wd._validateNotArray(e),this.gasPrice*this.gasLimit>Up){const u=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(u)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(eD(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[jt(this.chainId),jt(this.nonce),jt(this.gasPrice),jt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),jt(this.value),this.data,this.accessList,this.v!==void 0?jt(this.v):Uint8Array.from([]),this.r!==void 0?jt(this.r):Uint8Array.from([]),this.s!==void 0?jt(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Gr(WE,io.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=Gr(WE,io.RLP.encode(n));return e?$r(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=$r(this.serialize())),this.cache.hash):$r(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return bA(e,n+BigInt(27),jt(r),jt(i))}catch{const s=this._errorMsg("Invalid Signature");throw new Error(s)}}_processSignature(e,n,r){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Oc.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:en(n),s:en(r)},i)}toJSON(){const e=XB(this.accessList);return{chainId:fn(this.chainId),nonce:fn(this.nonce),gasPrice:fn(this.gasPrice),gasLimit:fn(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:fn(this.value),data:Rt(this.data),accessList:e,v:this.v!==void 0?fn(this.v):void 0,r:this.r!==void 0?fn(this.r):void 0,s:this.s!==void 0?fn(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Doe=0;function l5(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class El extends Wd{static fromTxData(e,n={}){return new El(e,n)}static fromSerializedTx(e,n={}){const r=io.RLP.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,i,o,s,a,l,u,d,h]=e;return J2({nonce:r,gasPrice:i,gasLimit:o,value:a,v:u,r:d,s:h}),new El({nonce:r,gasPrice:i,gasLimit:o,to:s,value:a,data:l,v:u,r:d,s:h},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:Doe}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=en(dn(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Up){const o=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(o)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Wd._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?l5(this.v,this.common.chainId())&&this.activeCapabilities.push(ns.EIP155ReplayProtection):this.activeCapabilities.push(ns.EIP155ReplayProtection)),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[jt(this.nonce),jt(this.gasPrice),jt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),jt(this.value),this.data,this.v!==void 0?jt(this.v):Uint8Array.from([]),this.r!==void 0?jt(this.r):Uint8Array.from([]),this.s!==void 0?jt(this.s):Uint8Array.from([])]}serialize(){return io.RLP.encode(this.raw())}_getMessageToSign(){const e=[jt(this.nonce),jt(this.gasPrice),jt(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),jt(this.value),this.data];return this.supports(ns.EIP155ReplayProtection)&&(e.push(dn(this.common.chainId())),e.push(yv(dn(0))),e.push(yv(dn(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?$r(io.RLP.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=$r(io.RLP.encode(this.raw()))),this.cache.hash):$r(io.RLP.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return $r(io.RLP.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return bA(e,n,jt(r),jt(i),this.supports(ns.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const s=this._errorMsg("Invalid Signature");throw new Error(s)}}_processSignature(e,n,r){let i=e;this.supports(ns.EIP155ReplayProtection)&&(i+=this.common.chainId()*BigInt(2)+BigInt(8));const o=Object.assign(Object.assign({},this.txOptions),{common:this.common});return El.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:en(n),s:en(r)},o)}toJSON(){return{nonce:fn(this.nonce),gasPrice:fn(this.gasPrice),gasLimit:fn(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:fn(this.value),data:Rt(this.data),v:this.v!==void 0?fn(this.v):void 0,r:this.r!==void 0?fn(this.r):void 0,s:this.s!==void 0?fn(this.s):void 0}}_validateTxV(e,n){let r;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!n||n.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(n){if(!l5(BigInt(i),n.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let o;(i-35)%2===0?o=35:o=36,r=BigInt(i-o)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const YE=new Map;class iu{constructor(){}static typeToInt(e){return Number(en(dn(e)))}static registerTransactionType(e,n){const r=iu.typeToInt(e);YE.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return El.fromTxData(e,n);const r=iu.typeToInt(e.type);if(r===0)return El.fromTxData(e,n);if(r===1)return Oc.fromTxData(e,n);if(r===2)return Mc.fromTxData(e,n);const i=YE.get(r);if(i!=null&&i.fromTxData)return i.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return Oc.fromSerializedTx(e,n);case 2:return Mc.fromSerializedTx(e,n);default:{const r=YE.get(Number(e[0]));if(r!=null&&r.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return El.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(Vl(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return El.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var ww=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const sf=(t,e)=>{let n;if(!e&&typeof t=="string"&&qt(t)&&t.length!==66)throw new EM;try{n=Vl(t)?t:bs(t)}catch{throw new eee}if(!e&&n.byteLength!==32)throw new EM;return n},EA=(t,e=!1)=>{const n=qt(t)?t:Bo(t),r=on(n),i=on(cB(`Ethereum Signed Message:
${r.byteLength}`)),o=e?r:Gr(i,r);return Mi(o)},Foe=(t,e)=>{const n=sf(e),r=Ea.sign(t.substring(2),n),i=r.toCompactRawBytes(),o=r.r.toString(16).padStart(64,"0"),s=r.s.toString(16).padStart(64,"0"),a=r.recovery+27;return{messageHash:t,v:Vn(a),r:`0x${o}`,s:`0x${s}`,signature:`${Rt(i)}${a.toString(16)}`}},tD=(t,e)=>{const n=EA(t),{messageHash:r,v:i,r:o,s,signature:a}=Foe(n,e);return{message:t,messageHash:r,v:i,r:o,s,signature:a}},joe=(t,e)=>ww(void 0,void 0,void 0,function*(){const n=t.sign(on(e));if(ye(n.v)||ye(n.r)||ye(n.s))throw new Ax("Signer Error");const r=n.validate(!0);if(r.length>0){let s="Signer Error ";for(const a of r)s+=`${s} ${a}.`;throw new Ax(s)}const i=Rt(n.serialize()),o=Mi(i);return{messageHash:Rt(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:Rt(o)}}),Uoe=t=>{if(ye(t))throw new yee;const e=iu.fromSerializedData(on(t));return xs(e.getSenderAddress().toString())},jx=(t,e,n,r,i)=>{if(typeof t=="object"){const h=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return jx(t.messageHash,h,n)}if(typeof e=="string"&&typeof n=="string"&&!ye(r)){const h=`${n}${r.slice(2)}${e.slice(2)}`;return jx(t,h,i)}if(ye(e))throw new tee("signature string undefined");const o=130,s=n?t:EA(t);let a=parseInt(e.substring(o),16);a>26&&(a-=27);const l=Ea.Signature.fromCompact(e.slice(2,o)).addRecoveryBit(a).recoverPublicKey(s.replace("0x","")).toRawBytes(!1),u=Mi(l.subarray(1));return xs(`0x${u.slice(-40)}`)},bw=t=>{const e=sf(t),n=Ea.getPublicKey(e,!1),i=Mi(n.slice(1)).slice(-40);return xs(`0x${i}`)},$oe=(t,e)=>{const n=sf(t);return`0x${Rt(Ea.getPublicKey(n,e)).slice(4)}`},nD=(t,e,n)=>ww(void 0,void 0,void 0,function*(){var r,i,o,s,a,l,u;const d=sf(t);let h;if(n!=null&&n.salt?h=typeof n.salt=="string"?on(n.salt):n.salt:h=Dp(32),!(Q2(e)||Vl(e)))throw new iee;const m=typeof e=="string"?on(Bo(e)):e;let g;if(n!=null&&n.iv){if(g=typeof n.iv=="string"?on(n.iv):n.iv,g.length!==16)throw new oee}else g=Dp(16);const b=(r=n==null?void 0:n.kdf)!==null&&r!==void 0?r:"scrypt";let w,E;if(b==="pbkdf2"){if(E={dklen:(i=n==null?void 0:n.dklen)!==null&&i!==void 0?i:32,salt:Rt(h).replace("0x",""),c:(o=n==null?void 0:n.c)!==null&&o!==void 0?o:262144,prf:"hmac-sha256"},E.c<1e3)throw new see;w=DB(m,h,E.c,E.dklen,"sha256")}else if(b==="scrypt")E={n:(s=n==null?void 0:n.n)!==null&&s!==void 0?s:8192,r:(a=n==null?void 0:n.r)!==null&&a!==void 0?a:8,p:(l=n==null?void 0:n.p)!==null&&l!==void 0?l:1,dklen:(u=n==null?void 0:n.dklen)!==null&&u!==void 0?u:32,salt:Rt(h).replace("0x","")},w=FB(m,h,E.n,E.p,E.r,E.dklen);else throw new A8;const y=yield dA(d,w.slice(0,16),g,"aes-128-ctr"),_=Rt(y).slice(2),x=Mi(Gr(w.slice(16,32),y)).replace("0x","");return{version:3,id:sA(),address:bw(d).toLowerCase().replace("0x",""),crypto:{ciphertext:_,cipherparams:{iv:Rt(g).replace("0x","")},cipher:"aes-128-ctr",kdf:b,kdfparams:E,mac:x}}}),_A=(t,e)=>{const n=sf(t,e);return{address:bw(n),privateKey:Rt(n),signTransaction:r=>{throw new Ax("Do not have network access to sign the transaction")},sign:r=>tD(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,i)=>ww(void 0,void 0,void 0,function*(){return nD(n,r,i)})}},Hoe=()=>{const t=Ea.utils.randomPrivateKey();return _A(`${Rt(t)}`)},Voe=(t,e,n)=>ww(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(ct.validateJSONSchema(Pie,r),r.version!==3)throw new ree;const i=typeof e=="string"?on(Bo(e)):e;ct.validate(["bytes"],[i]);let o;if(r.crypto.kdf==="scrypt"){const u=r.crypto.kdfparams,d=typeof u.salt=="string"?on(u.salt):u.salt;o=FB(i,d,u.n,u.p,u.r,u.dklen)}else if(r.crypto.kdf==="pbkdf2"){const u=r.crypto.kdfparams,d=typeof u.salt=="string"?on(u.salt):u.salt;o=DB(i,d,u.c,u.dklen,"sha256")}else throw new A8;const s=on(r.crypto.ciphertext);if(Mi(Gr(o.slice(16,32),s)).replace("0x","")!==r.crypto.mac)throw new nee;const l=yield Dre(on(r.crypto.ciphertext),o.slice(0,16),on(r.crypto.cipherparams.iv));return _A(l)});var c5=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const zoe=1e3;class Koe{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=tu(e),r=new fv;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return c5(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new fv({timeout:(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:zoe,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(i=>r.reject(i)),r.catch(i=>{i instanceof C8&&this._abortAllRequests("Batch request timeout"),r.reject(i)}),r})}_processBatchRequest(e){return c5(this,void 0,void 0,function*(){var n,r;const i=yield this._requestManager.sendBatch([...this._requests.values()].map(a=>a.payload));if(i.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new ts(i,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${i.length}`);const o=this.requests.map(a=>a.id).map(Number).sort((a,l)=>a-l),s=i.map(a=>a.id).map(Number).sort((a,l)=>a-l);if(JSON.stringify(o)!==JSON.stringify(s))throw this._abortAllRequests("Invalid batch response"),new ts(i,`Batch request mismatch the results. Requests: [${o.join()}], Responses: [${s.join()}]`);for(const a of i)Sl(a)?(n=this._requests.get(a.id))===null||n===void 0||n.promise.resolve(a.result):Al(a)&&((r=this._requests.get(a.id))===null||r===void 0||r.promise.reject(a.error));e.resolve(i)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new hee(e))}}var qoe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class fi extends Ire{constructor(e){var n;if(super(),this.providers=Uc.providers,ft(e)||typeof e=="string"&&e.trim()!==""||hv(e)){this._requestManager=new Uc(e),this._subscriptionManager=new pv(this._requestManager,{});return}const{config:r,provider:i,requestManager:o,subscriptionManager:s,registeredSubscriptions:a,accountProvider:l,wallet:u,requestManagerMiddleware:d}=e;this.setConfig(r??{}),this._requestManager=o??new Uc(i,(n=r==null?void 0:r.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,d),s?this._subscriptionManager=s:this._subscriptionManager=new pv(this.requestManager,a??{}),l&&(this._accountProvider=l),u&&(this._wallet=u)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(nu.CONFIG_CHANGE,i=>{r.setConfig({[i.name]:i.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(nu.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new pee(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return fi.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return Koe.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const i=(...o)=>qoe(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:o})});e.property?this[e.property][r.name]=i:this[r.name]=i}),this}}fi.providers=Uc.providers;class Nn{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=Nn._parseInt(n,36),i=Lp(r,40);return xs(i)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Nn.isIndirect(e)||Nn.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return Nn.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return Nn.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&Nn._mod9710(Nn._iso13616Prepare(e))===1}isValid(){return Nn.isValid(this._iban)}static fromBban(e){const n="XE",i=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${e}`))).toString()}`.slice(-2);return new Nn(`${n}${i}${e}`)}static createIndirect(e){return Nn.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!Ri(e))throw new V2(e);const r=BigInt(dm(e)).toString(36),i=Lp(r,15);return Nn.fromBban(i.toUpperCase())}static toIban(e){return Nn.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Nn._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(o=>{const s=o.charCodeAt(0);return s>=65&&s<=90?s-65+10:o}).join("")};Nn._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));Nn._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};Nn.toAddress=t=>new Nn(t).toAddress();var QE=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},rD;class iD extends mw{constructor(e){super(),this[rD]="Promise",this._promise=new Promise(e)}then(e,n){return QE(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return QE(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return QE(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}rD=Symbol.toStringTag;var ZE={},u5;function Goe(){return u5||(u5=1,function(t,e){if(t.setImmediate)return;var n=1,r={},i=!1,o=t.document,s;function a(_){typeof _!="function"&&(_=new Function(""+_));for(var x=new Array(arguments.length-1),P=0;P<x.length;P++)x[P]=arguments[P+1];var M={callback:_,args:x};return r[n]=M,s(n),n++}function l(_){delete r[_]}function u(_){var x=_.callback,P=_.args;switch(P.length){case 0:x();break;case 1:x(P[0]);break;case 2:x(P[0],P[1]);break;case 3:x(P[0],P[1],P[2]);break;default:x.apply(e,P);break}}function d(_){if(i)setTimeout(d,0,_);else{var x=r[_];if(x){i=!0;try{u(x)}finally{l(_),i=!1}}}}function h(){s=function(_){process.nextTick(function(){d(_)})}}function m(){if(t.postMessage&&!t.importScripts){var _=!0,x=t.onmessage;return t.onmessage=function(){_=!1},t.postMessage("","*"),t.onmessage=x,_}}function g(){var _="setImmediate$"+Math.random()+"$",x=function(P){P.source===t&&typeof P.data=="string"&&P.data.indexOf(_)===0&&d(+P.data.slice(_.length))};t.addEventListener?t.addEventListener("message",x,!1):t.attachEvent("onmessage",x),s=function(P){t.postMessage(_+P,"*")}}function b(){var _=new MessageChannel;_.port1.onmessage=function(x){var P=x.data;d(P)},s=function(x){_.port2.postMessage(x)}}function w(){var _=o.documentElement;s=function(x){var P=o.createElement("script");P.onreadystatechange=function(){d(x),P.onreadystatechange=null,_.removeChild(P),P=null},_.appendChild(P)}}function E(){s=function(_){setTimeout(d,0,_)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t,{}.toString.call(t.process)==="[object process]"?h():m()?g():t.MessageChannel?b():o&&"onreadystatechange"in o.createElement("script")?w():E(),y.setImmediate=a,y.clearImmediate=l}(typeof self>"u"?typeof nd>"u"?ZE:nd:self)),ZE}Goe();var yt=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Woe(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function oD(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function Yoe(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function Qoe(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function Zoe(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function Joe(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function Xoe(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function ese(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function tse(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function nse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function rse(t,e,n,r){return yt(this,void 0,void 0,function*(){return ct.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function ise(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function ose(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function sse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function ase(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function lse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function cse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function use(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function dse(t,e){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function fse(t,e){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function sD(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function hse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function pse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function mse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function aD(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function gse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function yse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function vse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function wse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function bse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function Ese(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function _se(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function xse(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function Sse(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function Ase(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function Cse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function kse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function Tse(t,e){return yt(this,void 0,void 0,function*(){return ct.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function Ise(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function Pse(t,e,n,r){return yt(this,void 0,void 0,function*(){return ct.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function Rse(t,e,n,r){return yt(this,void 0,void 0,function*(){ct.validate(["hex","blockNumberOrTag"],[e,n]);for(const i of r)ct.validate(["number"],[i]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function Mse(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function Ose(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function Nse(t){return yt(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function Lse(t,e,n,r){return yt(this,void 0,void 0,function*(){return ct.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function Bse(t){return yt(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function Dse(t,e,n){return yt(this,void 0,void 0,function*(){return ct.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function Fse(t,e,n,r=!1){return yt(this,void 0,void 0,function*(){return ct.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var xA=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function jse(t){return xA(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function Use(t){return xA(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function $se(t){return xA(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var _a=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Hse=t=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),Vse=(t,e)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),zse=(t,e,n,r)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),Kse=(t,e)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),qse=(t,e,n)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),Gse=(t,e,n)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),Wse=(t,e,n)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),Yse=(t,e,n,r)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),Qse=(t,e,n)=>_a(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),d5={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},f5={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},h5={type:"object",properties:{gasPrice:{type:"null"}}},rg=(t,e,n)=>{try{ct.validateJSONSchema(t,e)}catch(r){throw r instanceof Ud?new $ee(r.errors,n):r}},Zse=t=>{var e,n;const r=t;if(!ye(r.type)){let o;switch(r.type){case"0x0":o=d5;break;case"0x1":o=f5;break;case"0x2":o=h5;break;default:return Le({format:"uint"},r.type,wt)}return rg(o,r,r.type),Le({format:"uint"},r.type,wt)}if(!ye(r.maxFeePerGas)||!ye(r.maxPriorityFeePerGas))return rg(h5,r,"0x2"),"0x2";if(!ye(r.accessList))return rg(f5,r,"0x1"),"0x1";const i=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!ye(i)){const o=Object.keys(Kh).indexOf(i);if(o>=Object.keys(Kh).indexOf("london"))return ye(r.gasPrice)?"0x2":"0x0";if(o===Object.keys(Kh).indexOf("berlin"))return"0x0"}if(!ye(r.gasPrice))return rg(d5,r,"0x0"),"0x0"},Jse=(t,e)=>{var n;return((n=e==null?void 0:e.transactionTypeParser)!==null&&n!==void 0?n:Zse)(t)},Xse=t=>t[0]>127?"0x0":va(t[0]),eae={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},SA={type:"array",items:Object.assign({},eae)},tae={type:"object",properties:{accessList:Object.assign({},SA),gasUsed:{type:"string"}}},p5={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},m5={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},nae={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},lD={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},SA),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},p5),hardfork:Object.assign({},m5),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},nae),baseChain:Object.assign({},p5),hardfork:Object.assign({},m5)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},Ux={type:"object",properties:Object.assign(Object.assign({},lD.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},SA),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},cD={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},vv={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},Ux)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},cD)},withdrawalsRoot:{format:"bytes32"}}},rae={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},cD)},withdrawalsRoot:{format:"bytes32"}}},af={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},iae={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},lf={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},af)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},oae={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},sae={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},aae={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},lae={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},aae)}}};function pi(t,e=Vr,n={transactionSchema:Ux,fillInputAndData:!1}){var r,i;let o=zl({},t);if(ye(t==null?void 0:t.common)||(o.common=Object.assign({},t.common),ye((r=t.common)===null||r===void 0?void 0:r.customChain)||(o.common.customChain=Object.assign({},t.common.customChain))),o=Le((i=n.transactionSchema)!==null&&i!==void 0?i:Ux,o,e),!ye(o.data)&&!ye(o.input)&&va(o.data)!==va(o.input))throw new P8({data:Rt(o.data),input:Rt(o.input)});return n.fillInputAndData&&(ye(o.data)?ye(o.input)||(o.data=o.input):o.input=o.data),ye(o.gasLimit)||(o.gas=o.gasLimit,delete o.gasLimit),o}function cae(t,e,n={fillInputAndData:!1}){return{raw:Le({format:"bytes"},t,e),tx:pi(Object.assign(Object.assign({},iu.fromSerializedData(on(t)).toJSON()),{hash:Rt(Vd(on(t))),type:Xse(on(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var AA=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function CA(t,e){return AA(this,void 0,void 0,function*(){const n=yield jse(t.requestManager);return Le({format:"uint"},n,e)})}function uae(t,e){return AA(this,void 0,void 0,function*(){const n=yield Use(t.requestManager);return Le({format:"uint"},n,e)})}const dae=t=>AA(void 0,void 0,void 0,function*(){return $se(t.requestManager)});var JE=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uD extends fi{getId(e=this.defaultReturnFormat){return JE(this,void 0,void 0,function*(){return CA(this,e)})}getPeerCount(e=this.defaultReturnFormat){return JE(this,void 0,void 0,function*(){return uae(this,e)})}isListening(){return JE(this,void 0,void 0,function*(){return dae(this)})}}const Yd="ALLEVENTS",$x={name:Yd,signature:"",type:"event",inputs:[]},Ew={bytes:ma.HEX,number:so.NUMBER};var dD=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function fae(t,e,n){return dD(this,void 0,void 0,function*(){var r,i,o,s;const a=yield UD(e,e.defaultBlock,!1,wt);if(ye(a.baseFeePerGas))throw new Dee;let l;if(ye(t.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(l=yield LA(e,n)),!ye(t.gasPrice)||!ye(l)){const u=Le({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:l,n);return{maxPriorityFeePerGas:u,maxFeePerGas:u}}return{maxPriorityFeePerGas:Le({format:"uint"},(i=t.maxPriorityFeePerGas)!==null&&i!==void 0?i:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:Le({format:"uint"},(o=t.maxFeePerGas)!==null&&o!==void 0?o:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas),n)}})}function fD(t,e,n){return dD(this,void 0,void 0,function*(){const r=hD(t,e);if(!ye(r)){if(r.startsWith("-"))throw new AM(r);if(Number(r)<0||Number(r)>127)throw new AM(r);if(ye(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield LA(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield fae(t,e,n))}})}var kA=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Hx=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&Ri(n[t]))return n[t];if(!qt(n[t])&&aB(n[t])){if(e.wallet){const i=e.wallet.get(Le({format:"uint"},n[t],Ew));if(!ye(i))return i.address;throw new CM}throw new CM}else throw t==="from"?new vee(n.from):new wee(n.to)}if(t==="from"){if(!ye(r))return bw(r);if(!ye(e.defaultAccount))return e.defaultAccount}},hae=(t,e,...n)=>kA(void 0,[t,e,...n],void 0,function*(r,i,o=r.defaultReturnFormat){if(ye(i))throw new Bee;return HD(r,i,r.defaultBlock,o)}),hD=(t,e)=>{const n=Jse(t,e);if(!ye(n))return n;if(!ye(e.defaultTransactionType))return Le({format:"uint"},e.defaultTransactionType,wt)};function pae(t){return kA(this,void 0,void 0,function*(){var e,n;let r=Le(lD,t.transaction,t.web3Context.defaultReturnFormat);if(ye(r.from)&&(r.from=Hx("from",t.web3Context,void 0,t.privateKey)),ye(r.nonce)&&(r.nonce=yield hae(t.web3Context,r.from,wt)),ye(r.value)&&(r.value="0x0"),ye(r.data))ye(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!ye(r.input)&&r.data!==r.input)throw new P8({data:Rt(r.data),input:Rt(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(ye(r.common)){if(t.web3Context.defaultCommon){const i=t.web3Context.defaultCommon,o=i.customChain.chainId,s=i.customChain.networkId,a=i.customChain.name;r.common=Object.assign(Object.assign({},i),{customChain:{chainId:o,networkId:s,name:a}})}ye(r.chain)&&(r.chain=t.web3Context.defaultChain),ye(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(ye(r.chainId)&&ye((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield zD(t.web3Context,wt)),ye(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield CA(t.web3Context,wt)),ye(r.gasLimit)&&!ye(r.gas)&&(r.gasLimit=r.gas),r.type=hD(r,t.web3Context),ye(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield fD(r,t.web3Context,wt))),ye(r.gas)&&ye(r.gasLimit)&&t.fillGasLimit){const i=yield FA(t.web3Context,r,"latest",wt);r=Object.assign(Object.assign({},r),{gas:Le({format:"uint"},i,wt)})}return r})}const mae=t=>kA(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:pae)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var TA=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Vx(t,e,n){const r=t.transactionPollingInterval,[i,o]=EB(()=>TA(this,void 0,void 0,function*(){let a;try{a=yield BA(t,Ew)}catch(u){console.warn("An error happen while trying to get the block number",u);return}const l=a-e;if(l>=t.transactionBlockTimeout)return new O8({starterBlockNumber:e,numberOfBlocks:l,transactionHash:n})}),r);return[o,{clean:()=>{clearInterval(i)}}]}function gae(t,e,n){return TA(this,void 0,void 0,function*(){var r;let i=!0,o,s;function a(u,d){d&&console.warn("error happened at subscription. So revert to polling...",d),s.clean(),i=!1;const[h,m]=Vx(t,e,n);s.clean=m.clean,h.catch(g=>u(g))}try{o=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),s={clean:()=>{var u;o.id&&((u=t.subscriptionManager)===null||u===void 0||u.removeSubscription(o).then(()=>{}).catch(()=>{}))}}}catch{return Vx(t,e,n)}return[new Promise((u,d)=>{try{o.on("data",h=>{if(i=!1,!(h!=null&&h.number))return;const m=Number(BigInt(h.number)-BigInt(e));m>=t.transactionBlockTimeout&&d(new O8({starterBlockNumber:e,numberOfBlocks:m,transactionHash:n}))}),o.on("error",h=>{a(d,h)})}catch(h){a(d,h)}setTimeout(()=>{i&&a(d)},t.blockHeaderTimeout*1e3)}),s]})}function pD(t,e){return TA(this,void 0,void 0,function*(){var n,r;const{provider:i}=t.requestManager;let o;const s=yield BA(t,Ew);return!((r=(n=i).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?o=yield gae(t,s,e):o=Vx(t,s,e),o})}var yae=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function zx(t,e,n){return yae(this,void 0,void 0,function*(){const[r,i]=oA(t.transactionSendTimeout,new Fee({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[o,s]=yield pD(t,n);try{return yield Promise.race([e(),i,o])}finally{clearTimeout(r),s.clean()}})}var g5=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function mD(t,e,n,r){return g5(this,void 0,void 0,function*(){var i;const o=(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval,[s,a]=iA(()=>g5(this,void 0,void 0,function*(){try{return(r??$D)(t,e,n)}catch(m){console.warn("An error happen while trying to get the transaction receipt",m);return}}),o),[l,u]=oA(t.transactionPollingTimeout,new M8({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[d,h]=yield pD(t,e);try{return yield Promise.race([s,u,d])}finally{l&&clearTimeout(l),a&&clearInterval(a),h.clean()}})}var vae=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ug=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})=>{var o;let s=1;const a=setInterval(()=>{vae(void 0,void 0,void 0,function*(){if(s>=t.transactionConfirmationBlocks){clearInterval(a);return}const l=yield aD(t.requestManager,Vn(BigInt(e.blockNumber)+BigInt(s)),!1);l!=null&&l.hash&&(s+=1,n.emit("confirmation",{confirmations:Le({format:"uint"},s,i),receipt:Le(r??lf,e,i),latestBlockHash:Le({format:"bytes32"},l.hash,i)}))})},(o=t.transactionReceiptPollingInterval)!==null&&o!==void 0?o:t.transactionPollingInterval)};var y5=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const wae=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})=>{let o=!0,s;setImmediate(()=>{var a;(a=t.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(l=>{l.on("data",u=>y5(void 0,void 0,void 0,function*(){var d;if(o=!1,!(u!=null&&u.number)||s===(u==null?void 0:u.parentHash))return;s=u==null?void 0:u.parentHash;const h=BigInt(u.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:Le({format:"uint"},h,i),receipt:Le(r??lf,e,i),latestBlockHash:Le({format:"bytes32"},u.parentHash,i)}),h>=t.transactionConfirmationBlocks&&(yield(d=t.subscriptionManager)===null||d===void 0?void 0:d.removeSubscription(l))})),l.on("error",()=>y5(void 0,void 0,void 0,function*(){var u;yield(u=t.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(l),o=!1,Ug({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})}))}).catch(()=>{o=!1,Ug({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:i})})}),setTimeout(()=>{o&&Ug({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:i})},t.blockHeaderTimeout*1e3)};function bae(t,e,n,r,i,o){if(ye(n)||ye(n.blockHash))throw new jee({receipt:n,blockHash:Le({format:"bytes32"},n==null?void 0:n.blockHash,i),transactionHash:Le({format:"bytes32"},r,i)});if(!n.blockNumber)throw new Uee({receipt:n});e.emit("confirmation",{confirmations:Le({format:"uint"},1,i),receipt:Le(o??lf,n,i),latestBlockHash:Le({format:"bytes32"},n.blockHash,i)});const s=t.requestManager.provider;s&&"supportsSubscriptions"in s&&s.supportsSubscriptions()?wae({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:o,returnFormat:i}):Ug({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:o,returnFormat:i})}const _w=t=>!ft(t)&&typeof t=="object"&&!ft(t.type)&&t.type==="error",IA=t=>!ft(t)&&typeof t=="object"&&!ft(t.type)&&t.type==="event",xw=t=>!ft(t)&&typeof t=="object"&&!ft(t.type)&&t.type==="function",Eae=t=>!ft(t)&&typeof t=="object"&&!ft(t.type)&&t.type==="constructor",_ae=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",gD=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},yD=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},gD(n)),{components:yD(r)})):e.push({name:n,type:t[n]})}return e},Kx=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new Nt(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const i=r.type.indexOf("["),o=i>=0?r.type.substring(i):"",s=Kx(t,r.components);n.push(`(${s.join(",")})${o}`)}else n.push(r.type)}),n},ca=t=>{var e,n,r,i;return _w(t)||IA(t)||xw(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${Kx(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${Kx(!1,(i=t.inputs)!==null&&i!==void 0?i:[]).join(",")})`},xae=t=>{if(typeof t!="string"&&!_w(t))throw new Nt("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=ca(t):e=t,Mi(e)},PA=t=>{if(typeof t!="string"&&!IA(t))throw new Nt("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=ca(t):e=t,Mi(e)};function RA(t,e){const n=t.exec(e);return n==null?void 0:n.groups}var vD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wD=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bD=/^\(.+?\).*?$/,Sae=Object.defineProperty,Aae=(t,e,n)=>e in t?Sae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ch=(t,e,n)=>(Aae(t,typeof e!="symbol"?e+"":e,n),n),Cae="abitype",kae="0.7.1",ci=class extends Error{constructor(t,e={}){var o;const n=e.cause instanceof ci?e.cause.details:(o=e.cause)!=null&&o.message?e.cause.message:e.details,r=e.cause instanceof ci&&e.cause.docsPath||e.docsPath,i=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${Cae}@${kae}`].join(`
`);super(i),ch(this,"details"),ch(this,"docsPath"),ch(this,"metaMessages"),ch(this,"shortMessage"),ch(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}},ED=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function _D(t){return ED.test(t)}function Tae(t){return RA(ED,t)}var v5=new Set(["memory","indexed","storage","calldata"]),Iae=new Set(["calldata","memory","storage"]);function Pae(t,e){return e?`${e}:${t}`:t}var XE=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),Rae=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Mae=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Oae=/^u?int$/;function wv(t,e){var h,m;const n=Pae(t,e==null?void 0:e.type);if(XE.has(n))return XE.get(n);const r=bD.test(t),i=RA(r?Mae:Rae,t);if(!i)throw new ci("Invalid ABI parameter.",{details:t});if(i.name&&Lae(i.name))throw new ci("Invalid ABI parameter.",{details:t,metaMessages:[`"${i.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,u={};if(r){l="tuple";const g=ed(i.type),b=[],w=g.length;for(let E=0;E<w;E++)b.push(wv(g[E],{structs:a}));u={components:b}}else if(i.type in a)l="tuple",u={components:a[i.type]};else if(Oae.test(i.type))l=`${i.type}256`;else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!xD(l))throw new ci("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(i.modifier){if(!((m=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&m.call(h,i.modifier)))throw new ci("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`]});if(Iae.has(i.modifier)&&!Bae(l,!!i.array))throw new ci("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i.modifier}" was given.`]})}const d={type:`${l}${i.array??""}`,...o,...s,...u};return XE.set(n,d),d}function ed(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new ci("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const i=t.length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?ed(a,[...e,n.trim()]):ed(a,e,`${n}${s}`,r);case"(":return ed(a,e,`${n}${s}`,r+1);case")":return ed(a,e,`${n}${s}`,r-1);default:return ed(a,e,`${n}${s}`,r)}}return[]}function xD(t){return t==="address"||t==="bool"||t==="function"||t==="string"||vD.test(t)||wD.test(t)}var Nae=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Lae(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||vD.test(t)||wD.test(t)||Nae.test(t)}function Bae(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Dae(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!_D(a))continue;const l=Tae(a);if(!l)throw new ci("Invalid struct signature.",{details:a});const u=l.properties.split(";"),d=[],h=u.length;for(let m=0;m<h;m++){const b=u[m].trim();if(!b)continue;const w=wv(b,{type:"struct"});d.push(w)}if(!d.length)throw new ci("Invalid struct signature.",{details:a,metaMessages:["No properties exist."]});e[l.name]=d}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];r[a]=SD(l,e)}return r}var Fae=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function SD(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(bD.test(s.type))r.push(s);else{const l=RA(Fae,s.type);if(!(l!=null&&l.type))throw new ci("Invalid ABI parameter.",{details:JSON.stringify(s,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new ci("Circular reference detected.",{metaMessages:[`Struct "${d}" is a circular reference.`]});r.push({...s,type:`tuple${u??""}`,components:SD(e[d]??[],e,new Set([...n,d]))})}else if(xD(d))r.push(s);else throw new ci("Unknown type.",{metaMessages:[`Type "${d}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function jae(t){let e;if(typeof t=="string")e=wv(t,{modifiers:v5});else{const n=Dae(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!_D(o)){e=wv(o,{modifiers:v5,structs:n});break}}}if(!e)throw new ci("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const An=32;function qx(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function AD(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>AD(r))})}function Uae(t){return!ft(t)&&typeof t=="object"&&!ft(t.type)&&typeof t.type=="string"}function CD(t){return t.map(e=>{var n;if(Uae(e))return e;if(typeof e=="string")return AD(jae(e.replace(/tuple/,"")));if(_ae(e)){const r=Object.keys(e)[0],i=gD(r);return i.name=(n=i.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},i),{components:yD(e[r])})}throw new Nt("Invalid abi")})}function MA(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let i=-1;if(r!=="[]"&&(i=Number(r.slice(1,-1)),isNaN(i)))throw new Nt("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:i}}function bv(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(bv))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?bv(MA(t).param):!1}const kD=20,TD=An-kD;function $ae(t,e){if(typeof e!="string")throw new Nt("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!Ri(n))throw new Nt("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=pu(n),i=qx(An);return i.set(r,TD),{dynamic:!1,encoded:i}}function Hae(t,e){const n=e.subarray(TD,An);if(n.length!==kD)throw new Nt("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=ba(n);return{result:xs(r),encoded:e.subarray(An),consumed:An}}const Dl=new Map;let ig=BigInt(256);for(let t=8;t<=256;t+=8)Dl.set(`uint${t}`,{min:BigInt(0),max:ig-BigInt(1)}),Dl.set(`int${t}`,{min:-ig/BigInt(2),max:ig/BigInt(2)-BigInt(1)}),ig*=BigInt(256);Dl.set("int",Dl.get("int256"));Dl.set("uint",Dl.get("uint256"));const ID=BigInt(1)<<BigInt(256);function Vae(t,e=An){let n;return t<0?n=(ID+t).toString(16):n=t.toString(16),n=Hd(n,e*2),pu(n)}function zae(t,e){const n=ba(t),r=BigInt(n);return r<=e?r:r-ID}function gm(t,e){let n;try{n=Pc(e)}catch{throw new Nt("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=Dl.get(t.type);if(!r)throw new Nt("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new Nt("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new Nt("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:Vae(n)}}function Qd(t,e){if(e.length<An)throw new Nt("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,An),r=Dl.get(t.type);if(!r)throw new Nt("provided abi contains invalid number datatype",{type:t.type});const i=zae(n,r.max);if(i<r.min)throw new Nt("decoded value is less then minimum for given type",{type:t.type,value:i,name:t.name,minimum:r.min.toString()});if(i>r.max)throw new Nt("decoded value is greater then maximum for given type",{type:t.type,value:i,name:t.name,maximum:r.max.toString()});return{result:i,encoded:e.subarray(An),consumed:An}}function Kae(t,e){let n;try{n=fB(e)}catch(r){if(r instanceof z2)throw new Nt("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return gm({type:"uint8",name:""},Number(n))}function qae(t,e){const n=Qd({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new Nt("Invalid boolean value encoded",{boolBytes:e.subarray(0,An),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:An}}const Gae=32;function PD(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!Hl(e))throw new Nt("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=bs(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>Gae||Number(r)<1)throw new Nt("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new Nt("provided input size is different than type size",{type:t.type,value:e,name:t.name});const s=qx(An);return s.set(n),{dynamic:!1,encoded:s}}const i=Math.ceil(n.length/An),o=qx(An+i*An);return o.set(gm({type:"uint32",name:""},n.length).encoded),o.set(n,An),{dynamic:!0,encoded:o}}function RD(t,e){const[,n]=t.type.split("bytes");let r=Number(n),i=e,o=1,s=0;if(!r){const a=Qd({type:"uint32",name:""},i);r=Number(a.result),s+=a.consumed,i=a.encoded,o=Math.ceil(r/An)}if(r>e.length)throw new Nt("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:Rt(i.subarray(0,r)),encoded:i.subarray(o*An),consumed:s+o*An}}function Wae(t,e){if(typeof e!="string")throw new Nt("invalid input, should be string",{input:e});const n=tA(e);return PD({type:"bytes",name:""},n)}function Yae(t,e){const n=RD({type:"bytes"},e);return{result:dw(n.result),encoded:n.encoded,consumed:n.consumed}}function MD(t){let e=0,n=0;const r=[],i=[];for(const o of t)o.dynamic?e+=An:e+=o.encoded.length;for(const o of t)o.dynamic?(r.push(gm({type:"uint256",name:""},e+n)),i.push(o),n+=o.encoded.length):r.push(o);return Gr(...r.map(o=>o.encoded),...i.map(o=>o.encoded))}function Qae(t,e){if(!Array.isArray(e))throw new Nt("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=MA(t),i=e.map(a=>Gx(r,a)),o=n===-1,s=i.length>0&&i[0].dynamic;if(!o&&e.length!==n)throw new Nt("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(o||s){const a=MD(i);if(o){const l=gm({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?Gr(l,a):l}}return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Gr(...i.map(a=>a.encoded))}}function Zae(t,e){let{size:n,param:r}=MA(t);const i=n===-1;let o=0;const s=[];let a=e;if(i){const u=Qd({type:"uint32",name:""},e);n=Number(u.result),o=u.consumed,a=u.encoded}if(bv(r)){for(let u=0;u<n;u+=1){const d=Qd({type:"uint32",name:""},a.subarray(u*An));o+=d.consumed;const h=Ev(r,a.subarray(Number(d.result)));o+=h.consumed,s.push(h.result)}return{result:s,encoded:a.subarray(o),consumed:o}}for(let u=0;u<n;u+=1){const d=Ev(r,e.subarray(o));o+=d.consumed,s.push(d.result)}return{result:s,encoded:e.subarray(o),consumed:o}}function Gx(t,e){if(t.type==="string")return Wae(t,e);if(t.type==="bool")return Kae(t,e);if(t.type==="address")return $ae(t,e);if(t.type==="tuple")return OA(t,e);if(t.type.endsWith("]"))return Qae(t,e);if(t.type.startsWith("bytes"))return PD(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return gm(t,e);throw new Nt("Unsupported",{param:t,value:e})}function Ev(t,e){if(t.type==="string")return Yae(t,e);if(t.type==="bool")return qae(t,e);if(t.type==="address")return Hae(t,e);if(t.type==="tuple")return OD(t,e);if(t.type.endsWith("]"))return Zae(t,e);if(t.type.startsWith("bytes"))return RD(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Qd(t,e);throw new Nt("Unsupported",{param:t,bytes:e})}function OA(t,e){var n,r,i;let o=!1;if(!Array.isArray(e)&&typeof e!="object")throw new Nt("param must be either Array or Object",{param:t,input:e});const s=e,a=[];for(let l=0;l<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);l+=1){const u=t.components[l];let d;if(Array.isArray(s)){if(l>=s.length)throw new Nt("input param length missmatch",{param:t,input:e});d=Gx(u,s[l])}else{const h=s[(i=u.name)!==null&&i!==void 0?i:""];if(h==null)throw new Nt("missing input defined in abi",{param:t,input:e,paramName:u.name});d=Gx(u,h)}d.dynamic&&(o=!0),a.push(d)}return o?{dynamic:!0,encoded:MD(a)}:{dynamic:!1,encoded:Gr(...a.map(l=>l.encoded))}}function OD(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let i=0;for(const[o,s]of t.components.entries()){let a;if(bv(s)){const l=Qd({type:"uint32",name:""},e.subarray(r));a=Ev(s,e.subarray(Number(l.result))),r+=l.consumed,i+=a.consumed}else a=Ev(s,e.subarray(r)),r+=a.consumed;n.__length__+=1,n[o]=a.result,s.name&&s.name!==""&&(n[s.name]=a.result)}return{encoded:e.subarray(r+i),result:n,consumed:r+i}}function Jae(t,e,n){const r=CD(t),i=pu(e);return OD({components:r},i).result}function ND(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=ND(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:va(n,!0)})}),e}function Sw(t,e){if((t==null?void 0:t.length)!==e.length)throw new Nt("Invalid number of values received for given ABI",{expected:t==null?void 0:t.length,received:e.length});const n=CD(t);return ba(OA({type:"tuple",name:"",components:n},e).encoded)}function Xae(t){try{const e=ND(t);return ba(OA({type:"tuple",name:"",components:e},t).encoded)}catch{throw new Nt("Could not infer types from given params",{params:t})}}const Wx=(t,e)=>Sw([t],[e]),LD=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new Nt("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return Jae(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new Nt(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Hc=(t,e)=>LD(t,e,!1),BD=(t,e)=>Hc([t],e)[0],$p=t=>{if(typeof t!="string"&&!xw(t))throw new Nt("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=ca(t):e=t,Mi(e).slice(0,10)},ele=(t,e)=>{var n;if(!xw(t))throw new Nt("Invalid parameter value in encodeFunctionCall");return`${$p(t)}${Sw((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},Yx=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new zr("No inputs found in the ABI");const i=Hc([...t.inputs],r);return Object.assign(Object.assign({},i),{__method__:ca(t)})},tle=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=Hc([...t.outputs],n);return r.__length__===1?r[0]:r},nle=["bool","string","int","uint","address","fixed","ufixed"],rle=(t,e)=>t==="string"?e:BD(t,e),DD=(t,e,n)=>{const r=Array.isArray(n)?n:[n],i={},o={};for(const[m,g]of t.entries())g.indexed?i[m]=g:o[m]=g;const s=e?LD(Object.values(o),e,!0):{__length__:0},a=r.length-Object.keys(i).length,l=Object.values(i).map((m,g)=>nle.some(b=>m.type.startsWith(b))?rle(m.type,r[g+a]):r[g+a]),u={__length__:0};let d=0,h=0;for(const[m,g]of t.entries())u[m]=g.type==="string"?"":void 0,i[m]&&(u[m]=l[d],d+=1),o[m]&&(u[m]=s[String(h)],h+=1),g.name&&(u[g.name]=u[m]),u.__length__+=1;return u},$g=(t,e)=>{if(e!=null&&e.data){let n,r,i;try{const o=e.data.slice(0,10),s=t.find(a=>xae(a).startsWith(o));s!=null&&s.inputs?(n=s.name,r=ca(s),i=Hc([...s.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",i=Hc([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",i=Hc([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(o){console.error(o)}n&&e.setDecodedProperties(n,r,i)}};var ile=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ole=(t,e)=>{var n,r,i,o,s;if(t instanceof Fc&&t.cause instanceof nw){if(e!==void 0){const a=e.filter(l=>_w(l));return $g(a,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(i=t.cause.data)===null||i===void 0?void 0:i.slice(0,10),data:(o=t.cause.data)===null||o===void 0?void 0:o.substring(10)}}if(t instanceof rw&&!Array.isArray((s=t.cause)===null||s===void 0?void 0:s.errors)&&t.cause!==void 0)return t.cause.message;throw t};function FD(t,e,n){return ile(this,arguments,void 0,function*(r,i,o,s=r.defaultReturnFormat){try{yield DA(r,i,r.defaultBlock,s);return}catch(a){return ole(a,o)}})}var sle=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function e_(t,e,n,r,i,o){return sle(this,void 0,void 0,function*(){let s=o;s===void 0&&t.handleRevert&&e!==void 0&&(s=yield FD(t,e,i));let a;if(s===void 0)a=new T8(n);else if(typeof s=="string")a=new Yy(s,void 0,n);else if(s.customErrorName!==void 0&&s.customErrorDecodedSignature!==void 0&&s.customErrorArguments!==void 0){const l=s;a=new k8(l.reason,l.customErrorName,l.customErrorDecodedSignature,l.customErrorArguments,l.signature,n,l.data)}else a=new Yy(s.reason,s.signature,n,s.data);return a})}const NA=(t,e,n,r=Vr)=>{var i,o,s,a,l,u;let d=Object.assign({},t);const h=Le(af,e,r);if([Yd,"allEvents"].includes(d.name)){const g=n.find(b=>b.signature===e.topics[0]);g?d=g:d={anonymous:!0}}if(d.inputs=(o=(i=d.inputs)!==null&&i!==void 0?i:t.inputs)!==null&&o!==void 0?o:[],!d.anonymous){let g=0;((s=d.inputs)!==null&&s!==void 0?s:[]).forEach(b=>{b.indexed&&(g+=1)}),g>0&&(e!=null&&e.topics)&&(e==null?void 0:e.topics.length)!==g+1&&(d=Object.assign(Object.assign({},d),{anonymous:!0,inputs:[]}))}const m=d.anonymous?e.topics:((a=e.topics)!==null&&a!==void 0?a:[]).slice(1);return Object.assign(Object.assign({},h),{returnValues:DD([...(l=d.inputs)!==null&&l!==void 0?l:[]],e.data,m),event:d.name,signature:!d.anonymous&&((u=e.topics)===null||u===void 0?void 0:u.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var dc=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class jD{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:i}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=i}getReceiptWithEvents(e){var n,r;const i=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&i.logs&&i.logs.length>0){i.events={};for(const o of i.logs){const s=NA($x,o,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);s.event&&(i.events[s.event]=s)}}return i}checkRevertBeforeSending(e){return dc(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;ye(e.data)&&ye(e.input)&&ye(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield FD(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield e_(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return dc(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var i;let o=n;return!this.web3Context.config.ignoreGasPricing&&!(!((i=this.options)===null||i===void 0)&&i.ignoreGasPricing)&&ye(n.gasPrice)&&(ye(r.maxPriorityFeePerGas)||ye(r.maxFeePerGas))&&(o=Object.assign(Object.assign({},n),yield fD(n,this.web3Context,wt))),o})}signAndSend(e){return dc(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const i=yield n.signTransaction(r);return zx(this.web3Context,()=>dc(this,void 0,void 0,function*(){return sD(this.web3Context.requestManager,i.rawTransaction)}),i.transactionHash)}return zx(this.web3Context,()=>dc(this,void 0,void 0,function*(){return fse(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return dc(this,arguments,void 0,function*({error:n,tx:r}){var i;let o=n;return o instanceof Fc&&this.web3Context.handleRevert&&(o=yield e_(this.web3Context,r,void 0,void 0,(i=this.options)===null||i===void 0?void 0:i.contractAbi)),(o instanceof rw||o instanceof Fc||o instanceof k8||o instanceof T8||o instanceof Yy||o instanceof M8)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",o),o})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&bae(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return dc(this,arguments,void 0,function*({receipt:n,tx:r}){var i,o,s;if(!((i=this.options)===null||i===void 0)&&i.transactionResolver)return(o=this.options)===null||o===void 0?void 0:o.transactionResolver(n);if(n.status===BigInt(0)){const a=yield e_(this.web3Context,r,n,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a}else return n})}}var Zt=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},ale=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lle=t=>Zt(void 0,void 0,void 0,function*(){return oD(t.requestManager)});function cle(t,e){return Zt(this,void 0,void 0,function*(){const n=yield Zoe(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function LA(t,e){return Zt(this,void 0,void 0,function*(){const n=yield Joe(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function ule(t,e){return Zt(this,void 0,void 0,function*(){const n=yield Xoe(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function BA(t,e){return Zt(this,void 0,void 0,function*(){const n=yield tse(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function dle(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o){const s=er(i)?i:Le({format:"uint"},i,wt),a=yield nse(n.requestManager,r,s);return Le({format:"uint"},a,o??n.defaultReturnFormat)})}function fle(t,e,n){return Zt(this,arguments,void 0,function*(r,i,o,s=r.defaultBlock,a){const l=Le({format:"uint"},o,wt),u=er(s)?s:Le({format:"uint"},s,wt),d=yield rse(r.requestManager,i,l,u);return Le({format:"bytes"},d,a??r.defaultReturnFormat)})}function hle(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o){const s=er(i)?i:Le({format:"uint"},i,wt),a=yield cse(n.requestManager,r,s);return Le({format:"bytes"},a,o??n.defaultReturnFormat)})}function UD(t){return Zt(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,i){var o;let s;if(Hl(n)){const l=Le({format:"bytes32"},n,wt);s=yield mse(e.requestManager,l,r)}else{const l=er(n)?n:Le({format:"uint"},n,wt);s=yield aD(e.requestManager,l,r)}const a=Le(vv,s,i??e.defaultReturnFormat);return ye(a)?a:Object.assign(Object.assign({},a),{transactions:(o=a.transactions)!==null&&o!==void 0?o:[]})})}function ple(t){return Zt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let i;if(Hl(n)){const o=Le({format:"bytes32"},n,wt);i=yield ose(e.requestManager,o)}else{const o=er(n)?n:Le({format:"uint"},n,wt);i=yield sse(e.requestManager,o)}return Le({format:"uint"},i,r??e.defaultReturnFormat)})}function mle(t){return Zt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let i;if(Hl(n)){const o=Le({format:"bytes32"},n,wt);i=yield ase(e.requestManager,o)}else{const o=er(n)?n:Le({format:"uint"},n,wt);i=yield lse(e.requestManager,o)}return Le({format:"uint"},i,r??e.defaultReturnFormat)})}function gle(t){return Zt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,i){const o=Le({format:"uint"},r,wt);let s;if(Hl(n)){const a=Le({format:"bytes32"},n,wt);s=yield bse(e.requestManager,a,o)}else{const a=er(n)?n:Le({format:"uint"},n,wt);s=yield Ese(e.requestManager,a,o)}return Le(vv,s,i??e.defaultReturnFormat)})}function yle(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultReturnFormat){const o=Le({format:"bytes32"},r,Vr),s=yield gse(n.requestManager,o);return ye(s)?s:pi(s,i,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function vle(t,e){return Zt(this,void 0,void 0,function*(){return(yield Mse(t.requestManager)).map(r=>pi(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function wle(t){return Zt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,i){const o=Le({format:"uint"},r,wt);let s;if(Hl(n)){const a=Le({format:"bytes32"},n,wt);s=yield yse(e.requestManager,a,o)}else{const a=er(n)?n:Le({format:"uint"},n,wt);s=yield vse(e.requestManager,a,o)}return ye(s)?s:pi(s,i??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function $D(t,e,n){return Zt(this,void 0,void 0,function*(){const r=Le({format:"bytes32"},e,Vr);let i;try{i=yield wse(t.requestManager,r)}catch(o){if(typeof o=="object"&&!ye(o)&&"message"in o&&o.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw o}return ye(i)?i:Le(lf,i,n??t.defaultReturnFormat)})}function HD(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o){const s=er(i)?i:Le({format:"uint"},i,wt),a=yield ise(n.requestManager,r,s);return Le({format:"uint"},a,o??n.defaultReturnFormat)})}function Hp(t,e,n,r={checkRevertBeforeSending:!0},i){const o=new iD((s,a)=>{setImmediate(()=>{Zt(this,void 0,void 0,function*(){const l=new jD({web3Context:t,promiEvent:o,options:r,returnFormat:n});let u=Object.assign({},e);ye(i)||(u=yield i.processTransaction(u));let d=pi(Object.assign(Object.assign({},u),{from:Hx("from",t,u),to:Hx("to",t,u)}),wt,{transactionSchema:t.config.customTransactionSchema});try{d=yield l.populateGasPrice({transaction:u,transactionFormatted:d}),yield l.checkRevertBeforeSending(d),l.emitSending(d);let h;t.wallet&&!ye(d.from)&&(h=t.wallet.get(d.from));const m=yield l.signAndSend({wallet:h,tx:d}),g=Le({format:"bytes32"},m,n??t.defaultReturnFormat);l.emitSent(d),l.emitTransactionHash(g);const b=yield mD(t,m,n??t.defaultReturnFormat),w=l.getReceiptWithEvents(Le(lf,b,n??t.defaultReturnFormat));l.emitReceipt(w),s(yield l.handleResolve({receipt:w,tx:d})),l.emitConfirmation({receipt:w,transactionHash:m})}catch(h){a(yield l.handleError({error:h,tx:d}))}})})});return o}function ble(t,e,n,r={checkRevertBeforeSending:!0}){const i=new iD((o,s)=>{setImmediate(()=>{Zt(this,void 0,void 0,function*(){const a=new jD({web3Context:t,promiEvent:i,options:r,returnFormat:n}),l=Le({format:"bytes"},e,wt),u=iu.fromSerializedData(bs(on(l))),d=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{const{v:h,r:m,s:g}=d,b=ale(d,["v","r","s"]);yield a.checkRevertBeforeSending(b),a.emitSending(l);const w=yield zx(t,()=>Zt(this,void 0,void 0,function*(){return sD(t.requestManager,l)}));a.emitSent(l);const E=Le({format:"bytes32"},w,n??t.defaultReturnFormat);a.emitTransactionHash(E);const y=yield mD(t,w,n??t.defaultReturnFormat),_=a.getReceiptWithEvents(Le(lf,y,n??t.defaultReturnFormat));a.emitReceipt(_),o(yield a.handleResolve({receipt:_,tx:d})),a.emitConfirmation({receipt:_,transactionHash:w})}catch(h){s(yield a.handleError({error:h,tx:d}))}})})});return i}function Ele(t,e,n){return Zt(this,arguments,void 0,function*(r,i,o,s=r.defaultReturnFormat){var a;const l=Le({format:"bytes"},i,Vr);if(!((a=r.wallet)===null||a===void 0)&&a.get(o)){const h=r.wallet.get(o).sign(l);return Le(oae,h,s)}if(typeof o=="number")throw new gee(i,'RPC method "eth_sign" does not support index signatures');const u=yield use(r.requestManager,o,l);return Le({format:"bytes"},u,s)})}function _le(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultReturnFormat){const o=yield dse(n.requestManager,pi(r,wt,{transactionSchema:n.config.customTransactionSchema}));return Q2(o)?cae(o,i,{fillInputAndData:!0}):{raw:Le({format:"bytes"},o.raw,i),tx:pi(o.tx,i,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function DA(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o=n.defaultReturnFormat){const s=er(i)?i:Le({format:"uint"},i,wt),a=yield hse(n.requestManager,pi(r,wt,{transactionSchema:n.config.customTransactionSchema}),s);return Le({format:"bytes"},a,o)})}function FA(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o){const s=pi(r,wt,{transactionSchema:n.config.customTransactionSchema}),a=er(i)?i:Le({format:"uint"},i,wt),l=yield pse(n.requestManager,s,a);return Le({format:"uint"},l,o??n.defaultReturnFormat)})}function VD(t,e,n){return Zt(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;ye(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Vn(r)),ye(i)||(typeof i=="number"||typeof i=="bigint")&&(i=Vn(i));const o=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r});return(yield Tse(t.requestManager,o)).map(l=>typeof l=="string"?l:Le(af,l,n??t.defaultReturnFormat))})}function zD(t,e){return Zt(this,void 0,void 0,function*(){const n=yield Nse(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function xle(t,e,n){return Zt(this,arguments,void 0,function*(r,i,o,s=r.defaultBlock,a){const l=o.map(h=>Le({format:"bytes"},h,wt)),u=er(s)?s:Le({format:"uint"},s,wt),d=yield Lse(r.requestManager,i,l,u);return Le(lae,d,a??r.defaultReturnFormat)})}function Sle(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o,s){const a=Le({format:"uint"},r,wt),l=er(i)?i:Le({format:"uint"},i,wt),u=Le({type:"array",items:{format:"uint"}},o,Ew),d=yield Rse(n.requestManager,a,l,u);return Le(sae,d,s??n.defaultReturnFormat)})}function KD(t,e){return Zt(this,arguments,void 0,function*(n,r,i=n.defaultBlock,o){const s=er(i)?i:Le({format:"uint"},i,wt),a=yield Dse(n.requestManager,pi(r,wt,{transactionSchema:n.config.customTransactionSchema}),s);return Le(tae,a,o??n.defaultReturnFormat)})}function Ale(t,e,n,r,i){return Zt(this,void 0,void 0,function*(){const o=yield Fse(t.requestManager,e,n,r);return Le({format:"bytes"},o,i??t.defaultReturnFormat)})}var cf=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Cle(t,e){return cf(this,void 0,void 0,function*(){const n=yield Sse(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function kle(t,e,n){return cf(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;ye(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Vn(r)),ye(i)||(typeof i=="number"||typeof i=="bigint")&&(i=Vn(i));const o=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r}),s=yield _se(t.requestManager,o);return Le({format:"uint"},s,n??t.defaultReturnFormat)})}function Tle(t,e){return cf(this,void 0,void 0,function*(){const n=yield xse(t.requestManager);return Le({format:"uint"},n,e??t.defaultReturnFormat)})}function Ile(t,e){return cf(this,void 0,void 0,function*(){return yield Ase(t.requestManager,Vn(e))})}function Ple(t,e,n){return cf(this,void 0,void 0,function*(){return(yield Cse(t.requestManager,Vn(e))).map(o=>typeof o=="string"?o:Le(af,o,n??t.defaultReturnFormat))})}function Rle(t,e,n){return cf(this,void 0,void 0,function*(){return(yield kse(t.requestManager,Vn(e))).map(o=>typeof o=="string"?o:Le(af,o,n??t.defaultReturnFormat))})}class qD extends hm{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return Le(af,e,super.returnFormat)}}class w5 extends hm{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return Le({format:"string"},e,super.returnFormat)}}class _v extends hm{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return Le(rae,e,super.returnFormat)}}class GD extends hm{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries((e==null?void 0:e.status)||e).map(([r,i])=>[r.charAt(0).toLowerCase()+r.substring(1),i]));this.emit("changed",e.syncing),this.emit("data",Le(iae,n,super.returnFormat))}}}var Et=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Qx={logs:qD,newPendingTransactions:w5,newHeads:_v,syncing:GD,pendingTransactions:w5,newBlockHeaders:_v};class Aw extends fi{constructor(e){if(typeof e=="string"||hv(e)){super({provider:e,registeredSubscriptions:Qx});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:Qx})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Et(this,void 0,void 0,function*(){return Woe(this.requestManager)})}isSyncing(){return Et(this,void 0,void 0,function*(){return oD(this.requestManager)})}getCoinbase(){return Et(this,void 0,void 0,function*(){return Yoe(this.requestManager)})}isMining(){return Et(this,void 0,void 0,function*(){return Qoe(this.requestManager)})}getHashrate(e){return Et(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:Vr),this.getHashRate(e)})}getHashRate(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return cle(this,e)})}getGasPrice(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return LA(this,e)})}getMaxPriorityFeePerGas(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return ule(this,e)})}calculateFeeData(){return Et(this,arguments,void 0,function*(e=BigInt(2),n=uw.Gwei){var r;const i=yield this.getBlock(void 0,!1),o=(r=i==null?void 0:i.baseFeePerGas)!==null&&r!==void 0?r:void 0;let s;try{s=yield this.getGasPrice()}catch{}let a;try{a=yield this.getMaxPriorityFeePerGas()}catch{}let l;if(o){a=a??n;let u;typeof e=="number"?u=BigInt(Math.floor(e*1e3))/BigInt(1e3):u=e,l=o*u+a}return{gasPrice:s,maxFeePerGas:l,maxPriorityFeePerGas:a,baseFeePerGas:o}})}getAccounts(){return Et(this,void 0,void 0,function*(){var e;return((e=yield ese(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>xs(r))})}getBlockNumber(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return BA(this,e)})}getBalance(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return dle(this,n,r,i)})}getStorageAt(e,n){return Et(this,arguments,void 0,function*(r,i,o=this.defaultBlock,s=this.defaultReturnFormat){return fle(this,r,i,o,s)})}getCode(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return hle(this,n,r,i)})}getBlock(){return Et(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return UD(this,e,n,r)})}getBlockTransactionCount(){return Et(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return ple(this,e,n)})}getBlockUncleCount(){return Et(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return mle(this,e,n)})}getUncle(){return Et(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return gle(this,e,n,r)})}getTransaction(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const i=yield yle(this,n,r);if(!i)throw new SM;return i})}getPendingTransactions(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return vle(this,e)})}getTransactionFromBlock(){return Et(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return wle(this,e,n,r)})}getTransactionReceipt(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const i=yield $D(this,n,r);if(!i)throw new SM;return i})}getTransactionCount(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return HD(this,n,r,i)})}sendTransaction(e,n=this.defaultReturnFormat,r){return Hp(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return ble(this,e,n,r)}sign(e,n){return Et(this,arguments,void 0,function*(r,i,o=this.defaultReturnFormat){return Ele(this,r,i,o)})}signTransaction(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return _le(this,n,r)})}call(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return DA(this,n,r,i)})}estimateGas(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return FA(this,n,r,i)})}getPastLogs(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return VD(this,n,r)})}getWork(){return Et(this,void 0,void 0,function*(){return Ise(this.requestManager)})}submitWork(e,n,r){return Et(this,void 0,void 0,function*(){return Pse(this.requestManager,e,n,r)})}requestAccounts(){return Et(this,void 0,void 0,function*(){return Ose(this.requestManager)})}getChainId(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return zD(this,e)})}getNodeInfo(){return Et(this,void 0,void 0,function*(){return Bse(this.requestManager)})}getProof(e,n){return Et(this,arguments,void 0,function*(r,i,o=this.defaultBlock,s=this.defaultReturnFormat){return xle(this,r,i,o,s)})}getFeeHistory(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i,o=this.defaultReturnFormat){return Sle(this,n,r,i,o)})}createAccessList(e){return Et(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return KD(this,n,r,i)})}signTypedData(e,n,r,i){return Et(this,void 0,void 0,function*(){var o;return r===void 0&&(r=!1),i===void 0&&(i=(o=this.defaultReturnFormat)!==null&&o!==void 0?o:Vr),Ale(this,e,n,r,i)})}subscribe(e,n,r){return Et(this,void 0,void 0,function*(){var i,o;r===void 0&&(r=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:Vr);const s=yield(o=this.subscriptionManager)===null||o===void 0?void 0:o.subscribe(e,n,r);return s instanceof qD&&e==="logs"&&typeof n=="object"&&!ft(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(a=>{for(const l of a)s._processSubscriptionResult(l)}).catch(a=>{s._processSubscriptionError(a)})}),s})}static shouldClearSubscription({sub:e}){return!(e instanceof GD)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?Aw.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Cle(this,e)})}createNewFilter(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return kle(this,n,r)})}createNewBlockFilter(){return Et(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Tle(this,e)})}uninstallFilter(e){return Et(this,void 0,void 0,function*(){return Ile(this,e)})}getFilterChanges(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return Ple(this,n,r)})}getFilterLogs(e){return Et(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return Rle(this,n,r)})}}const Mle=t=>{if(!ye(t.common)){if(ye(t.common.customChain))throw new bee;if(ye(t.common.customChain.chainId))throw new Eee;if(!ye(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new _ee({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},Ole=t=>{if(!ye(t.common)&&!ye(t.chain)&&!ye(t.hardfork))throw new Aee;if(!ye(t.chain)&&ye(t.hardfork)||!ye(t.hardfork)&&ye(t.chain))throw new Cee({chain:t.chain,hardfork:t.hardfork})},Nle=t=>{if(!ye(t.common)&&!ye(t.common.baseChain)&&!ye(t.chain)&&t.chain!==t.common.baseChain)throw new xee({txChain:t.chain,baseChain:t.common.baseChain})},Lle=t=>{if(!ye(t.common)&&!ye(t.common.hardfork)&&!ye(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new See({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},b5=t=>{if(ye(t.gas)||!ya(t.gas)||ye(t.gasPrice)||!ya(t.gasPrice))throw new Ree({gas:t.gas,gasPrice:t.gasPrice});if(!ye(t.maxFeePerGas)||!ye(t.maxPriorityFeePerGas))throw new I8({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},E5=t=>{if(!ye(t.gasPrice)&&t.type==="0x2")throw new Oee(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new I8({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(ye(t.maxFeePerGas)||!ya(t.maxFeePerGas)||ye(t.maxPriorityFeePerGas)||!ya(t.maxPriorityFeePerGas))throw new Mee({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},Ble=t=>{const e=!ye(t.gas)||!ye(t.gasLimit),n=e&&!ye(t.gasPrice),r=e&&!ye(t.maxPriorityFeePerGas)&&!ye(t.maxFeePerGas);if(!n&&!r)throw new Tee({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new Pee({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?b5:E5)(t),(!ye(t.type)&&t.type>"0x1"?E5:b5)(t)},Dle=(t,e,n={transactionSchema:void 0})=>{if(!ye(e)){e(t);return}if(typeof t!="object"||ye(t))throw new Nee(t);Mle(t),Ole(t),Nle(t),Lle(t);const r=pi(t,wt,{transactionSchema:n.transactionSchema});if(Ble(r),ye(r.nonce)||ye(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new Lee({nonce:t.nonce,chainId:t.chainId})};var Fle=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const jle=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},Ule=(t,e)=>{var n,r,i,o,s,a,l,u,d,h,m,g,b,w,E,y,_,x;const P=!ye(t.chain)&&!ye(t.hardfork)||!ye(t.common);let M;if(!P)e.defaultCommon?(M=Object.assign({},e.defaultCommon),ye(M.hardfork)&&(M.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),ye(M.baseChain)&&(M.baseChain=e.defaultChain)):M=Hn.custom({name:"custom-network",chainId:di(t.chainId),networkId:ye(t.networkId)?void 0:di(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const L=(a=(s=(o=(i=t==null?void 0:t.common)===null||i===void 0?void 0:i.customChain)===null||o===void 0?void 0:o.name)!==null&&s!==void 0?s:t.chain)!==null&&a!==void 0?a:"custom-network",K=di((d=(u=(l=t==null?void 0:t.common)===null||l===void 0?void 0:l.customChain)===null||u===void 0?void 0:u.chainId)!==null&&d!==void 0?d:t==null?void 0:t.chainId),j=di((g=(m=(h=t==null?void 0:t.common)===null||h===void 0?void 0:h.customChain)===null||m===void 0?void 0:m.networkId)!==null&&g!==void 0?g:t==null?void 0:t.networkId),G=(E=(w=(b=t==null?void 0:t.common)===null||b===void 0?void 0:b.hardfork)!==null&&w!==void 0?w:t==null?void 0:t.hardfork)!==null&&E!==void 0?E:e.defaultHardfork,V=(x=(_=(y=t.common)===null||y===void 0?void 0:y.baseChain)!==null&&_!==void 0?_:t.chain)!==null&&x!==void 0?x:e.defaultChain;K&&j&&L&&(M=Hn.custom({name:L,chainId:K,networkId:j,defaultHardfork:G},{baseChain:V}))}return{common:M}},$le=(t,e,n,...r)=>Fle(void 0,[t,e,n,...r],void 0,function*(i,o,s,a=!1,l=!0){const u=yield mae({transaction:i,web3Context:o,privateKey:s,fillGasPrice:a,fillGasLimit:l}),d=pi(u,wt,{transactionSchema:o.config.customTransactionSchema});return Dle(d,void 0,{transactionSchema:o.config.customTransactionSchema}),iu.fromTxData(jle(d),Ule(d,o))}),_5=({address:t},e,n)=>{var r,i;const o=n==null?void 0:n.topics,s=(r=n==null?void 0:n.filter)!==null&&r!==void 0?r:{},a={};if(ft(n==null?void 0:n.fromBlock)||(a.fromBlock=Le(vv.properties.number,n==null?void 0:n.fromBlock,{number:so.HEX,bytes:ma.HEX})),ft(n==null?void 0:n.toBlock)||(a.toBlock=Le(vv.properties.number,n==null?void 0:n.toBlock,{number:so.HEX,bytes:ma.HEX})),o&&Array.isArray(o))a.topics=[...o];else if(a.topics=[],e&&!e.anonymous&&![Yd,"allEvents"].includes(e.name)&&a.topics.push((i=e.signature)!==null&&i!==void 0?i:PA(ca(e))),![Yd,"allEvents"].includes(e.name)&&e.inputs)for(const l of e.inputs){if(!l.indexed)continue;const u=s[l.name];if(!u){a.topics.push(null);continue}Array.isArray(u)?a.topics.push(u.map(d=>Wx(l.type,d))):l.type==="string"?a.topics.push(Vd(u)):a.topics.push(Wx(l.type,u))}return a.topics.length||delete a.topics,t&&(a.address=t.toLowerCase()),a},Wh=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new zr(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let i;if(t.inputs?i=Sw(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):i=Xae(e).replace("0x",""),Eae(t)){if(!n)throw new zr("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${i}`:`0x${n}${i}`}return`${$p(t)}${i}`};class WD extends hm{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return NA(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const Cw=(t,e,n,r)=>{var i,o;const s={};return(!ft(t.data)||r==="both")&&(s.data=Wh(e,n,(i=t.data)!==null&&i!==void 0?i:t.input)),(!ft(t.input)||r==="both")&&(s.input=Wh(e,n,(o=t.input)!==null&&o!==void 0?o:t.data)),ft(s.input)&&ft(s.data)&&(s[r]=Wh(e,n)),{data:s.data,input:s.input}},Zx=({abi:t,params:e,options:n,contractOptions:r})=>{var i,o,s;if(!((s=(o=(i=n==null?void 0:n.input)!==null&&i!==void 0?i:n==null?void 0:n.data)!==null&&o!==void 0?o:r.input)!==null&&s!==void 0?s:r.data)&&!(n!=null&&n.to)&&!r.address)throw new zr("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new zr('Contract "from" address not specified');let l=zl({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const u=Cw(l,t,e,n==null?void 0:n.dataInputFill);return l=Object.assign(Object.assign({},l),{data:u.data,input:u.input}),l},Hle=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new zr("Contract address not specified");let i=zl({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const o=Cw(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:o.data,input:o.input}),i},Vle=({abi:t,params:e,options:n,contractOptions:r})=>{let i=zl({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const o=Cw(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:o.data,input:o.input}),i},x5=t=>typeof t=="object"&&!ft(t)&&Object.keys(t).length!==0&&!bl(t),zle=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new zr("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new zr('Contract "from" address not specified');let i=zl({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const o=Cw(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:o.data,input:o.input}),i};var Kle=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qle{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new zr("code couldn't be stored",r);const i=this.parent.clone();return i.options.address=r.contractAddress,i},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return ye(this.parent.getTransactionMiddleware())?Hp(this.parent,e,this.parent.defaultReturnFormat,n):Hp(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:i,contractOptions:o,deployData:s}=this.calculateDeployParams();this.args=r,this.constructorAbi=i,this.contractOptions=o,this.deployData=s}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const i=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),o=Zx({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:i});return o.dataInputFill&&delete o.dataInputFill,o}calculateDeployParams(){var e,n,r,i,o,s;let a=this.parent.options.jsonInterface.find(g=>g.type==="constructor");a||(a={type:"constructor",stateMutability:""});const l=Le({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,Vr),u=Le({format:"bytes"},(i=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:this.parent.options.data,Vr);if((!l||l.trim()==="0x")&&(!u||u.trim()==="0x"))throw new zr("contract creation without any data provided.");const d=(s=(o=this.deployOptions)===null||o===void 0?void 0:o.arguments)!==null&&s!==void 0?s:[],h=Object.assign(Object.assign({},this.parent.options),{input:l,data:u});return{args:d,abi:a,contractOptions:h,deployData:l??u}}estimateGas(e){return Kle(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const i=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:i,contractOptions:this.contractOptions})})}encodeABI(){return Wh(this.constructorAbi,this.args,Le({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},Yx(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var Gle=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Wle extends pv{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return Gle(this,arguments,void 0,function*(i,o,s=Vr){return r.subscribe.call(this,i,o??this.parentContract.options,s)})}}var fc=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Yle={logs:WD,newHeads:_v,newBlockHeaders:_v};class Vc extends fi{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,i,o){var s,a,l;const u=bl(n)?n:bl(r)?r:void 0;let d;x5(n)?d=n:x5(r)?d=r:d=i;let h;if(typeof n=="object"&&"provider"in n?h=n.provider:typeof r=="object"&&"provider"in r?h=r.provider:typeof i=="object"&&"provider"in i?h=i.provider:h=Vc.givenProvider,super(Object.assign(Object.assign({},d),{provider:h,registeredSubscriptions:Yle})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new Wle(super.subscriptionManager,this),d!=null&&d.wallet&&(this._wallet=d.wallet),d!=null&&d.accountProvider&&(this._accountProvider=d.accountProvider),!ye(u)&&!ye(u.data)&&!ye(u.input)&&this.config.contractDataInputFill!=="both")throw new uee({data:u.data,input:u.input});this._overloadedMethodAbis=new Map;const m=Zs(i)?i:Zs(r)?r:o??this.defaultReturnFormat,g=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(s=u==null?void 0:u.dataInputFill)!==null&&s!==void 0?s:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,m),this.defaultReturnFormat!==m&&(this.defaultReturnFormat=m),ye(g)||this._parseAndSetAddress(g,m),this.options={address:g,jsonInterface:this._jsonInterface,gas:(a=u==null?void 0:u.gas)!==null&&a!==void 0?a:u==null?void 0:u.gasLimit,gasPrice:u==null?void 0:u.gasPrice,from:u==null?void 0:u.from,input:u==null?void 0:u.input,data:u==null?void 0:u.data},this.syncWithContext=(l=u==null?void 0:u.syncWithContext)!==null&&l!==void 0?l:!1,d instanceof fi&&this.subscribeToContextEvents(d),Object.defineProperty(this.options,"address",{set:b=>this._parseAndSetAddress(b,m),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:b=>this._parseAndSetJsonInterface(b,m),get:()=>this._jsonInterface}),d instanceof fi&&d.on(nu.CONFIG_CHANGE,b=>{this.setConfig({[b.name]:b.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new Vc([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new Vc([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new qle(this,e)}getPastEvents(e,n,r){return fc(this,void 0,void 0,function*(){var i;const o=typeof e=="string"?e:Yd,s=typeof e!="string"&&!Zs(e)?e:Zs(n)?{}:n,a=Zs(e)?e:Zs(n)?n:r??this.defaultReturnFormat,l=o==="allEvents"||o===Yd?$x:this._jsonInterface.find(y=>"name"in y&&y.name===o);if(!l)throw new zr(`Event ${String(o)} not found.`);const{fromBlock:u,toBlock:d,topics:h,address:m}=_5(this.options,l,s??{}),g=yield VD(this,{fromBlock:u,toBlock:d,topics:h,address:m},a),b=g?g.map(y=>typeof y=="string"?y:NA(l,y,this._jsonInterface,a)):[],w=(i=s==null?void 0:s.filter)!==null&&i!==void 0?i:{},E=Object.keys(w);return E.length>0?b.filter(y=>typeof y=="string"?!0:E.every(_=>{var x;if(Array.isArray(w[_]))return w[_].some(M=>String(y.returnValues[_]).toUpperCase()===String(M).toUpperCase());const P=(x=l.inputs)===null||x===void 0?void 0:x.filter(M=>M.name===_)[0];return P!=null&&P.indexed&&P.type==="string"&&Vd(w[_])===String(y.returnValues[_])?!0:String(y.returnValues[_]).toUpperCase()===String(w[_]).toUpperCase()})):b})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&xs(Le({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),i=this._jsonInterface.filter(o=>o.type!=="error").find(o=>n===$p(ca(o)));if(!i)throw new zr(`The ABI for the provided method signature ${n} was not found.`);return Yx(i,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,i;this._functions={},this._methods={},this._events={};let o=[];const s=e.filter(l=>l.type!=="error"),a=e.filter(l=>_w(l));for(const l of s){const u=Object.assign(Object.assign({},l),{signature:""});if(xw(u)){const d=ca(u),h=$p(d);u.methodNameWithInputs=d,u.signature=h,u.constant=u.stateMutability==="view"||u.stateMutability==="pure"||u.constant,u.payable=u.stateMutability==="payable"||u.payable,this._overloadedMethodAbis.set(u.name,[...(r=this._overloadedMethodAbis.get(u.name))!==null&&r!==void 0?r:[],u]);const m=(i=this._overloadedMethodAbis.get(u.name))!==null&&i!==void 0?i:[],g=this._createContractMethod(m,a),b=this._createContractMethod(m,a,!0);this._functions[d]={signature:h,method:b},this._methods[u.name]=g,this._methods[d]=b,this._methods[h]=b}else if(IA(u)){const d=ca(u),h=PA(d),m=this._createContractEvent(u,n);u.signature=h,(!(d in this._events)||u.name==="bound")&&(this._events[d]=m),this._events[u.name]=m,this._events[h]=m}o=[...o,u]}this._events.allEvents=this._createContractEvent($x,n),this._jsonInterface=[...o],this._errorsInterface=a}_getAbiParams(e,n){var r;try{return Gh((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(i){throw new zr(`Invalid parameters for method ${e.name}: ${i.message}`)}}_createContractMethod(e,n,r=!1){const i=e[e.length-1];return(...o)=>{var s,a,l;let u;const d=(a=r?(s=this._overloadedMethodAbis.get(i.name))===null||s===void 0?void 0:s.filter(w=>w.signature===i.signature):this._overloadedMethodAbis.get(i.name))!==null&&a!==void 0?a:[];let h=d[0];const m=n,g=d.filter(w=>{var E;return((E=w.inputs)!==null&&E!==void 0?E:[]).length===o.length});if(d.length===1||g.length===0)u=this._getAbiParams(h,o),ct.validate((l=i.inputs)!==null&&l!==void 0?l:[],u);else{const w=[],E=[];for(const y of g)try{u=this._getAbiParams(y,o),ct.validate(y.inputs,u),E.push(y)}catch(_){w.push(_)}if(E.length===1?[h]=E:E.length>1&&([h]=E,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${E.length} compatible methods: ${JSON.stringify(E.map(y=>`${y.methodNameWithInputs} (signature: ${y.signature})`))} 
	The first one will be used: ${h.methodNameWithInputs}`)),w.length===g.length)throw new Ud(w)}const b={arguments:u,call:(w,E)=>fc(this,void 0,void 0,function*(){return this._contractMethodCall(h,u,m,w,E)}),send:w=>this._contractMethodSend(h,u,m,w),populateTransaction:(w,E)=>{var y,_;let x=E??this.options;x=Object.assign(Object.assign({},x),{input:void 0,from:(_=(y=x==null?void 0:x.from)!==null&&y!==void 0?y:this.defaultAccount)!==null&&_!==void 0?_:void 0});const P=Zx({abi:i,params:o,options:Object.assign(Object.assign({},w),{dataInputFill:this.config.contractDataInputFill}),contractOptions:x});return P.dataInputFill&&delete P.dataInputFill,P},estimateGas:(w,...E)=>fc(this,[w,...E],void 0,function*(y,_=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:h,params:u,returnFormat:_,options:y})}),encodeABI:()=>Wh(h,u),decodeData:w=>Yx(h,w),createAccessList:(w,E)=>fc(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(h,u,m,w,E)})};return h.stateMutability==="payable",b}}_contractMethodCall(e,n,r,i,o){return fc(this,void 0,void 0,function*(){var s;const a=Hle({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(s=this.options.from)!==null&&s!==void 0?s:this.config.defaultAccount})});try{const l=yield DA(this,a,o,this.defaultReturnFormat);return tle(e,l)}catch(l){throw l instanceof Fc&&$g(r,l.cause),l}})}_contractMethodCreateAccessList(e,n,r,i,o){return fc(this,void 0,void 0,function*(){var s;const a=zle({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(s=this.options.from)!==null&&s!==void 0?s:this.config.defaultAccount})});try{return KD(this,a,o,this.defaultReturnFormat)}catch(l){throw l instanceof Fc&&$g(r,l.cause),l}})}_contractMethodSend(e,n,r,i,o){var s,a;let l=o??this.options;l=Object.assign(Object.assign({},l),{input:void 0,from:(a=(s=l.from)!==null&&s!==void 0?s:this.defaultAccount)!==null&&a!==void 0?a:void 0});const u=Zx({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:l}),d=ye(this.transactionMiddleware)?Hp(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Hp(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return d.on("error",h=>{h instanceof Fc&&$g(r,h.cause)}),d}contractMethodEstimateGas(e){return fc(this,arguments,void 0,function*({abi:n,params:r,returnFormat:i,options:o,contractOptions:s}){const a=Vle({abi:n,params:r,options:Object.assign(Object.assign({},o),{dataInputFill:this.config.contractDataInputFill}),contractOptions:s??this.options});return FA(this,a,Js.LATEST,i??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var i;const{topics:o,fromBlock:s}=_5(this.options,e,r[0]),a=new WD({address:this.options.address,topics:o,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return ye(s)||this.getPastEvents(e.name,{fromBlock:s,topics:o},n).then(l=>{l&&l.forEach(u=>a.emit("data",u))}).catch(l=>{a.emit("error",new Ks("Failed to get past events.",l))}),(i=this.subscriptionManager)===null||i===void 0||i.addSubscription(a).catch(l=>{a.emit("error",new Ks("Failed to subscribe.",l))}),a}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(nu.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const S5={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Ku={setAddr:"addr",addr:"addr",pubkey:"pubkey",contenthash:"contenthash",text:"text",name:"name"},xv={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},Qle={"0x1":"main","0x5":"goerli"},Zle=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],Jle=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var Xle="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const A5=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),C5=4;function ece(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let M=1;M<r;M++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const h=31,m=2**h,g=m>>>1,b=g>>1,w=m-1;let E=0;for(let M=0;M<h;M++)E=E<<1|d();let y=[],_=0,x=m;for(;;){let M=Math.floor(((E-_+1)*i-1)/x),L=0,K=r;for(;K-L>1;){let V=L+K>>>1;M<o[V]?K=V:L=V}if(L==0)break;y.push(L);let j=_+Math.floor(x*o[L]/i),G=_+Math.floor(x*o[L+1]/i)-1;for(;((j^G)&g)==0;)E=E<<1&w|d(),j=j<<1&w,G=G<<1&w|1;for(;j&~G&b;)E=E&g|E<<1&w>>>1|d(),j=j<<1^g,G=(G^g)<<1|g|1;_=j,x=1+G-j}let P=r-4;return y.map(M=>{switch(M-P){case 3:return P+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return P+256+(t[a++]<<8|t[a++]);case 1:return P+t[a++];default:return M-1}})}function tce(t){let e=0;return()=>t[e++]}function YD(t){return tce(ece(nce(t)))}function nce(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function rce(t){return t&1?~t>>1:t>>1}function ice(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=rce(e());return n}function Vp(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function QD(t){return zp(()=>{let e=Vp(t);if(e.length)return e})}function ZD(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(oce(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(sce(n,t))}return e.flat()}function zp(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function JD(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)ice(t,n).forEach((o,s)=>r[s].push(o));return r}function oce(t,e){let n=1+e(),r=e(),i=zp(e);return JD(i.length,1+t,e).flatMap((s,a)=>{let[l,...u]=s;return Array(i[a]).fill().map((d,h)=>{let m=h*r;return[l+h*n,u.map(g=>g+m)]})})}function sce(t,e){let n=1+e();return JD(n,1+t,e).map(i=>[i[0],i.slice(1)])}function ace(t){let e=[],n=Vp(t);return i(r([]),[]),e;function r(o){let s=t(),a=zp(()=>{let l=Vp(t).map(u=>n[u]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let u of s)for(let d of u.Q)i(u,[...a,d],l)}}}function lce(t){return t.toString(16).toUpperCase().padStart(2,"0")}function XD(t){return`{${lce(t)}}`}function cce(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Zd(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function uce(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var dce="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Kp=44032,Sv=4352,Av=4449,Cv=4519,e9=19,t9=21,Jd=28,kv=t9*Jd,fce=e9*kv,hce=Kp+fce,pce=Sv+e9,mce=Av+t9,gce=Cv+Jd;function Sh(t){return t>>24&255}function n9(t){return t&16777215}let Jx,k5,Xx,Hg;function yce(){let t=YD(dce);Jx=new Map(QD(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),k5=new Set(Vp(t)),Xx=new Map,Hg=new Map;for(let[e,n]of ZD(t)){if(!k5.has(e)&&n.length==2){let[r,i]=n,o=Hg.get(r);o||(o=new Map,Hg.set(r,o)),o.set(i,e)}Xx.set(e,n.reverse())}}function r9(t){return t>=Kp&&t<hce}function vce(t,e){if(t>=Sv&&t<pce&&e>=Av&&e<mce)return Kp+(t-Sv)*kv+(e-Av)*Jd;if(r9(t)&&e>Cv&&e<gce&&(t-Kp)%Jd==0)return t+(e-Cv);{let n=Hg.get(t);return n&&(n=n.get(e),n)?n:-1}}function i9(t){Jx||yce();let e=[],n=[],r=!1;function i(o){let s=Jx.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(r9(o)){let s=o-Kp,a=s/kv|0,l=s%kv/Jd|0,u=s%Jd;i(Sv+a),i(Av+l),u>0&&i(Cv+u)}else{let s=Xx.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Sh(e[0]);for(let s=1;s<e.length;s++){let a=Sh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(o=Sh(e[--l]),o<=a))break}o=Sh(e[s])}}return e}function wce(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Sh(o),a=n9(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=vce(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function o9(t){return i9(t).map(n9)}function bce(t){return wce(i9(t))}const T5=45,s9=".",a9=65039,l9=1,Tv=t=>Array.from(t);function qp(t,e){return t.P.has(e)||t.Q.has(e)}class Ece extends Array{get is_emoji(){return!0}}let eS,c9,Nc,tS,u9,Id,t_,td,yc,I5,nS;function jA(){if(eS)return;let t=YD(Xle);const e=()=>Vp(t),n=()=>new Set(e()),r=(d,h)=>h.forEach(m=>d.add(m));eS=new Map(ZD(t)),c9=n(),Nc=e(),tS=new Set(e().map(d=>Nc[d])),Nc=new Set(Nc),u9=n(),n();let i=QD(t),o=t();const s=()=>{let d=new Set;return e().forEach(h=>r(d,i[h])),r(d,e()),d};Id=zp(d=>{let h=zp(t).map(m=>m+96);if(h.length){let m=d>=o;h[0]-=32,h=Zd(h),m&&(h=`Restricted[${h}]`);let g=s(),b=s(),w=!t();return{N:h,P:g,Q:b,M:w,R:m}}}),t_=n(),td=new Map;let a=e().concat(Tv(t_)).sort((d,h)=>d-h);a.forEach((d,h)=>{let m=t(),g=a[h]=m?a[h-m]:{V:[],M:new Map};g.V.push(d),t_.has(d)||td.set(d,g)});for(let{V:d,M:h}of new Set(td.values())){let m=[];for(let b of d){let w=Id.filter(y=>qp(y,b)),E=m.find(({G:y})=>w.some(_=>y.has(_)));E||(E={G:new Set,V:[]},m.push(E)),E.V.push(b),r(E.G,w)}let g=m.flatMap(b=>Tv(b.G));for(let{G:b,V:w}of m){let E=new Set(g.filter(y=>!b.has(y)));for(let y of w)h.set(y,E)}}yc=new Set;let l=new Set;const u=d=>yc.has(d)?l.add(d):yc.add(d);for(let d of Id){for(let h of d.P)u(h);for(let h of d.Q)u(h)}for(let d of yc)!td.has(d)&&!l.has(d)&&td.set(d,l9);r(yc,o9(yc)),I5=ace(t).map(d=>Ece.from(d)).sort(uce),nS=new Map;for(let d of I5){let h=[nS];for(let m of d){let g=h.map(b=>{let w=b.get(m);return w||(w=new Map,b.set(m,w)),w});m===a9?h.push(...g):h=g}for(let m of h)m.V=d}}function UA(t){return(d9(t)?"":`${$A(kw([t]))} `)+XD(t)}function $A(t){return`"${t}"`}function _ce(t){if(t.length>=4&&t[2]==T5&&t[3]==T5)throw new Error(`invalid label extension: "${Zd(t.slice(0,4))}"`)}function xce(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Sce(t){let e=t[0],n=A5.get(e);if(n)throw Yh(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=A5.get(e);if(s){if(i==o)throw Yh(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw Yh(`trailing ${n}`)}function kw(t,e=1/0,n=XD){let r=[];Ace(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];d9(a)&&(r.push(Zd(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(Zd(t.slice(i,o))),r.join("")}function Ace(t,e){return jA(),Nc.has(t)}function d9(t){return jA(),u9.has(t)}function Cce(t){return Pce(kce(t,bce,Oce))}function kce(t,e,n){if(!t)return[];jA();let r=0;return t.split(s9).map(i=>{let o=cce(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Mce(o,e,n),l=a.length,u;if(!l)throw new Error("empty label");let d=s.output=a.flat();if(xce(d),!(s.emoji=l>1||a[0].is_emoji)&&d.every(m=>m<128))_ce(d),u="ASCII";else{let m=a.flatMap(g=>g.is_emoji?[]:g);if(!m.length)u="Emoji";else{if(Nc.has(d[0]))throw Yh("leading combining mark");for(let w=1;w<l;w++){let E=a[w];if(!E.is_emoji&&Nc.has(E[0]))throw Yh(`emoji + combining mark: "${Zd(a[w-1])} + ${kw([E[0]])}"`)}Sce(d);let g=Tv(new Set(m)),[b]=Ice(g);Rce(b,m),Tce(b,g),u=b.N}}s.type=u}catch(a){s.error=a}return s})}function Tce(t,e){let n,r=[];for(let i of e){let o=td.get(i);if(o===l9)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Tv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>qp(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Ice(t){let e=Id;for(let n of t){let r=e.filter(i=>qp(i,n));if(!r.length)throw Id.some(i=>qp(i,n))?h9(e[0],n):f9(n);if(e=r,r.length==1)break}return e}function Pce(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${$A(kw(e,63))}: ${i}`)}return Zd(r)}).join(s9)}function f9(t){return new Error(`disallowed character: ${UA(t)}`)}function h9(t,e){let n=UA(e),r=Id.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Yh(t){return new Error(`illegal placement: ${t}`)}function Rce(t,e){for(let n of e)if(!qp(t,n))throw h9(t,n);if(t.M){let n=o9(e);for(let r=1,i=n.length;r<i;r++)if(tS.has(n[r])){let o=r+1;for(let s;o<i&&tS.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${UA(s)}`);if(o-r>C5)throw new Error(`excessive non-spacing marks: ${$A(kw(n.slice(r-1,o)))} (${o-r}/${C5})`);r=o}}}function Mce(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=Nce(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(yc.has(s))i.push(s);else{let a=eS.get(s);if(a)i.push(...a);else if(!c9.has(s))throw f9(s)}}}return i.length&&r.push(e(i)),r}function Oce(t){return t.filter(e=>e!=a9)}function Nce(t,e){let n=nS,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const Lce=t=>Cce(t),Qo=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=Lce(t).split(".");for(let i=r.length-1;i>=0;i-=1){const o=Mi(r[i]).slice(2);e=Mi(`0x${e}${o}`).slice(2)}}return`0x${e}`};var og=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Bce{constructor(e,n){this.contract=new Vc(Zle,n??xv.main,e),this.context=e}getOwner(e){return og(this,void 0,void 0,function*(){try{return this.contract.methods.owner(Qo(e)).call()}catch{throw new Error}})}getTTL(e){return og(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(Qo(e)).call()}catch{throw new Error}})}recordExists(e){return og(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(Qo(e)).call()}catch{throw new Error}})}getResolver(e){return og(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(Qo(e)).call().then(n=>{if(typeof n=="string")return new Vc(Jle,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Hs=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Dce{constructor(e){this.registry=e}getResolverContractAdapter(e){return Hs(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,i;return Hs(this,void 0,void 0,function*(){if(ft(S5[n]))throw new _M((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(S5[n]).call()))throw new _M((i=e.options.address)!==null&&i!==void 0?i:"",n)})}supportsInterface(e,n){var r;return Hs(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);let o=n;if(!qt(o)){if(o=(r=fm(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");o=o.slice(0,10)}return i.methods.supportsInterface(o).call()})}getAddress(e,n=60){return Hs(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Ku.addr),r.methods.addr(Qo(e),n).call()})}getPubkey(e){return Hs(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Ku.pubkey),n.methods.pubkey(Qo(e)).call()})}getContenthash(e){return Hs(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Ku.contenthash),n.methods.contenthash(Qo(e)).call()})}setAddress(e,n,r){return Hs(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(i,Ku.setAddr),i.methods.setAddr(Qo(e),n).send(r)})}getText(e,n){return Hs(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Ku.text),r.methods.text(Qo(e),n).call()})}getName(e,n=!0){return Hs(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,i=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(i,Ku.name)),i.methods.name(Qo(r)).call()})}}var qi=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class p9 extends fi{constructor(e,n){super(n??""),this.registryAddress=e??xv.main,this._registry=new Bce(this.getContextObject(),e),this._resolver=new Dce(this._registry)}getResolver(e){return qi(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return qi(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return qi(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return qi(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return qi(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return qi(this,void 0,void 0,function*(){return Ri(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return qi(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return qi(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return qi(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return qi(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const i=yield lle(this);if(!(typeof i=="boolean"&&!i))throw new fee;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield CA(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:so.HEX})),r=xv[Qle[n]];if(typeof r>"u")throw new dee(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return qi(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return qi(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var xa=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Fce=t=>xa(void 0,void 0,void 0,function*(){return(yield Hse(t)).map(xs)}),jce=(t,e)=>xa(void 0,void 0,void 0,function*(){ct.validate(["string"],[e]);const n=yield Vse(t,e);return xs(n)}),Uce=(t,e,n,r)=>xa(void 0,void 0,void 0,function*(){return ct.validate(["address","string","uint"],[e,n,r]),zse(t,e,n,r)}),$ce=(t,e)=>xa(void 0,void 0,void 0,function*(){return ct.validate(["address"],[e]),Kse(t,e)}),Hce=(t,e,n)=>xa(void 0,void 0,void 0,function*(){return ct.validate(["string","string"],[e,n]),qse(t,e,n)}),Vce=(t,e,n,r)=>xa(void 0,void 0,void 0,function*(){const i=pi(e,wt,{transactionSchema:r==null?void 0:r.customTransactionSchema});return Gse(t,i,n)}),zce=(t,e,n,r)=>xa(void 0,void 0,void 0,function*(){const i=pi(e,wt,{transactionSchema:r==null?void 0:r.customTransactionSchema});return Wse(t,i,n)}),Kce=(t,e,n,r)=>xa(void 0,void 0,void 0,function*(){ct.validate(["string","address","string"],[e,n,r]);const i=qt(e)?e:Bo(e);return Yse(t,i,n,r)}),qce=(t,e,n)=>xa(void 0,void 0,void 0,function*(){ct.validate(["string","string"],[e,n]);const r=qt(e)?e:Bo(e);return Qse(t,r,n)});var Vs=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class m9 extends fi{getAccounts(){return Vs(this,void 0,void 0,function*(){return Fce(this.requestManager)})}newAccount(e){return Vs(this,void 0,void 0,function*(){return jce(this.requestManager,e)})}unlockAccount(e,n,r){return Vs(this,void 0,void 0,function*(){return Uce(this.requestManager,e,n,r)})}lockAccount(e){return Vs(this,void 0,void 0,function*(){return $ce(this.requestManager,e)})}importRawKey(e,n){return Vs(this,void 0,void 0,function*(){return Hce(this.requestManager,e,n)})}sendTransaction(e,n){return Vs(this,void 0,void 0,function*(){return Vce(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Vs(this,void 0,void 0,function*(){return zce(this.requestManager,e,n,this.config)})}sign(e,n,r){return Vs(this,void 0,void 0,function*(){return Kce(this.requestManager,e,n,r)})}ecRecover(e,n){return Vs(this,void 0,void 0,function*(){return qce(this.requestManager,e,n)})}}var rs;(function(t){t.HTTPS="https",t.WebSocket="wss"})(rs||(rs={}));var Ge;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(Ge||(Ge={}));const Gce=1300;class Wce extends gt{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=Gce}}const Yce=1301;class P5 extends gt{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=Yce}}var Qce=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class g9 extends uA{constructor(e,n,r,i,o){if(super(),o!==void 0&&n===rs.HTTPS&&!("providerOptions"in o))throw new P5("HTTP Provider");if(o!==void 0&&n===rs.WebSocket&&!("socketOptions"in o||"reconnectOptions"in o))throw new P5("Websocket Provider");this.transport=n,n===rs.HTTPS?this.provider=new gw(this.getRPCURL(e,n,r,i),o):n===rs.WebSocket&&(this.provider=new TB(this.getRPCURL(e,n,r,i),o==null?void 0:o.socketOptions,o==null?void 0:o.reconnectOptions))}request(e,n){return Qce(this,void 0,void 0,function*(){return this.transport===rs.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var Zce=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Yn=t=>t!==void 0&&t.trim().length>0;class Jce extends g9{constructor(e=Ge.ETH_MAINNET,n=rs.HTTPS,r="",i="",o){super(e,n,r,i,o)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return Zce(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(i){throw i instanceof ts&&i.statusCode===429?new Wce(i):i}})}getRPCURL(e,n,r,i){let o="",s="";switch(e){case Ge.ETH_MAINNET:o=Yn(i)?i:"powerful-holy-bush.quiknode.pro",s=Yn(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case Ge.ETH_SEPOLIA:o=Yn(i)?i:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",s=Yn(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Ge.ETH_HOLESKY:o=Yn(i)?i:"yolo-morning-card.ethereum-holesky.quiknode.pro",s=Yn(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Ge.ARBITRUM_MAINNET:o=Yn(i)?i:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",s=Yn(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Ge.ARBITRUM_SEPOLIA:o=Yn(i)?i:"few-patient-pond.arbitrum-sepolia.quiknode.pro",s=Yn(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case Ge.BNB_MAINNET:o=Yn(i)?i:"purple-empty-reel.bsc.quiknode.pro",s=Yn(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Ge.BNB_TESTNET:o=Yn(i)?i:"floral-rough-scion.bsc-testnet.quiknode.pro",s=Yn(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Ge.POLYGON_MAINNET:o=Yn(i)?i:"small-chaotic-moon.matic.quiknode.pro",s=Yn(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Ge.POLYGON_AMOY:o=Yn(i)?i:"prettiest-side-shape.matic-amoy.quiknode.pro",s=Yn(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${o}/${s}`}}const Xce=t=>t!==void 0&&t.trim().length>0,eue=[Ge.DYMENSION_MAINNET,Ge.DYMENSION_TESTNET,Ge.KAVA_MAINNET,Ge.CRONOS_MAINNET,Ge.POLYGON_MAINNET];class Iv extends g9{constructor(e=Ge.ETH_MAINNET,n=rs.HTTPS,r="",i){super(e,n,"",r,i)}getRPCURL(e,n,r,i){if(!Iv.networkHostMap[e])throw new Error("Network info not avalible.");const o=`${Iv.networkHostMap[e]}.publicnode.com`,s=Xce(i)?i:o;return eue.includes(e)&&n===rs.WebSocket?`${n}://${s}/websocket`:`${n}://${s}`}}Iv.networkHostMap={[Ge.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[Ge.DYMENSION_MAINNET]:"dymension-evm-rpc",[Ge.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[Ge.BLAST_MAINNET]:"blast-rpc",[Ge.GNOSIS_MAINNET]:"gnosis-rpc",[Ge.PULSECHAIN_MAINNET]:"pulsechain-rpc",[Ge.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[Ge.KAVA_MAINNET]:"kava-evm-rpc",[Ge.CRONOS_MAINNET]:"cronos-evm-rpc",[Ge.MANTLE_MAINNET]:"mantle-rpc",[Ge.TAIKO_MAINNET]:"taiko-rpc",[Ge.TAIKO_HEKLA]:"taiko-hekla-rpc",[Ge.LINEA_MAINNET]:"linea-rpc",[Ge.LINEA_SEPOLIA]:"linea-sepolia-rpc",[Ge.SCROLL_MAINNET]:"scroll-rpc",[Ge.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[Ge.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[Ge.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[Ge.HAQQ_MAINNET]:"haqq-evm-rpc",[Ge.EVMOS_MAINNET]:"evmos-evm-rpc",[Ge.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[Ge.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[Ge.ETH_MAINNET]:"ethereum-rpc",[Ge.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[Ge.ETH_HOLESKY]:"ethereum-holesky-rpc",[Ge.BSC_MAINNET]:"bsc-rpc",[Ge.BSC_TESTNET]:"bsc-testnet-rpc",[Ge.POLYGON_MAINNET]:"polygon-bor-rpc",[Ge.BASE_MAINNET]:"base-rpc",[Ge.BASE_SEPOLIA]:"base-sepolia-rpc",[Ge.ARBITRUM_ONE]:"arbitrum-one-rpc",[Ge.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[Ge.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[Ge.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[Ge.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[Ge.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[Ge.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[Ge.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[Ge.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[Ge.OPTIMISM_MAINNET]:"optimism-rpc",[Ge.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[Ge.FANTOM_MAINNET]:"fantom-rpc",[Ge.FANTOM_TESTNET]:"fantom-testnet-rpc",[Ge.OPBNB_MAINNET]:"opbnb-rpc",[Ge.OPBNB_TESTNET]:"opbnb-testnet-rpc",[Ge.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[Ge.CHILIZ_MAINNET]:"chiliz-rpc",[Ge.CHILIZ_SPICY]:"chiliz-spicy-rpc",[Ge.MOONBEAM_MAINNET]:"moonbeam-rpc",[Ge.BAHAMUT_MAINNET]:"bahamut-rpc",[Ge.TRON_MAINNET]:"tron-evm-rpc",[Ge.MOONRIVER_MAINNET]:"moonriver-rpc"};const tue=new Jce,nue={encodeEventSignature:PA,encodeFunctionCall:ele,encodeFunctionSignature:$p,encodeParameter:Wx,encodeParameters:Sw,decodeParameter:BD,decodeParameters:Hc,decodeLog:DD};var uh=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const rue=t=>{const e=(s,a)=>uh(void 0,void 0,void 0,function*(){const l=yield $le(s,t),u=Le({format:"bytes"},a,wt);return joe(l,u)}),n=s=>{const a=_A(s);return Object.assign(Object.assign({},a),{signTransaction:l=>uh(void 0,void 0,void 0,function*(){return e(l,a.privateKey)})})},r=(s,a,l)=>uh(void 0,void 0,void 0,function*(){var u;const d=yield Voe(s,a,(u=l==null?void 0:l.nonStrict)!==null&&u!==void 0?u:!0);return Object.assign(Object.assign({},d),{signTransaction:h=>uh(void 0,void 0,void 0,function*(){return e(h,d.privateKey)})})}),i=()=>{const s=Hoe();return Object.assign(Object.assign({},s),{signTransaction:a=>uh(void 0,void 0,void 0,function*(){return e(a,s.privateKey)})})},o=new mv({create:i,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:i,privateKeyToAccount:n,decrypt:r,recoverTransaction:Uoe,hashMessage:EA,sign:tD,recover:jx,encrypt:nD,wallet:o,privateKeyToAddress:bw,parseAndValidatePrivateKey:sf,privateKeyToPublicKey:$oe}},iue={version:"4.16.0"};var oue=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},Pv;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(Pv||(Pv={}));const n_=new Map,y9="web3:providersMapUpdated",sue=()=>oue(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Pv.eip6963announceProvider,n=>{n_.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(y9,{detail:n_});window.dispatchEvent(r),t(n_)}),window.dispatchEvent(new Event(Pv.eip6963requestProvider))})}),aue=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(y9,t)};class gs extends fi{constructor(e=tue){var n;(ft(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!hv(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||hv(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},Qx),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const i=rue(this);this._wallet=i.wallet,this._accountProvider=i,this.utils=kB;const o=this;class s extends Vc{constructor(u,d,h,m,g){if(bl(d)&&bl(h))throw new xM("Should not provide options at both 2nd and 3rd parameters");let b,w={},E,y;if(!ft(d)&&typeof d!="object"&&typeof d!="string")throw new xM;if(typeof d=="string"&&(b=d),bl(d)?w=d:bl(h)?w=h:w={},d instanceof fi?E=d:h instanceof fi?E=h:m instanceof fi?E=m:E=o.getContextObject(),g?y=g:Zs(h)?y=h:Zs(m)&&(y=m),super(u,b,w,E,y),super.subscribeToContextEvents(o),!ft(a)){const _=a.getTransactionMiddleware();ft(_)||super.setTransactionMiddleware(_)}}}const a=o.use(Aw);this.eth=Object.assign(a,{ens:o.use(p9,xv.main),Iban:Nn,net:o.use(uD),personal:o.use(m9),Contract:s,abi:nue,accounts:i})}}gs.version=iue.version;gs.utils=kB;gs.requestEIP6963Providers=sue;gs.onNewProviderDiscovered=aue;gs.modules={Web3Eth:Aw,Iban:Nn,Net:uD,ENS:p9,Personal:m9};let Vg;if(window.ethereum){Vg=new gs(window.ethereum);try{window.ethereum.request({method:"eth_requestAccounts"})}catch(t){console.error(t),console.error("Acceso denegado a la cuenta del usuario")}}else window.web3?Vg=new gs(window.web3.currentProvider):(console.log("No se encontr un proveedor de Web3. Instala MetaMask."),Vg=new gs);const lue=Vg,cue="0x3C830CE46E13331d576Dd1DD1E7ec8B0c28BFbAB",R5=async()=>{const t=pJ;return new lue.eth.Contract(t,cue)},uue=()=>{const t=z6(),[e,n]=Z.useState(Tn.success),[r,i]=Z.useState(new Map),[o,s]=Z.useState(!1),[a,l]=Z.useState(Tn.success),[u,d]=Z.useState(""),{register:h,handleSubmit:m,formState:{errors:g}}=CG(),{configureNetwork:b}=FN(),[w,E]=Z.useState(""),[y,_]=Z.useState([]),x=()=>{try{t(iN("Inicio")),P()}catch(L){sa.error(L.message)}},P=async()=>{try{n(Tn.loading),await b({name:"Scroll",chainId:"534351",chainIdHex:"0x8274f",rpcUrl:["https://sepolia-rpc.scroll.io"],rpcBlockExplorerUrls:["https://sepolia.scrollscan.com"]});const L=await hJ.getAll();i(L??new Map),console.log(r);const j=await(await R5()).methods.getAllLoanGroups().call();n(Tn.success),_(j??[]),console.log(y),console.log(e);const G=localStorage.getItem(Sd)??"";E(G)}catch(L){sa.error(L.message)}};Z.useEffect(()=>{x()},[]);const M=async L=>{try{l(Tn.loading),await b({name:"Scroll",chainId:"534351",chainIdHex:"0x8274f",rpcUrl:["https://sepolia-rpc.scroll.io"],rpcBlockExplorerUrls:["https://sepolia.scrollscan.com"]});const K=await R5();console.log("Contrato:",K),console.log("address user :",w);const j=gs.utils.toWei(L.amount,"ether"),G=gs.utils.toWei(L.limitAmounts,"ether"),V=["0xb1a712fE0fAe891b6CE0f65E39cc8129e9c70E3a","0x5cFaACEC0D149D090C8744E1458f403D78520112"];await K.methods.createLoanGroup(V,j,G).send({from:w}).on("transactionHash",W=>console.log("TX Hash:",W)).on("receipt",W=>console.log("Mined:",W)).on("error",W=>console.error("Error:",W)),l(Tn.success)}catch(K){l(Tn.error),d(K.toString())}};return pe.jsxs(pe.Fragment,{children:[pe.jsx(DN,{position:"top-center",reverseOrder:!1}),pe.jsxs("div",{className:"h-full w-full flex flex-col items-end",children:[pe.jsx("div",{className:"w-full",children:pe.jsx("span",{className:"text-primary font-bold text-2xl",children:"Hola, de nuevo Usuario"})}),pe.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 rounded-lg p-2 my-3",children:[pe.jsxs("div",{className:"cursor-pointer flex flex-col justify-center items-center p-5 w-[300px] h-[120px] bg-purple-300 rounded-2xl",children:[pe.jsx(qP,{className:"text-onBackground text-5xl mb-3"}),pe.jsx("span",{className:"font-bold text-onBackground font-2xl",children:"Fondear prestamo"})]}),pe.jsxs("div",{onClick:()=>s(!0),className:" cursor-pointer flex flex-col justify-center items-center p-5 w-[300px] h-[120px] bg-blue-300 rounded-2xl",children:[pe.jsx(qP,{className:"text-onBackground text-5xl  mb-3"}),pe.jsx("span",{className:"font-bold text-onBackground font-2xl",children:"Solicitar prestamo"})]})]})]}),o&&pe.jsx(dJ,{statusModal:a,messageError:u,cancelButton:!1,onCancelAction:()=>s(!1),onReintent:()=>l(Tn.success),title:"Crear grupo para prestamo",children:pe.jsxs("form",{className:"",onSubmit:m(M),children:[pe.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-1 gap-4 rounded-lg p-2 my-3",children:pe.jsx(OE,{label:"Direcciones de los miembros",name:"addressStr",placeholder:"separadas por ';': address;address",error:g.addressStr,register:h("addressStr",{required:{value:!0,message:""}})})}),pe.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-2 rounded-lg p-2 my-3",children:[pe.jsx(OE,{label:"Monto de prestamo",name:"amount",step:"0.000001",type:"number",error:g.amount,register:h("amount",{required:{value:!0,message:""},min:{value:.001,message:""}})}),pe.jsx(OE,{label:"Meses a pagar",name:"limitAmounts",type:"number",error:g.limitAmounts,register:h("limitAmounts",{required:{value:!0,message:""},min:{value:1,message:""},maxLength:{value:36,message:""}})})]}),pe.jsx("div",{children:pe.jsx(UN,{type:"submit",children:"Guardar"})})]})})]})},due=jK([{path:oa.initPage,element:pe.jsx(nG,{}),children:[{path:oa.initPage,element:pe.jsx(uue,{})},{path:oa.loans,element:pe.jsx(iG,{})}]}]);function fue(){return pe.jsx(ZK,{router:due})}c7.createRoot(document.getElementById("root")).render(pe.jsx(ZH,{store:VV,children:pe.jsx(OH,{sdkOptions:{dappMetadata:{name:"BlockPrest",url:""},infuraAPIKey:BH,preferDesktop:!0,checkInstallationImmediately:!0,extensionOnly:!0},children:pe.jsx(fue,{})})}))});export default hue();
